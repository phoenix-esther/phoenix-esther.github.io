<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>Java IO èƒŒæ™¯ä»‹ç» | -_- !</title><meta name="description" content="good night !">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-f4247c06.css" as="style"><link rel="stylesheet" href="/assets/style-f4247c06.css">
    <link rel="modulepreload" href="/assets/app-9aa256ea.js"><link rel="modulepreload" href="/assets/java-io.html-7f9ff9da.js"><link rel="modulepreload" href="/assets/java-io.html-0e2cf5e0.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/assets/index.html-130ecd90.js" as="script"><link rel="prefetch" href="/assets/database-overview.html-03717758.js" as="script"><link rel="prefetch" href="/assets/new-concept-2.html-4471fd4d.js" as="script"><link rel="prefetch" href="/assets/java-overview.html-49f1be9c.js" as="script"><link rel="prefetch" href="/assets/middleware-overview.html-be4fdd51.js" as="script"><link rel="prefetch" href="/assets/quality-overview.html-a8e9bda4.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-overview.html-eb7abca7.js" as="script"><link rel="prefetch" href="/assets/gitbook.html-f2319ef4.js" as="script"><link rel="prefetch" href="/assets/tools-overview.html-cf0e5bf6.js" as="script"><link rel="prefetch" href="/assets/mongo.html-2ab52e79.js" as="script"><link rel="prefetch" href="/assets/mysql-advance.html-b13e5f8a.js" as="script"><link rel="prefetch" href="/assets/mysql-apply.html-a6b2d1c2.js" as="script"><link rel="prefetch" href="/assets/mysql-base.html-3cf280af.js" as="script"><link rel="prefetch" href="/assets/mysql-devops.html-f2c73032.js" as="script"><link rel="prefetch" href="/assets/redis-action.html-a3045ac9.js" as="script"><link rel="prefetch" href="/assets/redis-base.html-65a1be1c.js" as="script"><link rel="prefetch" href="/assets/redis-cluster.html-dd5a3b3e.js" as="script"><link rel="prefetch" href="/assets/redis-overview.html-4a3dba49.js" as="script"><link rel="prefetch" href="/assets/java-annotation.html-ef20db56.js" as="script"><link rel="prefetch" href="/assets/java-base.html-ed910b21.js" as="script"><link rel="prefetch" href="/assets/java-enum.html-afe8aeb1.js" as="script"><link rel="prefetch" href="/assets/java-reflect.html-0178e6e8.js" as="script"><link rel="prefetch" href="/assets/java-regex.html-ea5302f5.js" as="script"><link rel="prefetch" href="/assets/java-sql.html-f3768bbb.js" as="script"><link rel="prefetch" href="/assets/java-time.html-2c855f9e.js" as="script"><link rel="prefetch" href="/assets/java-version-feature.html-0514c3a5.js" as="script"><link rel="prefetch" href="/assets/java-collection-list.html-fbfca1ef.js" as="script"><link rel="prefetch" href="/assets/java-collection-map.html-15307947.js" as="script"><link rel="prefetch" href="/assets/heima-concurrent-base.html-764658bc.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-base.html-527f93a9.js" as="script"><link rel="prefetch" href="/assets/Java-concurrent-container.html-9e302a0b.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-interview.html-bbc0a621.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-lock.html-41f5cb73.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-pool.html-05c10061.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-tools.html-01a740a1.js" as="script"><link rel="prefetch" href="/assets/java-bio.html-ee55c8f8.js" as="script"><link rel="prefetch" href="/assets/java-nio.html-46b166f9.js" as="script"><link rel="prefetch" href="/assets/java-memory-model.html-7958112b.js" as="script"><link rel="prefetch" href="/assets/jvm-class-file-structure.html-c097e686.js" as="script"><link rel="prefetch" href="/assets/jvm-class-loader.html-d0382e33.js" as="script"><link rel="prefetch" href="/assets/jvm-garbage-collection.html-ad2dc850.js" as="script"><link rel="prefetch" href="/assets/jvm-memory-structure.html-e31bda30.js" as="script"><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-eda595c7.js" as="script"><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-d0f59301.js" as="script"><link rel="prefetch" href="/assets/java-servlet.html-654d0068.js" as="script"><link rel="prefetch" href="/assets/java-lambda.html-c21b5e3b.js" as="script"><link rel="prefetch" href="/assets/java-stream.html-797890ef.js" as="script"><link rel="prefetch" href="/assets/HikariCP-base.html-ec5c9222.js" as="script"><link rel="prefetch" href="/assets/HikariCP-source.html-71542b59.js" as="script"><link rel="prefetch" href="/assets/jackson-overview.html-15f61ae4.js" as="script"><link rel="prefetch" href="/assets/kafka-broker.html-f3939976.js" as="script"><link rel="prefetch" href="/assets/kafka-consumer.html-f5b2d049.js" as="script"><link rel="prefetch" href="/assets/kafka-old.html-18104567.js" as="script"><link rel="prefetch" href="/assets/kafka-overview.html-0029d53e.js" as="script"><link rel="prefetch" href="/assets/kafka-producer.html-94380090.js" as="script"><link rel="prefetch" href="/assets/spring-kafka.html-bc75ec45.js" as="script"><link rel="prefetch" href="/assets/log-framework.html-1135605f.js" as="script"><link rel="prefetch" href="/assets/1.Hello World.html-44c17b24.js" as="script"><link rel="prefetch" href="/assets/2.Global Config.html-c6cf8642.js" as="script"><link rel="prefetch" href="/assets/mybatis-plus.html-47dc6415.js" as="script"><link rel="prefetch" href="/assets/index.html-91838e99.js" as="script"><link rel="prefetch" href="/assets/nginx.html-482342f3.js" as="script"><link rel="prefetch" href="/assets/sharding-sphere.html-5419590f.js" as="script"><link rel="prefetch" href="/assets/data-structure-dynamic.html-4f7b0965.js" as="script"><link rel="prefetch" href="/assets/data-structure-list.html-a268df29.js" as="script"><link rel="prefetch" href="/assets/data-structure-overview.html-85d0b05a.js" as="script"><link rel="prefetch" href="/assets/data-structure-tree.html-6f24b217.js" as="script"><link rel="prefetch" href="/assets/shiro-overview.html-e42cf658.js" as="script"><link rel="prefetch" href="/assets/tomcat.html-eb4a9dda.js" as="script"><link rel="prefetch" href="/assets/xxl-job.html-134d207a.js" as="script"><link rel="prefetch" href="/assets/design-adapter.html-3e892dc7.js" as="script"><link rel="prefetch" href="/assets/design-bridge.html-91b363b8.js" as="script"><link rel="prefetch" href="/assets/design-builder.html-6fd2408c.js" as="script"><link rel="prefetch" href="/assets/design-chain.html-73c4f586.js" as="script"><link rel="prefetch" href="/assets/design-command.html-d6dfccee.js" as="script"><link rel="prefetch" href="/assets/design-composite.html-057a7bcf.js" as="script"><link rel="prefetch" href="/assets/design-decorator.html-1955d9ac.js" as="script"><link rel="prefetch" href="/assets/design-facade.html-c34c2259.js" as="script"><link rel="prefetch" href="/assets/design-factory.html-89999af1.js" as="script"><link rel="prefetch" href="/assets/design-flyweight.html-f4f2afe1.js" as="script"><link rel="prefetch" href="/assets/design-interpreter.html-982ac126.js" as="script"><link rel="prefetch" href="/assets/design-iterator.html-59b9d18b.js" as="script"><link rel="prefetch" href="/assets/design-mediator.html-a73e3179.js" as="script"><link rel="prefetch" href="/assets/design-memento.html-495efbd1.js" as="script"><link rel="prefetch" href="/assets/design-observer.html-fbadf9f5.js" as="script"><link rel="prefetch" href="/assets/design-overview.html-fb49535c.js" as="script"><link rel="prefetch" href="/assets/design-prototype.html-5e661e49.js" as="script"><link rel="prefetch" href="/assets/design-proxy.html-c743cc9c.js" as="script"><link rel="prefetch" href="/assets/design-singleton.html-a594ad7a.js" as="script"><link rel="prefetch" href="/assets/design-state.html-b91f3529.js" as="script"><link rel="prefetch" href="/assets/design-strategy.html-586d3ac2.js" as="script"><link rel="prefetch" href="/assets/design-template.html-12aa47cf.js" as="script"><link rel="prefetch" href="/assets/design-visitor.html-51d45c95.js" as="script"><link rel="prefetch" href="/assets/docker.html-2f412609.js" as="script"><link rel="prefetch" href="/assets/linux-command.html-db80ac58.js" as="script"><link rel="prefetch" href="/assets/linux-core.html-3f065eb0.js" as="script"><link rel="prefetch" href="/assets/linux-overview.html-7f61946a.js" as="script"><link rel="prefetch" href="/assets/temp.html-733f02e6.js" as="script"><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-2903c1b6.js" as="script"><link rel="prefetch" href="/assets/encoding.html-3b631fc3.js" as="script"><link rel="prefetch" href="/assets/encryption-algorithm.html-bf387256.js" as="script"><link rel="prefetch" href="/assets/network.html-279991aa.js" as="script"><link rel="prefetch" href="/assets/spring-batch.html-7466d243.js" as="script"><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-a46b20f9.js" as="script"><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-d4e7a5e5.js" as="script"><link rel="prefetch" href="/assets/spring-framework-overview.html-49552513.js" as="script"><link rel="prefetch" href="/assets/spring-source-overview.html-3ac2c8f4.js" as="script"><link rel="prefetch" href="/assets/spring-boot-condition.html-f38f1a16.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-commons.html-b2df0b2e.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-gateway.html-79d8ca10.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-182fff59.js" as="script"><link rel="prefetch" href="/assets/cloud-openfeign-action.html-6173210d.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-9dd99fbf.js" as="script"><link rel="prefetch" href="/assets/nacos-client-discovery.html-43257632.js" as="script"><link rel="prefetch" href="/assets/nacos-naming-source-service-register.html-f2d19ed3.js" as="script"><link rel="prefetch" href="/assets/nacos-overview.html-d85018d2.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-d8a62676.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-f62e5a6b.js" as="script"><link rel="prefetch" href="/assets/git.html-476f511a.js" as="script"><link rel="prefetch" href="/assets/sentinel-source.html-e706b7a6.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-sentinel.html-031a7566.js" as="script"><link rel="prefetch" href="/assets/gitlab.html-af9cead7.js" as="script"><link rel="prefetch" href="/assets/junit4.html-7674a247.js" as="script"><link rel="prefetch" href="/assets/junit5.html-5d65839e.js" as="script"><link rel="prefetch" href="/assets/maven.html-be6f6316.js" as="script"><link rel="prefetch" href="/assets/reactor.html-b7f3a608.js" as="script"><link rel="prefetch" href="/assets/1.tcp-id-model.html-763c065d.js" as="script"><link rel="prefetch" href="/assets/2.what_happen_url.html-ed893ab5.js" as="script"><link rel="prefetch" href="/assets/3.how_os_deal_network_package.html-003c9378.js" as="script"><link rel="prefetch" href="/assets/1.http_interview.html-81e5ff34.js" as="script"><link rel="prefetch" href="/assets/2.http_optimize.html-c31dc84d.js" as="script"><link rel="prefetch" href="/assets/3_https_rsa.html-d8314292.js" as="script"><link rel="prefetch" href="/assets/4_https_ecdhe.html-5333ed6a.js" as="script"><link rel="prefetch" href="/assets/5_https_optimize.html-1b5cb67c.js" as="script"><link rel="prefetch" href="/assets/6_http2.html-f5c4545f.js" as="script"><link rel="prefetch" href="/assets/7_http3.html-22194a12.js" as="script"><link rel="prefetch" href="/assets/1_tcp_interview.html-80022c5b.js" as="script"><link rel="prefetch" href="/assets/2_tcp_feature.html-a38fb885.js" as="script"><link rel="prefetch" href="/assets/3_tcp_tcpdump.html-7fa54232.js" as="script"><link rel="prefetch" href="/assets/1_ip_base.html-0a16f0d2.js" as="script"><link rel="prefetch" href="/assets/2_ping.html-31b5dbb5.js" as="script"><link rel="prefetch" href="/assets/3_ping_lo.html-4c54a1d5.js" as="script"><link rel="prefetch" href="/assets/1.how-cpu-run.html-230d707d.js" as="script"><link rel="prefetch" href="/assets/2.storage.html-189910cd.js" as="script"><link rel="prefetch" href="/assets/3.how-make-cpu-run-faster.html-4051d2c2.js" as="script"><link rel="prefetch" href="/assets/4.cpu-mesi.html-07cf201e.js" as="script"><link rel="prefetch" href="/assets/5.how-cup-deal-task.html-0e3ee3df.js" as="script"><link rel="prefetch" href="/assets/6.soft-interrupt.html-1bea4976.js" as="script"><link rel="prefetch" href="/assets/7.float.html-92f8ff81.js" as="script"><link rel="prefetch" href="/assets/linux-vs-windows.html-d0be38b1.js" as="script"><link rel="prefetch" href="/assets/1.vmem.html-b282b546.js" as="script"><link rel="prefetch" href="/assets/2.malloc.html-350861f0.js" as="script"><link rel="prefetch" href="/assets/3.mem-reclaim.html-ee770ad0.js" as="script"><link rel="prefetch" href="/assets/4.alloc-mem.html-541cad7b.js" as="script"><link rel="prefetch" href="/assets/5.cache-lru.html-6e272aa2.js" as="script"><link rel="prefetch" href="/assets/6.linux-mem.html-7d761356.js" as="script"><link rel="prefetch" href="/assets/7.linux-mem-2.html-25dc77c0.js" as="script"><link rel="prefetch" href="/assets/spring-collection-annotation.html-7395ab82.js" as="script"><link rel="prefetch" href="/assets/application-context.html-8ef65b1e.js" as="script"><link rel="prefetch" href="/assets/bean-factory-post-processor.html-a2e97494.js" as="script"><link rel="prefetch" href="/assets/bean-factory.html-982a8ae7.js" as="script"><link rel="prefetch" href="/assets/bean-post-processor.html-a79c4714.js" as="script"><link rel="prefetch" href="/assets/i18n-and-event.html-bad25ca9.js" as="script"><link rel="prefetch" href="/assets/package-scan.html-3652f543.js" as="script"><link rel="prefetch" href="/assets/spring-bean-create.html-a1f3b825.js" as="script"><link rel="prefetch" href="/assets/starting-finished.html-20e89aec.js" as="script"><link rel="prefetch" href="/assets/starting-overview.html-9a415d8c.js" as="script"><link rel="prefetch" href="/assets/starting-prepare.html-f22dce60.js" as="script"><link rel="prefetch" href="/assets/starting-summary.html-f0b9950a.js" as="script"><link rel="prefetch" href="/assets/spring-source-web-init.html-7095a9cc.js" as="script"><link rel="prefetch" href="/assets/spring-source-web-listener.html-8020b96c.js" as="script"><link rel="prefetch" href="/assets/404.html-f04ced3e.js" as="script"><link rel="prefetch" href="/assets/index.html-79ea5b2c.js" as="script"><link rel="prefetch" href="/assets/index.html-c2745466.js" as="script"><link rel="prefetch" href="/assets/index.html-e7a2b372.js" as="script"><link rel="prefetch" href="/assets/index.html-c7a0896e.js" as="script"><link rel="prefetch" href="/assets/index.html-44e4fbd1.js" as="script"><link rel="prefetch" href="/assets/index.html-deb73f95.js" as="script"><link rel="prefetch" href="/assets/index.html-9923d923.js" as="script"><link rel="prefetch" href="/assets/index.html-f8852d02.js" as="script"><link rel="prefetch" href="/assets/index.html-ebc6e775.js" as="script"><link rel="prefetch" href="/assets/index.html-5391a96f.js" as="script"><link rel="prefetch" href="/assets/index.html-7f9a590b.js" as="script"><link rel="prefetch" href="/assets/index.html-bdfce464.js" as="script"><link rel="prefetch" href="/assets/index.html-7bc2e619.js" as="script"><link rel="prefetch" href="/assets/index.html-19a53cb3.js" as="script"><link rel="prefetch" href="/assets/index.html-2dbf58c9.js" as="script"><link rel="prefetch" href="/assets/index.html-5135c839.js" as="script"><link rel="prefetch" href="/assets/index.html-493839dd.js" as="script"><link rel="prefetch" href="/assets/index.html-ceb8d736.js" as="script"><link rel="prefetch" href="/assets/index.html-e7623640.js" as="script"><link rel="prefetch" href="/assets/index.html-09445423.js" as="script"><link rel="prefetch" href="/assets/index.html-4228b788.js" as="script"><link rel="prefetch" href="/assets/index.html-ae4432a1.js" as="script"><link rel="prefetch" href="/assets/index.html-db047aee.js" as="script"><link rel="prefetch" href="/assets/index.html-6afc1b6b.js" as="script"><link rel="prefetch" href="/assets/index.html-36ab6168.js" as="script"><link rel="prefetch" href="/assets/index.html-844edecf.js" as="script"><link rel="prefetch" href="/assets/index.html-0bee4d7c.js" as="script"><link rel="prefetch" href="/assets/index.html-e48a03aa.js" as="script"><link rel="prefetch" href="/assets/index.html-1bcb9a21.js" as="script"><link rel="prefetch" href="/assets/index.html-6bad5551.js" as="script"><link rel="prefetch" href="/assets/index.html-b674839b.js" as="script"><link rel="prefetch" href="/assets/index.html-a2aeccdb.js" as="script"><link rel="prefetch" href="/assets/index.html-d2431a2d.js" as="script"><link rel="prefetch" href="/assets/index.html-8196e289.js" as="script"><link rel="prefetch" href="/assets/index.html-915f74ea.js" as="script"><link rel="prefetch" href="/assets/index.html-83711a9e.js" as="script"><link rel="prefetch" href="/assets/index.html-9df5b5ad.js" as="script"><link rel="prefetch" href="/assets/index.html-57c02b1b.js" as="script"><link rel="prefetch" href="/assets/index.html-10287dda.js" as="script"><link rel="prefetch" href="/assets/index.html-63a7add0.js" as="script"><link rel="prefetch" href="/assets/index.html-c84f755d.js" as="script"><link rel="prefetch" href="/assets/index.html-2e53f4cf.js" as="script"><link rel="prefetch" href="/assets/index.html-df942fbe.js" as="script"><link rel="prefetch" href="/assets/index.html-aa4a854c.js" as="script"><link rel="prefetch" href="/assets/index.html-420a9f57.js" as="script"><link rel="prefetch" href="/assets/index.html-27efb3f0.js" as="script"><link rel="prefetch" href="/assets/index.html-ca596762.js" as="script"><link rel="prefetch" href="/assets/index.html-9ba7568f.js" as="script"><link rel="prefetch" href="/assets/index.html-385adf3b.js" as="script"><link rel="prefetch" href="/assets/index.html-95b73732.js" as="script"><link rel="prefetch" href="/assets/index.html-74bd633c.js" as="script"><link rel="prefetch" href="/assets/index.html-b480d660.js" as="script"><link rel="prefetch" href="/assets/index.html-9b56ea57.js" as="script"><link rel="prefetch" href="/assets/index.html-2cc6561e.js" as="script"><link rel="prefetch" href="/assets/index.html-5e502638.js" as="script"><link rel="prefetch" href="/assets/index.html-2cbc0496.js" as="script"><link rel="prefetch" href="/assets/index.html-60de7f02.js" as="script"><link rel="prefetch" href="/assets/index.html-c6491f7f.js" as="script"><link rel="prefetch" href="/assets/index.html-cd02df7a.js" as="script"><link rel="prefetch" href="/assets/index.html-7cb87159.js" as="script"><link rel="prefetch" href="/assets/index.html-3454e09f.js" as="script"><link rel="prefetch" href="/assets/index.html-91025ccb.js" as="script"><link rel="prefetch" href="/assets/index.html-5477af0e.js" as="script"><link rel="prefetch" href="/assets/index.html-0a65ea49.js" as="script"><link rel="prefetch" href="/assets/index.html-88930a72.js" as="script"><link rel="prefetch" href="/assets/index.html-19de02d9.js" as="script"><link rel="prefetch" href="/assets/index.html-2e547c56.js" as="script"><link rel="prefetch" href="/assets/index.html-71fc6e23.js" as="script"><link rel="prefetch" href="/assets/index.html-b8bdf50b.js" as="script"><link rel="prefetch" href="/assets/index.html-982f8e31.js" as="script"><link rel="prefetch" href="/assets/index.html-4fe1b55c.js" as="script"><link rel="prefetch" href="/assets/index.html-a680cb33.js" as="script"><link rel="prefetch" href="/assets/index.html-148fdd8d.js" as="script"><link rel="prefetch" href="/assets/index.html-e50ac7ec.js" as="script"><link rel="prefetch" href="/assets/index.html-e31220f1.js" as="script"><link rel="prefetch" href="/assets/index.html-66f2582a.js" as="script"><link rel="prefetch" href="/assets/database-overview.html-81bf24af.js" as="script"><link rel="prefetch" href="/assets/new-concept-2.html-ff88e3ae.js" as="script"><link rel="prefetch" href="/assets/java-overview.html-d0b73528.js" as="script"><link rel="prefetch" href="/assets/middleware-overview.html-70e35558.js" as="script"><link rel="prefetch" href="/assets/quality-overview.html-c9aab1ec.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-overview.html-74916449.js" as="script"><link rel="prefetch" href="/assets/gitbook.html-acdf5e93.js" as="script"><link rel="prefetch" href="/assets/tools-overview.html-f1afa529.js" as="script"><link rel="prefetch" href="/assets/mongo.html-a86d5a53.js" as="script"><link rel="prefetch" href="/assets/mysql-advance.html-a3921c1d.js" as="script"><link rel="prefetch" href="/assets/mysql-apply.html-3175b849.js" as="script"><link rel="prefetch" href="/assets/mysql-base.html-95c718f9.js" as="script"><link rel="prefetch" href="/assets/mysql-devops.html-21d35d02.js" as="script"><link rel="prefetch" href="/assets/redis-action.html-418d5ab2.js" as="script"><link rel="prefetch" href="/assets/redis-base.html-da98e929.js" as="script"><link rel="prefetch" href="/assets/redis-cluster.html-9dcb005a.js" as="script"><link rel="prefetch" href="/assets/redis-overview.html-b28d9cb7.js" as="script"><link rel="prefetch" href="/assets/java-annotation.html-30013231.js" as="script"><link rel="prefetch" href="/assets/java-base.html-45dd8871.js" as="script"><link rel="prefetch" href="/assets/java-enum.html-87cc3275.js" as="script"><link rel="prefetch" href="/assets/java-reflect.html-87ed91ce.js" as="script"><link rel="prefetch" href="/assets/java-regex.html-49dfa7ed.js" as="script"><link rel="prefetch" href="/assets/java-sql.html-cac00060.js" as="script"><link rel="prefetch" href="/assets/java-time.html-fdfe2ea1.js" as="script"><link rel="prefetch" href="/assets/java-version-feature.html-a868ac52.js" as="script"><link rel="prefetch" href="/assets/java-collection-list.html-b2030247.js" as="script"><link rel="prefetch" href="/assets/java-collection-map.html-c516a252.js" as="script"><link rel="prefetch" href="/assets/heima-concurrent-base.html-0d37e29a.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-base.html-8030155e.js" as="script"><link rel="prefetch" href="/assets/Java-concurrent-container.html-811f4aab.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-interview.html-c13ea47a.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-lock.html-8ce687e8.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-pool.html-c9f0f175.js" as="script"><link rel="prefetch" href="/assets/java-concurrent-tools.html-cce9bcca.js" as="script"><link rel="prefetch" href="/assets/java-bio.html-c75f1345.js" as="script"><link rel="prefetch" href="/assets/java-nio.html-934e8907.js" as="script"><link rel="prefetch" href="/assets/java-memory-model.html-263a2e85.js" as="script"><link rel="prefetch" href="/assets/jvm-class-file-structure.html-34c3bce9.js" as="script"><link rel="prefetch" href="/assets/jvm-class-loader.html-9185fd00.js" as="script"><link rel="prefetch" href="/assets/jvm-garbage-collection.html-7859578e.js" as="script"><link rel="prefetch" href="/assets/jvm-memory-structure.html-fe44534c.js" as="script"><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-4c5d2e30.js" as="script"><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-72c2eb98.js" as="script"><link rel="prefetch" href="/assets/java-servlet.html-94bdbc40.js" as="script"><link rel="prefetch" href="/assets/java-lambda.html-7174e34d.js" as="script"><link rel="prefetch" href="/assets/java-stream.html-0016d70b.js" as="script"><link rel="prefetch" href="/assets/HikariCP-base.html-61148ceb.js" as="script"><link rel="prefetch" href="/assets/HikariCP-source.html-4b401a26.js" as="script"><link rel="prefetch" href="/assets/jackson-overview.html-cd6a6a9d.js" as="script"><link rel="prefetch" href="/assets/kafka-broker.html-824fc781.js" as="script"><link rel="prefetch" href="/assets/kafka-consumer.html-acb94ec6.js" as="script"><link rel="prefetch" href="/assets/kafka-old.html-e508f49c.js" as="script"><link rel="prefetch" href="/assets/kafka-overview.html-e594f96f.js" as="script"><link rel="prefetch" href="/assets/kafka-producer.html-fc3214cf.js" as="script"><link rel="prefetch" href="/assets/spring-kafka.html-c37f0556.js" as="script"><link rel="prefetch" href="/assets/log-framework.html-3e5b2aea.js" as="script"><link rel="prefetch" href="/assets/1.Hello World.html-05f026e2.js" as="script"><link rel="prefetch" href="/assets/2.Global Config.html-f70c177c.js" as="script"><link rel="prefetch" href="/assets/mybatis-plus.html-411a764f.js" as="script"><link rel="prefetch" href="/assets/index.html-8eece89e.js" as="script"><link rel="prefetch" href="/assets/nginx.html-da20fd8e.js" as="script"><link rel="prefetch" href="/assets/sharding-sphere.html-78203d55.js" as="script"><link rel="prefetch" href="/assets/data-structure-dynamic.html-19bb7a14.js" as="script"><link rel="prefetch" href="/assets/data-structure-list.html-6dc538c5.js" as="script"><link rel="prefetch" href="/assets/data-structure-overview.html-4782ed36.js" as="script"><link rel="prefetch" href="/assets/data-structure-tree.html-8b761e52.js" as="script"><link rel="prefetch" href="/assets/shiro-overview.html-0b349d07.js" as="script"><link rel="prefetch" href="/assets/tomcat.html-1dadbec4.js" as="script"><link rel="prefetch" href="/assets/xxl-job.html-47bd0cc3.js" as="script"><link rel="prefetch" href="/assets/design-adapter.html-4db66971.js" as="script"><link rel="prefetch" href="/assets/design-bridge.html-c70e3526.js" as="script"><link rel="prefetch" href="/assets/design-builder.html-95262ea6.js" as="script"><link rel="prefetch" href="/assets/design-chain.html-8bff25bf.js" as="script"><link rel="prefetch" href="/assets/design-command.html-d7d2ffd7.js" as="script"><link rel="prefetch" href="/assets/design-composite.html-137b1bb3.js" as="script"><link rel="prefetch" href="/assets/design-decorator.html-56744b7a.js" as="script"><link rel="prefetch" href="/assets/design-facade.html-9f6d20c6.js" as="script"><link rel="prefetch" href="/assets/design-factory.html-f98890be.js" as="script"><link rel="prefetch" href="/assets/design-flyweight.html-19b297be.js" as="script"><link rel="prefetch" href="/assets/design-interpreter.html-1e85617c.js" as="script"><link rel="prefetch" href="/assets/design-iterator.html-6da75cee.js" as="script"><link rel="prefetch" href="/assets/design-mediator.html-c3901bcc.js" as="script"><link rel="prefetch" href="/assets/design-memento.html-33f18b31.js" as="script"><link rel="prefetch" href="/assets/design-observer.html-061ef3cc.js" as="script"><link rel="prefetch" href="/assets/design-overview.html-31bda9ae.js" as="script"><link rel="prefetch" href="/assets/design-prototype.html-e9f7590f.js" as="script"><link rel="prefetch" href="/assets/design-proxy.html-979ddc5a.js" as="script"><link rel="prefetch" href="/assets/design-singleton.html-7c329043.js" as="script"><link rel="prefetch" href="/assets/design-state.html-be475fa6.js" as="script"><link rel="prefetch" href="/assets/design-strategy.html-54993b2b.js" as="script"><link rel="prefetch" href="/assets/design-template.html-2890a82a.js" as="script"><link rel="prefetch" href="/assets/design-visitor.html-86d27f60.js" as="script"><link rel="prefetch" href="/assets/docker.html-348fe9d4.js" as="script"><link rel="prefetch" href="/assets/linux-command.html-afa2fdc0.js" as="script"><link rel="prefetch" href="/assets/linux-core.html-34afd11f.js" as="script"><link rel="prefetch" href="/assets/linux-overview.html-76e7efda.js" as="script"><link rel="prefetch" href="/assets/temp.html-555d9383.js" as="script"><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-4a0742d9.js" as="script"><link rel="prefetch" href="/assets/encoding.html-cbfd0d77.js" as="script"><link rel="prefetch" href="/assets/encryption-algorithm.html-8e07492a.js" as="script"><link rel="prefetch" href="/assets/network.html-44c0d77f.js" as="script"><link rel="prefetch" href="/assets/spring-batch.html-3ef72f7b.js" as="script"><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-98b0202d.js" as="script"><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-229400aa.js" as="script"><link rel="prefetch" href="/assets/spring-framework-overview.html-0bd1b3bd.js" as="script"><link rel="prefetch" href="/assets/spring-source-overview.html-bc3f8003.js" as="script"><link rel="prefetch" href="/assets/spring-boot-condition.html-6ff26285.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-commons.html-f0cbc043.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-gateway.html-aee90359.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-a9814120.js" as="script"><link rel="prefetch" href="/assets/cloud-openfeign-action.html-54387674.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-8f692d94.js" as="script"><link rel="prefetch" href="/assets/nacos-client-discovery.html-4e22e868.js" as="script"><link rel="prefetch" href="/assets/nacos-naming-source-service-register.html-46598061.js" as="script"><link rel="prefetch" href="/assets/nacos-overview.html-71fd26b0.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-e86d0416.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-f60b19e5.js" as="script"><link rel="prefetch" href="/assets/git.html-956c9cf1.js" as="script"><link rel="prefetch" href="/assets/sentinel-source.html-ff88b99f.js" as="script"><link rel="prefetch" href="/assets/spring-cloud-sentinel.html-8db3b8ca.js" as="script"><link rel="prefetch" href="/assets/gitlab.html-6b192049.js" as="script"><link rel="prefetch" href="/assets/junit4.html-c792240f.js" as="script"><link rel="prefetch" href="/assets/junit5.html-3727c3db.js" as="script"><link rel="prefetch" href="/assets/maven.html-e13c8f26.js" as="script"><link rel="prefetch" href="/assets/reactor.html-f0f4cd13.js" as="script"><link rel="prefetch" href="/assets/1.tcp-id-model.html-fbdc585c.js" as="script"><link rel="prefetch" href="/assets/2.what_happen_url.html-11ff9eab.js" as="script"><link rel="prefetch" href="/assets/3.how_os_deal_network_package.html-b92c6457.js" as="script"><link rel="prefetch" href="/assets/1.http_interview.html-f9516b19.js" as="script"><link rel="prefetch" href="/assets/2.http_optimize.html-c74a6f87.js" as="script"><link rel="prefetch" href="/assets/3_https_rsa.html-034f973b.js" as="script"><link rel="prefetch" href="/assets/4_https_ecdhe.html-b0a9c59f.js" as="script"><link rel="prefetch" href="/assets/5_https_optimize.html-fe06e481.js" as="script"><link rel="prefetch" href="/assets/6_http2.html-d305c873.js" as="script"><link rel="prefetch" href="/assets/7_http3.html-97b70a2a.js" as="script"><link rel="prefetch" href="/assets/1_tcp_interview.html-60729441.js" as="script"><link rel="prefetch" href="/assets/2_tcp_feature.html-25b828cf.js" as="script"><link rel="prefetch" href="/assets/3_tcp_tcpdump.html-5491f690.js" as="script"><link rel="prefetch" href="/assets/1_ip_base.html-d712d902.js" as="script"><link rel="prefetch" href="/assets/2_ping.html-eec452ed.js" as="script"><link rel="prefetch" href="/assets/3_ping_lo.html-8dcb5a9a.js" as="script"><link rel="prefetch" href="/assets/1.how-cpu-run.html-d99149b0.js" as="script"><link rel="prefetch" href="/assets/2.storage.html-774e3e4d.js" as="script"><link rel="prefetch" href="/assets/3.how-make-cpu-run-faster.html-8e014b54.js" as="script"><link rel="prefetch" href="/assets/4.cpu-mesi.html-7e5c37ae.js" as="script"><link rel="prefetch" href="/assets/5.how-cup-deal-task.html-b2f2d081.js" as="script"><link rel="prefetch" href="/assets/6.soft-interrupt.html-889975b4.js" as="script"><link rel="prefetch" href="/assets/7.float.html-bffa75ff.js" as="script"><link rel="prefetch" href="/assets/linux-vs-windows.html-915715df.js" as="script"><link rel="prefetch" href="/assets/1.vmem.html-4064416a.js" as="script"><link rel="prefetch" href="/assets/2.malloc.html-32197d01.js" as="script"><link rel="prefetch" href="/assets/3.mem-reclaim.html-6209f085.js" as="script"><link rel="prefetch" href="/assets/4.alloc-mem.html-911ee7b0.js" as="script"><link rel="prefetch" href="/assets/5.cache-lru.html-b747920f.js" as="script"><link rel="prefetch" href="/assets/6.linux-mem.html-80432afb.js" as="script"><link rel="prefetch" href="/assets/7.linux-mem-2.html-f3db7807.js" as="script"><link rel="prefetch" href="/assets/spring-collection-annotation.html-29798feb.js" as="script"><link rel="prefetch" href="/assets/application-context.html-9bee65ed.js" as="script"><link rel="prefetch" href="/assets/bean-factory-post-processor.html-f10ec0a6.js" as="script"><link rel="prefetch" href="/assets/bean-factory.html-842232a8.js" as="script"><link rel="prefetch" href="/assets/bean-post-processor.html-1368dfdc.js" as="script"><link rel="prefetch" href="/assets/i18n-and-event.html-8fdbd04c.js" as="script"><link rel="prefetch" href="/assets/package-scan.html-b58ae430.js" as="script"><link rel="prefetch" href="/assets/spring-bean-create.html-92e356c0.js" as="script"><link rel="prefetch" href="/assets/starting-finished.html-5e1a1000.js" as="script"><link rel="prefetch" href="/assets/starting-overview.html-c747f251.js" as="script"><link rel="prefetch" href="/assets/starting-prepare.html-de7f2f97.js" as="script"><link rel="prefetch" href="/assets/starting-summary.html-56702e3e.js" as="script"><link rel="prefetch" href="/assets/spring-source-web-init.html-7dc40dc5.js" as="script"><link rel="prefetch" href="/assets/spring-source-web-listener.html-3ab151a2.js" as="script"><link rel="prefetch" href="/assets/404.html-4482f428.js" as="script"><link rel="prefetch" href="/assets/index.html-087cd9cf.js" as="script"><link rel="prefetch" href="/assets/index.html-9e123f15.js" as="script"><link rel="prefetch" href="/assets/index.html-c8c0595b.js" as="script"><link rel="prefetch" href="/assets/index.html-3dec91e0.js" as="script"><link rel="prefetch" href="/assets/index.html-dac4fb5e.js" as="script"><link rel="prefetch" href="/assets/index.html-57ca67ca.js" as="script"><link rel="prefetch" href="/assets/index.html-47aa26a2.js" as="script"><link rel="prefetch" href="/assets/index.html-6228255c.js" as="script"><link rel="prefetch" href="/assets/index.html-e5821b2c.js" as="script"><link rel="prefetch" href="/assets/index.html-5b406c8c.js" as="script"><link rel="prefetch" href="/assets/index.html-69303c44.js" as="script"><link rel="prefetch" href="/assets/index.html-57908ff6.js" as="script"><link rel="prefetch" href="/assets/index.html-5bfef271.js" as="script"><link rel="prefetch" href="/assets/index.html-e812711e.js" as="script"><link rel="prefetch" href="/assets/index.html-0cd59e6c.js" as="script"><link rel="prefetch" href="/assets/index.html-af3557c8.js" as="script"><link rel="prefetch" href="/assets/index.html-400416c1.js" as="script"><link rel="prefetch" href="/assets/index.html-aeb21a5e.js" as="script"><link rel="prefetch" href="/assets/index.html-e603f649.js" as="script"><link rel="prefetch" href="/assets/index.html-8099f8b7.js" as="script"><link rel="prefetch" href="/assets/index.html-e657d222.js" as="script"><link rel="prefetch" href="/assets/index.html-b72e665b.js" as="script"><link rel="prefetch" href="/assets/index.html-8850e34b.js" as="script"><link rel="prefetch" href="/assets/index.html-1c0c2a2a.js" as="script"><link rel="prefetch" href="/assets/index.html-3a56156a.js" as="script"><link rel="prefetch" href="/assets/index.html-62180c4b.js" as="script"><link rel="prefetch" href="/assets/index.html-4dce3ab3.js" as="script"><link rel="prefetch" href="/assets/index.html-72c49b04.js" as="script"><link rel="prefetch" href="/assets/index.html-4c98ed7e.js" as="script"><link rel="prefetch" href="/assets/index.html-cfb35331.js" as="script"><link rel="prefetch" href="/assets/index.html-85c25e01.js" as="script"><link rel="prefetch" href="/assets/index.html-e9165360.js" as="script"><link rel="prefetch" href="/assets/index.html-c5c6ccd9.js" as="script"><link rel="prefetch" href="/assets/index.html-b1a95e7f.js" as="script"><link rel="prefetch" href="/assets/index.html-0aed9f44.js" as="script"><link rel="prefetch" href="/assets/index.html-6309b593.js" as="script"><link rel="prefetch" href="/assets/index.html-53f4ae61.js" as="script"><link rel="prefetch" href="/assets/index.html-be453128.js" as="script"><link rel="prefetch" href="/assets/index.html-b6d2e0cf.js" as="script"><link rel="prefetch" href="/assets/index.html-d96fb28a.js" as="script"><link rel="prefetch" href="/assets/index.html-0dd8fad8.js" as="script"><link rel="prefetch" href="/assets/index.html-a1eaa0a7.js" as="script"><link rel="prefetch" href="/assets/index.html-e51738f2.js" as="script"><link rel="prefetch" href="/assets/index.html-8c102982.js" as="script"><link rel="prefetch" href="/assets/index.html-1f9cdd35.js" as="script"><link rel="prefetch" href="/assets/index.html-63fbd907.js" as="script"><link rel="prefetch" href="/assets/index.html-3190c6a3.js" as="script"><link rel="prefetch" href="/assets/index.html-1aa7fee5.js" as="script"><link rel="prefetch" href="/assets/index.html-483697fa.js" as="script"><link rel="prefetch" href="/assets/index.html-ab65ac33.js" as="script"><link rel="prefetch" href="/assets/index.html-2d7a9565.js" as="script"><link rel="prefetch" href="/assets/index.html-b838c603.js" as="script"><link rel="prefetch" href="/assets/index.html-de3b7914.js" as="script"><link rel="prefetch" href="/assets/index.html-74fbbd3a.js" as="script"><link rel="prefetch" href="/assets/index.html-a7de50d0.js" as="script"><link rel="prefetch" href="/assets/index.html-b3af77c3.js" as="script"><link rel="prefetch" href="/assets/index.html-681a7978.js" as="script"><link rel="prefetch" href="/assets/index.html-4984d8c7.js" as="script"><link rel="prefetch" href="/assets/index.html-26accc77.js" as="script"><link rel="prefetch" href="/assets/index.html-183a4964.js" as="script"><link rel="prefetch" href="/assets/index.html-dfe1bab4.js" as="script"><link rel="prefetch" href="/assets/index.html-5cad09e8.js" as="script"><link rel="prefetch" href="/assets/index.html-74aefd26.js" as="script"><link rel="prefetch" href="/assets/index.html-65cf5278.js" as="script"><link rel="prefetch" href="/assets/index.html-e08b1bac.js" as="script"><link rel="prefetch" href="/assets/index.html-1a618372.js" as="script"><link rel="prefetch" href="/assets/index.html-63cba565.js" as="script"><link rel="prefetch" href="/assets/index.html-1d599a81.js" as="script"><link rel="prefetch" href="/assets/index.html-279180e7.js" as="script"><link rel="prefetch" href="/assets/index.html-69dbe9f0.js" as="script"><link rel="prefetch" href="/assets/index.html-e701b05c.js" as="script"><link rel="prefetch" href="/assets/index.html-cf8785e3.js" as="script"><link rel="prefetch" href="/assets/index.html-9eea119d.js" as="script"><link rel="prefetch" href="/assets/index.html-bd64f0b5.js" as="script"><link rel="prefetch" href="/assets/index.html-aecf24f6.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-a1726b7b.js" as="script"><link rel="prefetch" href="/assets/pageview-4c1e2df7.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><!----><!----><span class="vp-site-name">-_- !</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="Java ç¬”è®°" class="vp-link nav-link nav-link" href="/java/java-overview.html"><!---->Java ç¬”è®°<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="SpringFramwork" class="vp-link nav-link nav-link" href="/spring/spring-framework/spring-framework-overview.html"><!---->SpringFramwork<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Spring Cloud"><span class="title"><!---->Spring Cloud</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="Spring Cloud Overview" class="vp-link nav-link nav-link" href="/spring-cloud/spring-cloud-overview.html"><!---->Spring Cloud Overview<!----></a></li><li class="dropdown-item"><a aria-label="Spring Cloud Nacos" class="vp-link nav-link nav-link" href="/spring-cloud/spring-cloud-alibaba-nacos.html"><!---->Spring Cloud Nacos<!----></a></li><li class="dropdown-item"><a aria-label="Spring Cloud Sentinel" class="vp-link nav-link nav-link" href="/spring-cloud/spring-cloud-alibaba-sentinel.html"><!---->Spring Cloud Sentinel<!----></a></li><li class="dropdown-item"><a aria-label="Spring Cloud Seate" class="vp-link nav-link nav-link" href="/spring-cloud/spring-cloud-alibaba-seate.html"><!---->Spring Cloud Seate<!----></a></li><li class="dropdown-item"><a aria-label="Spring Cloud Ribbon" class="vp-link nav-link nav-link" href="/spring-cloud/spring-cloud-ribbon/spring-cloud-ribbon.html"><!---->Spring Cloud Ribbon<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a aria-label="æ•°æ®åº“" class="vp-link nav-link nav-link" href="/database/database-overview.html"><!---->æ•°æ®åº“<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="è‡ªæˆ‘ä¿®å…»" class="vp-link nav-link nav-link" href="/quality/quality-overview.html"><!---->è‡ªæˆ‘ä¿®å…»<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="ä¸­é—´ä»¶" class="vp-link nav-link nav-link" href="/middleware/middleware-overview.html"><!---->ä¸­é—´ä»¶<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="å·¥å…·åŒ…" class="vp-link nav-link nav-link" href="/tools/tools-overview.html"><!---->å·¥å…·åŒ…<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Java æ€»è§ˆ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/java/java-overview.html"><!---->Java æ€»è§ˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java åŸºç¡€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java 8 æ–°ç‰¹æ€§</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java é›†åˆ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java IO æ¨¡å‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java å¹¶å‘å…¥é—¨</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Java å¹¶å‘ç¼–ç¨‹</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">JVMæ¦‚è§ˆ</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Java IO èƒŒæ™¯ä»‹ç»</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-23T09:42:04.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 27 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT27M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#ä¸€ã€åŸºæœ¬æ¦‚å¿µ">ä¸€ã€åŸºæœ¬æ¦‚å¿µ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-1-ä»€ä¹ˆæ˜¯io">1.1 ä»€ä¹ˆæ˜¯IO</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-2-åŒæ­¥ä¸å¼‚æ­¥">1.2 åŒæ­¥ä¸å¼‚æ­¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-3-é˜»å¡ä¸éé˜»å¡">1.3 é˜»å¡ä¸éé˜»å¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-4-åŒæ­¥-å¼‚æ­¥ã€é˜»å¡-éé˜»å¡">1.4 åŒæ­¥&amp;å¼‚æ­¥ã€é˜»å¡&amp;éé˜»å¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-5-ç”¨æˆ·ç©ºé—´-å†…æ ¸ç©ºé—´">1.5 ç”¨æˆ·ç©ºé—´&amp;å†…æ ¸ç©ºé—´</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_1-6-ç”¨æˆ·æ€å’Œå†…æ ¸æ€è¿›ç¨‹åˆ‡æ¢">1.6 ç”¨æˆ·æ€å’Œå†…æ ¸æ€è¿›ç¨‹åˆ‡æ¢</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/#äºŒã€linux-çš„ç½‘ç»œioæ¨¡å‹">äºŒã€Linux çš„ç½‘ç»œIOæ¨¡å‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-1-ç½‘ç»œ-io-çš„å„ä¸ªå‘å±•é˜¶æ®µ">2.1 ç½‘ç»œ IO çš„å„ä¸ªå‘å±•é˜¶æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-2-ç½‘ç»œçš„ä¸¤ä¸ªé˜¶æ®µ">2.2 ç½‘ç»œçš„ä¸¤ä¸ªé˜¶æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-3-é˜»å¡-io-å’Œéé˜»å¡-io-çš„åŒºåˆ«">2.3 é˜»å¡ IO å’Œéé˜»å¡ IO çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-4-åŒæ­¥-io-å’Œå¼‚æ­¥-io-çš„åŒºåˆ«">2.4 åŒæ­¥ IO å’Œå¼‚æ­¥ IO çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-5-é˜»å¡ioæ¨¡å‹">2.5 é˜»å¡IOæ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-6-éé˜»å¡-ioæ¨¡å‹">2.6 éé˜»å¡ IOæ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-7-i-o-å¤šè·¯å¤ç”¨æ¨¡å‹">2.7 I/O å¤šè·¯å¤ç”¨æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-8-ä¿¡å·é©±åŠ¨çš„i-oå¤šè·¯å¤ç”¨">2.8 ä¿¡å·é©±åŠ¨çš„I/Oå¤šè·¯å¤ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-9-å¼‚æ­¥ioæ¨¡å‹">2.9 å¼‚æ­¥IOæ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/#_2-10-æ€»ç»“">2.10 æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="java-io-èƒŒæ™¯ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#java-io-èƒŒæ™¯ä»‹ç»" aria-hidden="true">#</a> Java IO èƒŒæ™¯ä»‹ç»</h1><h2 id="ä¸€ã€åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="_1-1-ä»€ä¹ˆæ˜¯io" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯io" aria-hidden="true">#</a> 1.1 ä»€ä¹ˆæ˜¯IO</h3><p>ä»€ä¹ˆæ˜¯IOï¼Ÿç»´åŸºç™¾ç§‘ä¸Šé¢æ˜¯è¿™æ ·è§£é‡Šçš„ï¼š</p><blockquote><p>I/Oï¼ˆè‹±è¯­ï¼šInput/Outputï¼‰ï¼Œå³è¾“å…¥ï¼è¾“å‡ºï¼Œé€šå¸¸æŒ‡æ•°æ®åœ¨å­˜å‚¨å™¨ï¼ˆå†…éƒ¨å’Œå¤–éƒ¨ï¼‰æˆ–å…¶ä»–å‘¨è¾¹è®¾å¤‡ä¹‹é—´çš„è¾“å…¥å’Œè¾“å‡ºï¼Œæ˜¯ä¿¡æ¯å¤„ç†ç³»ç»Ÿï¼ˆä¾‹å¦‚è®¡ç®—æœºï¼‰ä¸å¤–éƒ¨ä¸–ç•Œï¼ˆå¯èƒ½æ˜¯äººç±»æˆ–å¦ä¸€ä¿¡æ¯å¤„ç†ç³»ç»Ÿï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚è¾“å…¥æ˜¯ç³»ç»Ÿæ¥æ”¶çš„ä¿¡å·æˆ–æ•°æ®ï¼Œè¾“å‡ºåˆ™æ˜¯ä»å…¶å‘é€çš„ä¿¡å·æˆ–æ•°æ®ã€‚</p></blockquote><p>è¿™æ˜¯IOä¸€ä¸ªå®Œæ•´çš„å®šä¹‰ï¼Œä¸æ˜¯ç‰¹åˆ«å¥½ç†è§£ï¼Œè¦å˜æ¸…IOè¿™ä¸ªæ¦‚å¿µï¼Œæˆ‘ä»¬éœ€è¦ä»å¦‚ä¸‹ä¸¤ä¸ªè§†è§’æ¥ç†è§£å®ƒã€‚</p><h4 id="è®¡ç®—æœºè§†è§’ç†è§£io" tabindex="-1"><a class="header-anchor" href="#è®¡ç®—æœºè§†è§’ç†è§£io" aria-hidden="true">#</a> è®¡ç®—æœºè§†è§’ç†è§£IO</h4><p>å†¯â€¢è¯ºä¼Šæ›¼è®¡ç®—æœºçš„åŸºæœ¬æ€æƒ³ä¸­æœ‰æåˆ°è®¡ç®—æœºç¡¬ä»¶ç»„æˆåº”ä¸ºäº”å¤§éƒ¨åˆ†ï¼šæ§åˆ¶å™¨ï¼Œè¿ç®—å™¨ï¼Œå­˜å‚¨å™¨ï¼Œè¾“å…¥å’Œè¾“å‡ºã€‚å…¶ä¸­è¾“å…¥æ˜¯æŒ‡å°†æ•°æ®è¾“å…¥åˆ°è®¡ç®—æœºçš„è®¾å¤‡ï¼Œè¾“å‡ºæ˜¯æŒ‡ä»è®¡ç®—æœºä¸­è·å–æ•°æ®çš„è®¾å¤‡ã€‚å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œä»»ä½•æ¶‰åŠåˆ°è®¡ç®—æœºæ ¸å¿ƒï¼ˆCPUå’Œå†…å­˜ï¼‰ä¸å…¶ä»–è®¾å¤‡é—´çš„æ•°æ®è½¬ç§»çš„è¿‡ç¨‹å°±æ˜¯IOã€‚</p><p>IO å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œæœ‰ä¸¤å±‚æ„æ€ï¼š</p><ul><li>IO è®¾å¤‡ã€‚æ¯”å¦‚æˆ‘ä»¬æœ€å¸¸è§çš„æ‰“å°æœºã€é¼ æ ‡ã€é”®ç›˜</li><li>å¯¹IOè®¾å¤‡çš„æ•°æ®è¯»å†™</li></ul><h4 id="ç¨‹åºè§†è§’ç†è§£io" tabindex="-1"><a class="header-anchor" href="#ç¨‹åºè§†è§’ç†è§£io" aria-hidden="true">#</a> ç¨‹åºè§†è§’ç†è§£IO</h4><p>ç¨‹åºè§†è§’æˆ‘ä»¬å…³æ³¨çš„åˆ™æ˜¯åº”ç”¨ç¨‹åºæœ¬èº«ã€‚æˆ‘ä»¬çŸ¥é“åº”ç”¨ç¨‹åºåªæœ‰åŠ è½½åˆ°å†…å­˜ä¸­ä½œä¸ºä¸€ä¸ªè¿›ç¨‹æ‰èƒ½è¿è¡Œï¼Œå®ƒéœ€è¦æ—¶åˆ»ä¸è®¡ç®—æœºè¿›è¡Œæ•°æ®äº¤æ¢ï¼Œæ¯”å¦‚è¯»å†™ç£ç›˜ã€è¿œç¨‹è°ƒç”¨ã€è®¿é—®å†…å­˜ç­‰ç­‰ï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿä¸ºäº†èƒ½å¤Ÿæ­£å¸¸å¹³ç¨³åœ°è¿è¡Œä¸‹å»ï¼Œå®ƒæ˜¯ä¸ä¼šè¿è¡Œåº”ç”¨ç¨‹åºéšæ„è®¿é—®è®¡ç®—æœºç¡¬ä»¶éƒ¨åˆ†ï¼Œå¦‚å†…å­˜ã€ç¡¬ç›˜ã€ç½‘å¡ï¼Œåº”ç”¨ç¨‹åºå¿…é¡»é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„APIæ¥è®¿é—®ï¼Œä»¥è¾¾åˆ°å®‰å…¨çš„è®¿é—®æ§åˆ¶ã€‚æ‰€ä»¥åº”ç”¨ç¨‹åºå¦‚æœè¦è®¿é—®å†…æ ¸ç®¡ç†çš„IOï¼Œåˆ™å¿…é¡»é€šè¿‡æœ‰æ“ä½œç³»ç»Ÿæä¾›çš„APIæ¥é—´æ¥è®¿é—®ã€‚æ‰€ä»¥ IOå¯¹åº”åº”ç”¨ç¨‹åºè€Œè¨€ï¼Œå¼ºè°ƒçš„åˆ™æ˜¯ <strong>é€šè¿‡å‘å†…æ ¸å‘èµ·ç³»ç»Ÿè°ƒç”¨å®Œæˆå¯¹I/Oçš„é—´æ¥è®¿é—®</strong>ã€‚</p><p><img src="/assets/nio-202109211001-9631f62f.jpg" alt="img"></p><p>æ‰€ä»¥ï¼Œæ¢å¥è¯è¯´åº”ç”¨ç¨‹åºå‘èµ·ä¸€æ¬¡IOè®¿é—®æ˜¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µçš„ï¼š</p><ol><li><strong>IO è°ƒç”¨é˜¶æ®µ</strong>ï¼šåº”ç”¨ç¨‹åºå‘å†…æ ¸å‘èµ·ç³»ç»Ÿè°ƒç”¨ã€‚</li><li><strong>IOæ‰§è¡Œé˜¶æ®µ</strong>ï¼šå†…æ ¸æ‰§è¡ŒIOæ“ä½œå¹¶è¿”å›ã€‚ <ol><li>æ•°æ®å‡†å¤‡é˜¶æ®µï¼šå†…æ ¸ç­‰å¾…IOè®¾å¤‡å‡†å¤‡å¥½æ•°æ®</li><li>æ•°æ®æ‹·è´é˜¶æ®µï¼šå°†æ•°æ®ä»å†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ç¼“å†²åŒº</li></ol></li></ol><p><img src="/assets/nio-202109211002-d7b96a5b.jpg" alt="img"></p><h3 id="_1-2-åŒæ­¥ä¸å¼‚æ­¥" tabindex="-1"><a class="header-anchor" href="#_1-2-åŒæ­¥ä¸å¼‚æ­¥" aria-hidden="true">#</a> 1.2 åŒæ­¥ä¸å¼‚æ­¥</h3><p>ä»€ä¹ˆæ˜¯åŒæ­¥ä¸å¼‚æ­¥å‘¢ï¼Ÿç™¾åº¦ç™¾ç§‘æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š</p><blockquote><p>åŒæ­¥æŒ‡ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šéšæ—¶é—´å˜åŒ–çš„é‡åœ¨å˜åŒ–è¿‡ç¨‹ä¸­ä¿æŒä¸€å®šçš„ç›¸å¯¹å…³ç³»ã€‚å¼‚æ­¥ä¸åŒæ­¥ç›¸å¯¹ï¼ˆè¿™è§£é‡Šè®©æˆ‘æ— è¨€ç›¸å¯¹ï¼‰</p></blockquote><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®çš„æ˜¯**<code>åŒæ­¥ä¸å¼‚æ­¥é’ˆå¯¹çš„æ˜¯ä¸¤ä¸ªæˆ–è€…ä¸¤ä¸ªä»¥ä¸Šçš„äº‹ç‰©</code>**ã€‚</p><p>å¯¹äºåŒæ­¥è€Œè¨€ï¼Œä¸€ä¸ªä»»åŠ¡ï¼ˆè°ƒç”¨è€…ï¼‰çš„å®Œæˆéœ€è¦ä¾èµ–å¦ä¸€ä¸ªäººä»»åŠ¡ï¼ˆè¢«è°ƒç”¨è€…ï¼‰çš„å®Œæˆï¼Œåªæœ‰ç­‰å¾…è¢«ä¾èµ–çš„ä»»åŠ¡å®Œæˆï¼Œä¾èµ–çš„ä»»åŠ¡æ‰ä¼šç»§ç»­è¿›è¡Œï¼Œä¸¤è€…æ­¥è°ƒä¿æŒä¸€è‡´ã€‚</p><p>å¼‚æ­¥å‘¢ï¼Ÿä»»åŠ¡ä¸å®ƒä¾èµ–çš„ä»»åŠ¡æ²¡æœ‰å¿…ç„¶çš„è”ç³»ï¼Œå®ƒä¸éœ€è¦ç­‰å¾…å®ƒä¾èµ–çš„ä»»åŠ¡å®Œæˆï¼Œå®ƒåªéœ€è¦å‘ä¾èµ–ä»»åŠ¡å‘èµ·è°ƒç”¨å³å¯ï¼Œå‘Šè¯‰å®ƒä½ å¯ä»¥å¹²æ´»äº†ï¼Œè‡³äºä½ å•¥æ—¶å€™å¹²å®Œè·Ÿæˆ‘æ²¡å…³ç³»ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œ<code>åŒæ­¥å’Œå¼‚æ­¥çš„æœ¬è´¨åŒºåˆ«å°±åœ¨äºè°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…ä¹‹é—´ç»“æœæ¶ˆæ¯é€šçŸ¥æœºåˆ¶çš„ä¸åŒ</code>ã€‚</p><ul><li>åŒæ­¥ï¼šè°ƒç”¨è€…éœ€è¦ä¸€ç›´<code>ä¸»åŠ¨ç­‰å¾…</code>è¢«è°ƒç”¨è€…çš„ç»“æœã€‚</li><li>å¼‚æ­¥ï¼šè°ƒç”¨è€…è°ƒç”¨è¢«è°ƒç”¨è€…åï¼Œè°ƒç”¨è€…ä¸ä¼šç«‹åˆ»å¾—åˆ°ç»“æœï¼Œåœ¨è°ƒç”¨è€…å‘èµ·è°ƒç”¨åï¼Œè¢«è°ƒç”¨è€…é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æˆ–é€šè¿‡å›è°ƒå‡½æ•°ï¼Œè®©è°ƒç”¨è€…çŸ¥é“ç»“æœ</li></ul><p>æ‰€ä»¥ï¼ŒåŒæ­¥å’Œå¼‚æ­¥ä¸€ä¸ªæ˜¯ä¸»åŠ¨ç­‰å¾…ç»“æœï¼Œä¸€ä¸ªæ˜¯è¢«åŠ¨çŸ¥é“ç»“æœã€‚</p><p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šä¹°å¥¶èŒ¶ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼æ‹¿åˆ°æˆ‘ä»¬ä¹°çš„å¥¶èŒ¶</p><ul><li>é€‰æ‹©æ’é˜Ÿç­‰å¾…ã€‚è¿™ç§æ–¹å¼å°±æ˜¯åŒæ­¥ç­‰å¾…æ¶ˆæ¯é€šçŸ¥äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç›´åœ¨å§å°é¢å‰ç­‰ç€æˆ‘ä»¬çš„å¥¶èŒ¶</li><li>æ‰«ç ã€‚è¿™ç§æ–¹å¼ï¼Œä½ å¯ä»¥ä¸åœåœ°çœ‹æ‰‹æœºæ’å·æ˜¯å¦åˆ°ä½ äº†ï¼ˆçŠ¶æ€ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é‚£é‡Œç©æ‰‹æœºç­‰ç€æœåŠ¡å‘˜å–Š 88 å·ï¼Œå¥¶èŒ¶å¥½äº†ï¼ˆé€šçŸ¥ï¼‰ã€‚</li></ul><p>ä¸Šé¢æåˆ°å¼‚æ­¥è°ƒç”¨å¯ä»¥é€šè¿‡çŠ¶æ€ã€é€šçŸ¥æˆ–è€…å›è°ƒå‡½æ•°æ¥å‘ŠçŸ¥è°ƒç”¨è€…ã€‚</p><ul><li>çŠ¶æ€ï¼šè°ƒç”¨è€…éœ€è¦æ¯éš”ä¸€æ®µå‘è¢«è°ƒç”¨è€…å‘èµ·ä¸€ä¸ªçŠ¶æ€æŸ¥è¯¢è¯·æ±‚ã€‚è¿™ç§æ–¹å¼æ•ˆç‡è¾ƒä¸ºä½ä¸‹ã€‚ä¸€èˆ¬æˆ‘ä»¬åœ¨è°ƒç”¨æ”¯ä»˜æ¥å£çš„æ—¶å€™ï¼Œå¦‚æœæœåŠ¡æ–¹å‘ŠçŸ¥æ”¯ä»˜çŠ¶æ€æœªçŸ¥ï¼Œåˆ™æˆ‘ä»¬éœ€è¦æ¯éš”ä¸€æ®µæ—¶é—´å»æŸ¥è¯¢è¯¥ç¬”è®¢å•çš„æ”¯ä»˜çŠ¶æ€ã€‚è™½ç„¶æ•ˆç‡è¾ƒä¸ºä½ä¸‹ï¼Œä½†æ˜¯é è°±ã€‚</li><li>é€šçŸ¥ï¼šè¿™ç§æ–¹å¼ï¼Œè°ƒç”¨è€…ä¸éœ€è¦åšé¢å¤–çš„å·¥ä½œï¼Œä»–åªéœ€è¦ç­‰è¢«è°ƒç”¨è€…æŠŠç»“æœå‘Šè¯‰è°ƒç”¨è€…å³å¯ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼ä¹Ÿæœ‰ç‚¹ä¸æ˜¯é‚£ä¹ˆé è°±ï¼Œå®ƒåˆ°åº•å•¥æ—¶å€™è°ƒç”¨ï¼Œå¦‚æœä¸è°ƒç”¨æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™äº›éƒ½æ˜¯æˆ‘ä»¬éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚</li><li>å›è°ƒå‡½æ•°ï¼šå’Œé€šçŸ¥æœºåˆ¶å·®ä¸å¤šã€‚</li></ul><h3 id="_1-3-é˜»å¡ä¸éé˜»å¡" tabindex="-1"><a class="header-anchor" href="#_1-3-é˜»å¡ä¸éé˜»å¡" aria-hidden="true">#</a> 1.3 é˜»å¡ä¸éé˜»å¡</h3><p>ä¸Šé¢è§£é‡Šäº†ä»€ä¹ˆæ˜¯åŒæ­¥ä¸å¼‚æ­¥ï¼Œé‚£ä»€ä¹ˆæ˜¯é˜»å¡ä¸éé˜»å¡å‘¢ï¼Ÿ</p><blockquote><p><strong>æ‰€è°“é˜»å¡ï¼Œå°±æ˜¯æœ‰éšœç¢è€Œä¸èƒ½é€šè¡Œï¼Œæ— æ³•ç•…é€šã€‚</strong></p></blockquote><p>æ‰€ä»¥ï¼Œ<code>é˜»å¡å°±æ˜¯è°ƒç”¨ç»“æœè¿”å›ä¹‹å‰ï¼Œè¯¥çº¿ç¨‹ä¼šè¢«ä¸€ç›´æŒ‚èµ·ï¼Œä¸€ç›´ç­‰å¾…ç»“æœï¼Œä¸èƒ½ç»§ç»­ï¼Œå‡½æ•°åªæœ‰åœ¨å¾—åˆ°ç»“æœä¹‹åæ‰ä¼šè¿”å›</code>ã€‚</p><p>å¯èƒ½æœ‰å°ä¼™ä¼´ä¼šå°†é˜»å¡ä¸åŒæ­¥ç­‰åŒèµ·æ¥ï¼Œå› ä¸ºä»–ä»¬éƒ½æ˜¯å› ä¸ºç­‰å¾…æ‰§è¡Œç»“æœè€Œåœæ»ä¸å‰ï¼Œå…¶å®ä¸¤è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„ï¼š</p><ul><li>åŒæ­¥ï¼Œé’ˆå¯¹çš„æ˜¯ä¸¤ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ï¼ˆè°ƒç”¨è€…ï¼‰å› ä¸ºç­‰å¾…å¦ä¸€ä¸ªè¿›ç¨‹ï¼ˆè¢«è°ƒç”¨è€…ï¼‰çš„æ‰§è¡Œç»“æœè€Œåœæ»ä¸å‰ã€‚è€Œé˜»å¡åˆ™æ˜¯é’ˆå¯¹ä¸€ä¸ªï¼Œå®ƒæ˜¯å› ä¸ºè‡ªå·±æœ¬èº«å› ç­‰å¾…å½“å‰çº¿ç¨‹ä¸­æŸä¸ªæ‰§è¡Œç»“æœè€Œåœæ»ä¸å‰çš„ã€‚</li><li>å¯¹äºåŒæ­¥æ¥è¯´ï¼Œå½“å‰çº¿ç¨‹è¿˜æ˜¯å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œåªæ˜¯ä»é€»è¾‘ï¼ˆæ„Ÿå®˜ï¼‰æ¥è¯´å®ƒæ˜¯åœæ»ä¸å‰çš„ï¼Œå½“å‰çº¿ç¨‹å¯èƒ½è¿˜åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ã€‚è€Œé˜»å¡åˆ™ä¸åŒï¼Œå½“å‰çº¿ç¨‹æ˜¯è¢«æŒ‚èµ·äº†ï¼Œç›´æ¥è®©å‡ºäº† CPUã€‚</li></ul><p>éé˜»å¡åˆ™ä¸é˜»å¡æ¦‚å¿µç›¸å¯¹ï¼Œ<code>æŒ‡åœ¨ä¸èƒ½ç«‹å³å¾—åˆ°æ‰§è¡Œç»“æœä¹‹å‰ï¼Œè¯¥å‡½æ•°ä¸ä¼šé˜»ç¢å½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šç«‹å³è¿”å›</code>ã€‚</p><p>è¿˜æ˜¯ä¸Šé¢é‚£ä¸ªä¹°å¥¶èŒ¶çš„ä¾‹å­ï¼Œä¸è®ºæ˜¯æ’é˜Ÿåœ¨é‚£é‡Œç­‰å¥¶èŒ¶è¿˜æ˜¯æ‰«ç åœ¨å“ªé‡Œç­‰å¥¶èŒ¶ï¼Œåªè¦åœ¨ç­‰å¥¶èŒ¶çš„è¿‡ç¨‹ä¸­ä½ æ²¡æœ‰åšå…¶ä»–äº‹æƒ…éƒ½æ˜¯é˜»å¡ã€‚å¦‚æœä½ åœ¨ç­‰çš„è¿‡ç¨‹è·Ÿä½ å¥³æœ‹å‹èŠå¤©ï¼ˆå‡å¦‚ä½ æœ‰å¥³æœ‹å‹çš„è¯ï¼‰æˆ–è€…åœ¨ç©æ‰‹æœºï¼Œé‚£ä¹ˆå°±æ˜¯éé˜»å¡ï¼Œå› ä¸ºæ²¡æœ‰å› ç­‰å¾…å¥¶èŒ¶è¿™ä»¶äº‹ä¸€ç›´è€—ç€ï¼Œè€Œæ˜¯ä¸€è¾¹ç­‰ä¸€è¾¹å¹²å…¶ä»–çš„äº‹æƒ…ã€‚</p><h3 id="_1-4-åŒæ­¥-å¼‚æ­¥ã€é˜»å¡-éé˜»å¡" tabindex="-1"><a class="header-anchor" href="#_1-4-åŒæ­¥-å¼‚æ­¥ã€é˜»å¡-éé˜»å¡" aria-hidden="true">#</a> 1.4 åŒæ­¥&amp;å¼‚æ­¥ã€é˜»å¡&amp;éé˜»å¡</h3><p>åŒæ­¥&amp;å¼‚æ­¥ä¸é˜»å¡&amp;éé˜»å¡ä¸¤ä¸¤ç»„åˆï¼Œåˆ†åˆ«ä¸º<code>åŒæ­¥é˜»å¡</code>,<code>åŒæ­¥éé˜»å¡</code>ï¼Œ<code>å¼‚æ­¥é˜»å¡</code>ï¼Œ<code>å¼‚æ­¥éé˜»å¡</code>ã€‚ä»¥ä¸Šé¢ç­‰å¥¶èŒ¶çš„ä¾‹å­ä¸ºä¾‹ã€‚</p><h4 id="åŒæ­¥é˜»å¡" tabindex="-1"><a class="header-anchor" href="#åŒæ­¥é˜»å¡" aria-hidden="true">#</a> åŒæ­¥é˜»å¡</h4><p>ä½ åœ¨æ’é˜Ÿç­‰å¥¶èŒ¶çš„è¿‡ç¨‹ä¸­ï¼Œä»€ä¹ˆäº‹æƒ…éƒ½ä¸èƒ½åšï¼Œåªèƒ½å¹²ç­‰ç€ã€‚å°±é—®ä½ æ— èŠä¸æ— èŠï¼Œå°´å°¬ä¸å°´å°¬ã€‚<code>æ•ˆç‡æœ€ä¸ºä½ä¸‹</code>ã€‚</p><h4 id="åŒæ­¥éé˜»å¡" tabindex="-1"><a class="header-anchor" href="#åŒæ­¥éé˜»å¡" aria-hidden="true">#</a> åŒæ­¥éé˜»å¡</h4><p>ä½ åœ¨æ’é˜Ÿç­‰å¥¶èŒ¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥å¹²å…¶ä»–äº‹æƒ…ï¼Œæ¯”å¦‚åˆ·æŠ–éŸ³ï¼Œç©ä¸€æŠŠç‹è€…è£è€€ï¼Œä½†æ˜¯ä½ éœ€è¦ä¸æ–­åœ°çœ‹å¥¶èŒ¶æ˜¯å¦å·²ç»åˆ°ä½ ï¼Œä½ åŠ¿å¿…ä¼šåˆ†å¿ƒå¯¼è‡´è¾“æ‰ç‹è€…è£è€€ï¼Œæˆä¸ºä¸€ä¸ªå‘è´§ã€‚æ³¨æ„æ’é˜Ÿç­‰å¥¶èŒ¶ï¼Œç©ç‹è€…è£è€€æ˜¯ä¸¤ä»¶äº‹æƒ…ï¼Œä½ éœ€è¦ä¸¤ä»¶äº‹æƒ…æ¥å›ä¸æ–­åœ°åˆ‡æ¢ï¼Œ<code>æ•ˆç‡ä¹Ÿä¸è§å¾—é«˜åˆ°å“ªé‡Œå»</code>ã€‚</p><h4 id="å¼‚æ­¥é˜»å¡" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥é˜»å¡" aria-hidden="true">#</a> å¼‚æ­¥é˜»å¡</h4><p>ä½ æ‰«ç æ‹¿å·åï¼Œä½ ä¸ç”¨åœ¨é‚£é‡Œæ’é˜Ÿå¹²ç­‰ï¼Œä½ åªéœ€è¦ç­‰å€™æœåŠ¡å‘˜å‘Šè¯‰ä½ å¥¶èŒ¶åšå¥½äº†å»æ‹¿å°±å¯ä»¥äº†ï¼Œä½†æ˜¯åœ¨è¿™ä¸ªç­‰çš„è¿‡ç¨‹ä¸­ï¼Œä½ å•¥äº‹éƒ½ä¸èƒ½å¹²ï¼Œåªèƒ½å¹²ç­‰ç€ã€‚å¾ˆæ˜¾ç„¶ä½ å·²ç»è¢«é˜»å¡åœ¨è¿™ä¸ªç­‰å¾…æœåŠ¡å‘˜å‘Šè¯‰ä½ å¥¶èŒ¶åšå¥½äº†çš„äº‹æƒ…ï¼ˆ<code>æ¶ˆæ¯é€šçŸ¥</code>ï¼‰ä¸Šé¢äº†ã€‚æˆ‘ä»¬è¦æ³¨æ„æ˜¯ï¼Œå¹¶ä¸æ˜¯è¯´å¼‚æ­¥å°±ä¸èƒ½é˜»å¡äº†ï¼Œ<code>å¼‚æ­¥ä¹Ÿæ˜¯å¯ä»¥é˜»å¡çš„ï¼Œåªä¸è¿‡å®ƒä¸æ˜¯åœ¨å¤„ç†æ¶ˆæ¯æ—¶é˜»å¡ï¼Œè€Œæ˜¯åœ¨ç­‰å¾…æ¶ˆæ¯é€šçŸ¥æ—¶è¢«é˜»å¡äº†</code>ã€‚</p><h4 id="å¼‚æ­¥éé˜»å¡" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥éé˜»å¡" aria-hidden="true">#</a> å¼‚æ­¥éé˜»å¡</h4><p>ä½ æ‰«ç æ‹¿å·åï¼Œç›´æ¥å»è¾¹ä¸Šç©ç‹è€…è£è€€äº†ï¼Œä¸­é€”ä½ ä¸“å¿ƒç©çš„ç‹è€…è£è€€ï¼Œä¸éœ€è¦åˆ†å¿ƒå»å…³æ³¨ä½ çš„å¥¶èŒ¶æ˜¯å¦åšå¥½äº†ï¼Œä½ åªéœ€è¦åœ¨é‚£é‡Œç­‰æœåŠ¡å‘˜å‘Šè¯‰ä½ å¥¶èŒ¶åšå¥½äº†ï¼ˆ<code>æ¶ˆæ¯é€šçŸ¥</code>ï¼‰å»æ‹¿å°±å¯ä»¥äº†ã€‚<code>æ•ˆç‡æœ€é«˜</code>ã€‚</p><h3 id="_1-5-ç”¨æˆ·ç©ºé—´-å†…æ ¸ç©ºé—´" tabindex="-1"><a class="header-anchor" href="#_1-5-ç”¨æˆ·ç©ºé—´-å†…æ ¸ç©ºé—´" aria-hidden="true">#</a> 1.5 ç”¨æˆ·ç©ºé—´&amp;å†…æ ¸ç©ºé—´</h3><p>æ“ä½œç³»ç»Ÿæ˜¯åˆ©ç”¨CPU æŒ‡ä»¤æ¥è®¡ç®—å’Œæ§åˆ¶è®¡ç®—æœºç³»ç»Ÿçš„ï¼Œæœ‰äº›æŒ‡ä»¤å¾ˆæ¸©å’Œï¼Œæˆ‘ä»¬æ“ä½œå®ƒä¸ä¼šå¯¹æ“ä½œç³»ç»Ÿäº§ç”Ÿä»€ä¹ˆå±å®³ï¼Œè€Œæœ‰äº›æŒ‡ä»¤åˆ™éå¸¸å±é™©ï¼Œå¦‚æœä½¿ç”¨ä¸å½“åˆ™ä¼šå¯¼è‡´ç³»ç»Ÿå´©æºƒï¼Œå¦‚æœæ“ä½œç³»ç»Ÿå…è®¸æ‰€æœ‰çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿç›´æ¥è®¿é—®è¿™äº›å¾ˆå±é™©çš„æŒ‡ä»¤ï¼Œè¿™ä¼šè®©è®¡ç®—æœºå¤§å¤§å¢åŠ å´©æºƒçš„æ¦‚ç‡ã€‚æ‰€ä»¥æ“ä½œç³»ç»Ÿä¸ºäº†æ›´åŠ åœ°ä¿æŠ¤è‡ªå·±ï¼Œåˆ™å°†è¿™äº›å±é™©çš„æŒ‡ä»¤ä¿æŠ¤èµ·æ¥ï¼Œä¸å…è®¸åº”ç”¨ç¨‹åºç›´æ¥è®¿é—®ã€‚</p><p>ç°ä»£æ“ä½œç³»ç»Ÿéƒ½æ˜¯é‡‡ç”¨è™šæ‹Ÿå­˜å‚¨å™¨ï¼Œæ“ä½œç³»ç»Ÿä¸ºäº†ä¿æŠ¤å±é™©æŒ‡ä»¤è¢«åº”ç”¨ç¨‹åºç›´æ¥è®¿é—®ï¼Œåˆ™å°†è™šæ‹Ÿç©ºé—´åˆ’åˆ†ä¸ºå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ã€‚</p><ul><li>å†…æ ¸ç©ºé—´åˆ™æ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå®ƒæä¾›æ“ä½œç³»ç»Ÿçš„æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿå·¥ä½œçš„åŸºç¡€ï¼Œå®ƒè´Ÿè´£ç®¡ç†ç³»ç»Ÿçš„è¿›ç¨‹ã€å†…å­˜ã€è®¾å¤‡é©±åŠ¨ç¨‹åºã€æ–‡ä»¶å’Œç½‘ç»œç³»ç»Ÿï¼Œå†³å®šç€ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</li><li>ç”¨æˆ·ç©ºé—´ï¼Œéå†…æ ¸åº”ç”¨ç¨‹åºåˆ™è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´ã€‚ç”¨æˆ·ç©ºé—´ä¸­çš„ä»£ç è¿è¡Œåœ¨è¾ƒä½çš„ç‰¹æƒçº§åˆ«ä¸Šï¼Œåªèƒ½çœ‹åˆ°å…è®¸å®ƒä»¬ä½¿ç”¨çš„éƒ¨åˆ†ç³»ç»Ÿèµ„æºï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨æŸäº›ç‰¹å®šçš„ç³»ç»ŸåŠŸèƒ½ï¼Œä¹Ÿä¸èƒ½ç›´æ¥è®¿é—®å†…æ ¸ç©ºé—´å’Œç¡¬ä»¶è®¾å¤‡ï¼Œä»¥åŠå…¶ä»–ä¸€äº›å…·ä½“çš„ä½¿ç”¨é™åˆ¶ã€‚</li></ul><p>è¿›è¡Œç©ºé—´åˆ’åˆ†åï¼Œç”¨æˆ·ç©ºé—´é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„APIé—´æ¥è®¿é—®æ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼Œæé«˜äº†æ“ä½œç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯ç”¨æ€§ã€‚</p><h3 id="_1-6-ç”¨æˆ·æ€å’Œå†…æ ¸æ€è¿›ç¨‹åˆ‡æ¢" tabindex="-1"><a class="header-anchor" href="#_1-6-ç”¨æˆ·æ€å’Œå†…æ ¸æ€è¿›ç¨‹åˆ‡æ¢" aria-hidden="true">#</a> 1.6 ç”¨æˆ·æ€å’Œå†…æ ¸æ€è¿›ç¨‹åˆ‡æ¢</h3><ul><li>å†…æ ¸æ€: CPUå¯ä»¥è®¿é—®å†…å­˜æ‰€æœ‰æ•°æ®, åŒ…æ‹¬å¤–å›´è®¾å¤‡, ä¾‹å¦‚ç¡¬ç›˜,ã€ç½‘å¡ï¼ŒCPUä¹Ÿå¯ä»¥å°†è‡ªå·±ä»ä¸€ä¸ªç¨‹åºåˆ‡æ¢åˆ°å¦ä¸€ä¸ªç¨‹åºã€‚</li><li>ç”¨æˆ·æ€: åªèƒ½å—é™çš„è®¿é—®å†…å­˜, ä¸”ä¸å…è®¸è®¿é—®å¤–å›´è®¾å¤‡ã€‚å ç”¨CPUçš„èƒ½åŠ›è¢«å‰¥å¤º, CPUèµ„æºå¯ä»¥è¢«å…¶ä»–ç¨‹åºè·å–ã€‚</li></ul><p>æˆ‘ä»¬çŸ¥é“CPUä¸ºäº†ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼Œå°†ç©ºé—´åˆ’åˆ†ä¸ºå†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ï¼Œè¿›ç¨‹æ—¢å¯ä»¥åœ¨å†…æ ¸ç©ºé—´è¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ç”¨æˆ·ç©ºé—´è¿è¡Œã€‚å½“è¿›ç¨‹è¿è¡Œåœ¨å†…æ ¸ç©ºé—´æ—¶ï¼Œå®ƒå°±å¤„åœ¨å†…æ ¸æ€ï¼Œå½“è¿›ç¨‹è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´æ—¶ï¼Œä»–å°±æ˜¯ç”¨æˆ·æ€ã€‚å¼€å§‹æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½æ˜¯è¿è¡Œåœ¨ç”¨æˆ·ç©ºé—´çš„ï¼Œè¿™ä¸ªæ—¶å€™å®ƒæ˜¯ç”¨æˆ·æ€ï¼Œä½†æ˜¯å®ƒæƒ³åšä¸€äº›åªæœ‰å†…æ ¸ç©ºé—´æ‰èƒ½åšçš„äº‹æƒ…ï¼Œå¦‚è¯»å–IOï¼Œè¿™ä¸ªæ—¶å€™è¿›ç¨‹éœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥è®¿é—®å†…æ ¸ç©ºé—´ï¼Œè¿›ç¨‹åˆ™éœ€è¦ä»ç”¨æˆ·æ€è½¬å˜ä¸ºå†…æ ¸æ€ã€‚</p><p>ç”¨æˆ·æ€å’Œå†…æ ¸æ€ä¹‹é—´çš„åˆ‡æ¢å¼€é”€æœ‰ç‚¹å„¿å¤§ï¼Œé‚£å®ƒå¼€é”€åœ¨å“ªé‡Œå‘¢ï¼Ÿæœ‰å¦‚ä¸‹å‡ ç‚¹ï¼š</p><ul><li>ä¿ç•™ç”¨æˆ·æ€ç°åœºï¼ˆä¸Šä¸‹æ–‡ã€å¯„å­˜å™¨ã€ç”¨æˆ·æ ˆç­‰ï¼‰</li><li>å¤åˆ¶ç”¨æˆ·æ€å‚æ•°ï¼Œç”¨æˆ·æ ˆåˆ‡åˆ°å†…æ ¸æ ˆï¼Œè¿›å…¥å†…æ ¸æ€</li><li>é¢å¤–çš„æ£€æŸ¥ï¼ˆå› ä¸ºå†…æ ¸ä»£ç å¯¹ç”¨æˆ·ä¸ä¿¡ä»»ï¼‰</li><li>æ‰§è¡Œå†…æ ¸æ€ä»£ç </li><li>å¤åˆ¶å†…æ ¸æ€ä»£ç æ‰§è¡Œç»“æœï¼Œå›åˆ°ç”¨æˆ·æ€</li><li>æ¢å¤ç”¨æˆ·æ€ç°åœºï¼ˆä¸Šä¸‹æ–‡ã€å¯„å­˜å™¨ã€ç”¨æˆ·æ ˆç­‰ï¼‰</li></ul><p>æ‰€ä»¥ï¼Œé¢‘ç¹çš„IOæ“ä½œä¼šé¢‘ç¹çš„é€ æˆç”¨æˆ·æ€ â€”&gt; å†…æ ¸æ€ â€”&gt; ç”¨æˆ·æ€çš„åˆ‡æ¢ï¼Œè¿™ä¸¥é‡ä¼šå½±å“ç³»ç»Ÿæ€§èƒ½ã€‚åé¢å°ç¼–ä¼šä»‹ç»IOçš„ä¸€äº›ä¼˜åŒ–ï¼Œé‡ç‚¹å°±æ˜¯å‡å°‘åˆ‡æ¢ã€‚</p><h2 id="äºŒã€linux-çš„ç½‘ç»œioæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€linux-çš„ç½‘ç»œioæ¨¡å‹" aria-hidden="true">#</a> äºŒã€Linux çš„ç½‘ç»œIOæ¨¡å‹</h2><h3 id="_2-1-ç½‘ç»œ-io-çš„å„ä¸ªå‘å±•é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#_2-1-ç½‘ç»œ-io-çš„å„ä¸ªå‘å±•é˜¶æ®µ" aria-hidden="true">#</a> 2.1 ç½‘ç»œ IO çš„å„ä¸ªå‘å±•é˜¶æ®µ</h3><p>åœ¨Linuxçš„ I/O æ¨¡å‹ä¸­ï¼Œå¤§è‡´æœ‰ä»¥ä¸‹ä¸¤ä¸ªç»´åº¦ï¼š</p><ul><li>åŒºåˆ†åŒæ­¥æˆ–å¼‚æ­¥ï¼ˆsynchronous/asynchronousï¼‰ã€‚ç®€å•æ¥è¯´ï¼ŒåŒæ­¥æ˜¯ä¸€ç§å¯é çš„æœ‰åºè¿è¡Œæœºåˆ¶ï¼Œå½“æˆ‘ä»¬è¿›è¡ŒåŒæ­¥æ“ä½œæ—¶ï¼Œåç»­çš„ä»»åŠ¡æ˜¯ç­‰å¾…å½“å‰è°ƒç”¨è¿”å›ï¼Œæ‰ä¼šè¿›è¡Œä¸‹ä¸€æ­¥ï¼›è€Œå¼‚æ­¥åˆ™ç›¸åï¼Œå…¶ä»–ä»»åŠ¡ä¸éœ€è¦ç­‰å¾…å½“å‰è°ƒç”¨è¿”å›ï¼Œé€šå¸¸ä¾é äº‹ä»¶ã€å›è°ƒç­‰æœºåˆ¶æ¥å®ç°ä»»åŠ¡é—´æ¬¡åºå…³ç³»ã€‚</li><li>åŒºåˆ†é˜»å¡ä¸éé˜»å¡ï¼ˆblocking/non-blockingï¼‰ã€‚åœ¨è¿›è¡Œé˜»å¡æ“ä½œæ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šå¤„äºé˜»å¡çŠ¶æ€ï¼Œæ— æ³•ä»äº‹å…¶ä»–ä»»åŠ¡ï¼Œåªæœ‰å½“æ¡ä»¶å°±ç»ªæ‰èƒ½ç»§ç»­ï¼Œæ¯”å¦‚ ServerSocket æ–°è¿æ¥å»ºç«‹å®Œæ¯•ï¼Œæˆ–æ•°æ®è¯»å–ã€å†™å…¥æ“ä½œå®Œæˆï¼›è€Œéé˜»å¡åˆ™æ˜¯ä¸ç®¡ IO æ“ä½œæ˜¯å¦ç»“æŸï¼Œç›´æ¥è¿”å›ï¼Œç›¸åº”æ“ä½œåœ¨åå°ç»§ç»­å¤„ç†ã€‚</li></ul><p>ç½‘ç»œ IO çš„å‘å±•è¿‡ç¨‹æ˜¯éšç€ linux çš„å†…æ ¸æ¼”å˜è€Œå˜åŒ–ï¼Œå› æ­¤ç½‘ç»œ IO å¤§è‡´å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹å‡ ä¸ªé˜¶æ®µï¼š</p><ul><li>é˜»å¡ IO(BIO)</li><li>éé˜»å¡ IO(NIO)</li><li>IO å¤šè·¯å¤ç”¨ç¬¬ä¸€ç‰ˆ(select/poll)</li><li>IO å¤šè·¯å¤ç”¨ç¬¬äºŒç‰ˆ(epoll)</li><li>å¼‚æ­¥ IO(AIO)</li></ul><p>è€Œæ¯ä¸€ä¸ªé˜¶æ®µï¼Œéƒ½æ˜¯å› ä¸ºå½“å‰çš„ç½‘ç»œæœ‰ä¸€äº›ç¼ºé™·ï¼Œå› æ­¤åˆåœ¨ä¸æ–­æ”¹è¿›è¯¥ç¼ºé™·ã€‚è¿™æ˜¯<strong>ç½‘ç»œ IO ä¸€ç›´æ¼”å˜è¿‡ç¨‹ä¸­çš„æœ¬è´¨</strong>ã€‚ä¸‹é¢å°†å¯¹ä¸Šè¿°å‡ ä¸ªé˜¶æ®µè¿›è¡Œä»‹ç»ï¼Œå¹¶å¯¹æ¯ä¸ªé˜¶æ®µçš„ç½‘ç»œ IO è§£å†³äº†å“ªäº›é—®é¢˜ã€ä¼˜ç‚¹ã€ç¼ºç‚¹è¿›è¡Œå‰–æã€‚</p><h3 id="_2-2-ç½‘ç»œçš„ä¸¤ä¸ªé˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#_2-2-ç½‘ç»œçš„ä¸¤ä¸ªé˜¶æ®µ" aria-hidden="true">#</a> 2.2 ç½‘ç»œçš„ä¸¤ä¸ªé˜¶æ®µ</h3><p>åœ¨ç½‘ç»œä¸­ï¼Œå½“ç”¨æˆ·çº¿ç¨‹å‘èµ· I/O æ“ä½œåï¼Œç½‘ç»œæ•°æ®è¯»å–æ“ä½œä¼šç»å†ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ul><li>ç¬¬ä¸€é˜¶æ®µï¼šç¡¬ä»¶æ¥å£åˆ°å†…æ ¸æ€ï¼ˆç”¨æˆ·çº¿ç¨‹ç­‰å¾…å†…æ ¸å°†æ•°æ®ä»ç½‘å¡æ‹·è´åˆ°å†…æ ¸ç©ºé—´ã€‚ï¼‰</li><li>ç¬¬äºŒé˜¶æ®µï¼šå†…æ ¸æ€åˆ°ç”¨æˆ·æ€ï¼ˆå†…æ ¸å°†æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ã€‚ï¼‰</li></ul><p>æˆ‘ä»¬é€šå¸¸ä¸Šç½‘ï¼Œå¤§éƒ¨åˆ†æ•°æ®éƒ½æ˜¯é€šè¿‡ç½‘çº¿ä¼ é€’çš„ã€‚å› æ­¤å¯¹äºä¸¤å°è®¡ç®—æœºè€Œè¨€ï¼Œè¦è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œå…¶æ•°æ®éƒ½æ˜¯å…ˆä»åº”ç”¨ç¨‹åºä¼ é€’åˆ°ä¼ è¾“å±‚(TCP/UDP)åˆ°è¾¾å†…æ ¸æ€ï¼Œç„¶åå†åˆ°ç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ï¼Œæ¥ç€æ•°æ®ä¼ é€’åˆ°ç¡¬ä»¶ç½‘å¡ï¼Œæœ€åé€šè¿‡ç½‘ç»œä¼ è¾“ä»‹è´¨ä¼ é€’åˆ°å¯¹ç«¯æœºå™¨çš„ç½‘å¡ï¼Œç„¶åå†ä¸€æ­¥ä¸€æ­¥æ•°æ®ä»ç½‘å¡ä¼ é€’åˆ°å†…æ ¸æ€ï¼Œæœ€åå†æ‹·è´åˆ°ç”¨æˆ·æ€ã€‚</p><h3 id="_2-3-é˜»å¡-io-å’Œéé˜»å¡-io-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_2-3-é˜»å¡-io-å’Œéé˜»å¡-io-çš„åŒºåˆ«" aria-hidden="true">#</a> 2.3 é˜»å¡ IO å’Œéé˜»å¡ IO çš„åŒºåˆ«</h3><p>æ ¹æ® 2.2 èŠ‚çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œç½‘ç»œä¸­çš„æ•°æ®ä¼ è¾“ä»ç½‘ç»œä¼ è¾“ä»‹è´¨åˆ°è¾¾ç›®çš„æœºå™¨ï¼Œéœ€è¦å¦‚ä¸Šä¸¤ä¸ªé˜¶æ®µã€‚æ­¤å¤„æˆ‘ä»¬æŠŠä»ç¡¬ä»¶åˆ°å†…æ ¸æ€è¿™ä¸€é˜¶æ®µï¼Œæ˜¯å¦å‘ç”Ÿé˜»å¡ç­‰å¾…ï¼Œå¯ä»¥å°†ç½‘ç»œåˆ†ä¸ºé˜»å¡ IOå’Œéé˜»å¡ IOã€‚å¦‚æœç”¨æˆ·å‘èµ·äº†è¯»å†™è¯·æ±‚ï¼Œä½†å†…æ ¸æ€æ•°æ®è¿˜æœªå‡†å¤‡å°±ç»ªï¼Œè¯¥é˜¶æ®µä¸ä¼šé˜»å¡ç”¨æˆ·æ“ä½œï¼Œå†…æ ¸ç«‹é©¬è¿”å›ï¼Œåˆ™ç§°ä¸ºéé˜»å¡ IOã€‚å¦‚æœè¯¥é˜¶æ®µä¸€ç›´é˜»å¡ç”¨æˆ·æ“ä½œã€‚ç›´åˆ°å†…æ ¸æ€æ•°æ®å‡†å¤‡å°±ç»ªï¼Œæ‰è¿”å›ã€‚è¿™ç§æ–¹å¼ç§°ä¸ºé˜»å¡ IOã€‚</p><p>å› æ­¤ï¼ŒåŒºåˆ†é˜»å¡ IO å’Œéé˜»å¡ IO ä¸»è¦çœ‹ç¬¬ä¸€é˜¶æ®µæ˜¯å¦é˜»å¡ç”¨æˆ·æ“ä½œã€‚</p><h3 id="_2-4-åŒæ­¥-io-å’Œå¼‚æ­¥-io-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_2-4-åŒæ­¥-io-å’Œå¼‚æ­¥-io-çš„åŒºåˆ«" aria-hidden="true">#</a> 2.4 åŒæ­¥ IO å’Œå¼‚æ­¥ IO çš„åŒºåˆ«</h3><p>ä»å‰é¢æˆ‘ä»¬çŸ¥é“äº†ï¼Œæ•°æ®çš„ä¼ é€’éœ€è¦ä¸¤ä¸ªé˜¶æ®µï¼Œåœ¨æ­¤å¤„åªè¦ä»»ä½•ä¸€ä¸ªé˜¶æ®µä¼šé˜»å¡ç”¨æˆ·è¯·æ±‚ï¼Œéƒ½å°†å…¶ç§°ä¸ºåŒæ­¥ IOï¼Œä¸¤ä¸ªé˜¶æ®µéƒ½ä¸é˜»å¡ï¼Œåˆ™ç§°ä¸ºå¼‚æ­¥ IOã€‚</p><p>åœ¨ç›®å‰æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œlinux ä¸­çš„ epollã€mac çš„ kqueue éƒ½å±äºåŒæ­¥ IOï¼Œå› ä¸ºå…¶åœ¨ç¬¬äºŒé˜¶æ®µ(æ•°æ®ä»å†…æ ¸æ€åˆ°ç”¨æˆ·æ€)éƒ½ä¼šå‘ç”Ÿæ‹·è´é˜»å¡ã€‚è€Œåªæœ‰ windows ä¸­çš„ IOCP æ‰çœŸæ­£å±äºå¼‚æ­¥ IOï¼Œå³ AIOã€‚</p><h3 id="_2-5-é˜»å¡ioæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_2-5-é˜»å¡ioæ¨¡å‹" aria-hidden="true">#</a> 2.5 é˜»å¡IOæ¨¡å‹</h3><p>é˜»å¡IOæ¨¡å‹æ˜¯æœ€å¸¸è§æœ€ç®€å•çš„IOæ¨¡å‹ï¼Œå›¾å¦‚ä¸‹ï¼š</p><p><img src="/assets/nio-202109212001-07336963.jpg" alt="img"></p><p>é˜»å¡ IOï¼Œé¡¾åæ€ä¹‰å½“ç”¨æˆ·å‘ç”Ÿäº†ç³»ç»Ÿè°ƒç”¨åï¼Œå¦‚æœæ•°æ®æœªä»ç½‘å¡åˆ°è¾¾å†…æ ¸æ€ï¼Œå†…æ ¸æ€æ•°æ®æœªå‡†å¤‡å¥½ï¼Œæ­¤æ—¶ä¼šä¸€ç›´é˜»å¡ã€‚ç›´åˆ°æ•°æ®å°±ç»ªï¼Œç„¶åä»å†…æ ¸æ€æ‹·è´åˆ°ç”¨æˆ·æ€å†è¿”å›ã€‚</p><ul><li><p>ä¼˜ç‚¹</p><ul><li>æ¨¡å‹ç®€å•ï¼Œå®ç°éš¾åº¦ä½</li><li>é€‚ç”¨äºå¹¶å‘é‡è¾ƒå°çš„åº”ç”¨å¼€å‘</li></ul></li><li><p>ç¼ºç‚¹</p><p>åœ¨ä¸€èˆ¬ä½¿ç”¨é˜»å¡ IO æ—¶ï¼Œéƒ½éœ€è¦é…ç½®å¤šçº¿ç¨‹æ¥ä½¿ç”¨ï¼Œæœ€å¸¸è§çš„æ¨¡å‹æ˜¯<strong>é˜»å¡ IO+å¤šçº¿ç¨‹</strong>ï¼Œæ¯ä¸ªè¿æ¥ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹è¿›è¡Œå¤„ç†ã€‚</p><p><strong>æˆ‘ä»¬çŸ¥é“ï¼Œä¸€èˆ¬ä¸€ä¸ªç¨‹åºå¯ä»¥å¼€è¾Ÿçš„çº¿ç¨‹æ˜¯æœ‰é™çš„ï¼Œè€Œä¸”å¼€è¾Ÿçº¿ç¨‹çš„å¼€é”€ä¹Ÿæ˜¯æ¯”è¾ƒå¤§çš„ã€‚ä¹Ÿæ­£æ˜¯è¿™ç§æ–¹å¼ï¼Œä¼šå¯¼è‡´ä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†çš„å®¢æˆ·ç«¯è¯·æ±‚å—é™ã€‚é¢å¯¹ç™¾ä¸‡è¿æ¥çš„æƒ…å†µï¼Œæ˜¯æ— æ³•å¤„ç†ã€‚</strong></p></li></ul><p>æ—¢ç„¶å‘ç°äº†é—®é¢˜ï¼Œåˆ†æäº†é—®é¢˜ï¼Œé‚£å°±å¾—è§£å†³é—®é¢˜ã€‚æ—¢ç„¶é˜»å¡ IO æœ‰é—®é¢˜ï¼Œæœ¬è´¨æ˜¯ç”±äºå…¶é˜»å¡å¯¼è‡´çš„ï¼Œå› æ­¤è‡ªç„¶è€Œç„¶å¼•å‡ºäº†ä¸‹é¢å³å°†ä»‹ç»çš„ä¸»è§’ï¼š<strong>éé˜»å¡ IO</strong></p><h3 id="_2-6-éé˜»å¡-ioæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_2-6-éé˜»å¡-ioæ¨¡å‹" aria-hidden="true">#</a> 2.6 éé˜»å¡ IOæ¨¡å‹</h3><p>éé˜»å¡IOæ¨¡å‹å›¾ä¾‹å¦‚ä¸‹ï¼š</p><p><img src="/assets/nio-202109212002-1604887d.jpg" alt="img"></p><p>éé˜»å¡ IOï¼šè§åçŸ¥æ„ï¼Œå°±æ˜¯åœ¨ç¬¬ä¸€é˜¶æ®µ(ç½‘å¡-å†…æ ¸æ€)æ•°æ®æœªåˆ°è¾¾æ—¶ä¸ç­‰å¾…ï¼Œç„¶åç›´æ¥è¿”å›ã€‚<strong>å› æ­¤éé˜»å¡ IO éœ€è¦ä¸æ–­çš„ç”¨æˆ·å‘èµ·è¯·æ±‚ï¼Œè¯¢é—®å†…æ ¸æ•°æ®å¥½äº†æ²¡ï¼Œå¥½äº†æ²¡ã€‚</strong></p><ul><li>ä¼˜ç‚¹ <ul><li>æ¨¡å‹ç®€å•ï¼Œå®ç°éš¾åº¦ä½</li><li>ä¸é˜»å¡IOæ¨¡å‹å¯¹æ¯”ï¼Œå®ƒåœ¨ç­‰å¾…æ•°æ®æŠ¥çš„è¿‡ç¨‹ä¸­ï¼Œè¿›ç¨‹å¹¶æ²¡æœ‰é˜»å¡ï¼Œå®ƒå¯ä»¥åšå…¶ä»–çš„äº‹æƒ…</li></ul></li><li>ç¼ºç‚¹ <ul><li><strong>é¢‘ç¹çš„ç³»ç»Ÿè°ƒç”¨</strong>æ˜¯æ¯”è¾ƒæ¶ˆè€—ç³»ç»Ÿèµ„æºçš„ã€‚</li><li>ä¸é˜»å¡IOæ¨¡å‹ä¸€æ ·ï¼Œå®ƒä¹Ÿä¸é€‚ç”¨äºå¹¶å‘é‡å¤§çš„åº”ç”¨ç¨‹åº</li></ul></li></ul><p>å› æ­¤ï¼Œæ—¢ç„¶å­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆè‡ªç„¶è€Œç„¶æˆ‘ä»¬å°±éœ€è¦è§£å†³è¯¥é—®é¢˜ï¼š<strong>ä¿ç•™éé˜»å¡ IO çš„ä¼˜ç‚¹çš„å‰æä¸‹ï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨</strong></p><h3 id="_2-7-i-o-å¤šè·¯å¤ç”¨æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_2-7-i-o-å¤šè·¯å¤ç”¨æ¨¡å‹" aria-hidden="true">#</a> 2.7 I/O å¤šè·¯å¤ç”¨æ¨¡å‹</h3><p>ä¸ºäº†è§£å†³éé˜»å¡ IO å­˜åœ¨çš„é¢‘ç¹çš„ç³»ç»Ÿè°ƒç”¨è¿™ä¸ªé—®é¢˜ï¼Œéšç€å†…æ ¸çš„å‘å±•ï¼Œå‡ºç°äº† IO å¤šè·¯å¤ç”¨æ¨¡å‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ææ‡‚å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li>IO å¤šè·¯å¤ç”¨åˆ°åº•å¤ç”¨ä»€ä¹ˆï¼Ÿ</li><li>IO å¤šè·¯å¤ç”¨å¦‚ä½•å¤ç”¨ï¼Ÿ</li></ol><p>**IO å¤šè·¯å¤ç”¨ï¼š**å¤šè·¯å¤ç”¨ä¸»è¦å¤ç”¨çš„æ˜¯é€šè¿‡æœ‰é™æ¬¡çš„ç³»ç»Ÿè°ƒç”¨æ¥å®ç°ç®¡ç†å¤šä¸ªç½‘ç»œè¿æ¥ã€‚æœ€ç®€å•æ¥è¯´ï¼Œæˆ‘ç›®å‰æœ‰ 10 ä¸ªè¿æ¥ï¼Œæˆ‘å¯ä»¥é€šè¿‡ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨å°†è¿™ 10 ä¸ªè¿æ¥éƒ½ä¸¢ç»™å†…æ ¸ï¼Œè®©å†…æ ¸å‘Šè¯‰æˆ‘ï¼Œå“ªäº›è¿æ¥ä¸Šé¢æ•°æ®å‡†å¤‡å¥½äº†ï¼Œç„¶åæˆ‘å†å»è¯»å–æ¯ä¸ªå°±ç»ªçš„è¿æ¥ä¸Šçš„æ•°æ®ã€‚å› æ­¤ï¼ŒIO å¤šè·¯å¤ç”¨ï¼Œå¤ç”¨çš„æ˜¯ç³»ç»Ÿè°ƒç”¨ã€‚é€šè¿‡æœ‰é™æ¬¡ç³»ç»Ÿè°ƒç”¨åˆ¤æ–­æµ·é‡è¿æ¥æ˜¯å¦æ•°æ®å‡†å¤‡å¥½äº†</p><p><strong>IOå¤šè·¯å¤ç”¨è§£å†³äº†éé˜»å¡IOæ¨¡å‹ä¸‹å­˜åœ¨çš„å¤§é‡ç³»ç»Ÿè°ƒç”¨è€Œå¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€çš„é—®é¢˜ã€‚</strong></p><p>æ— è®ºä¸‹é¢çš„ selectã€pollã€epollï¼Œå…¶éƒ½æ˜¯è¿™ç§æ€æƒ³å®ç°çš„ï¼Œä¸è¿‡åœ¨å®ç°ä¸Šï¼Œselect/poll å¯ä»¥çœ‹åšæ˜¯ç¬¬ä¸€ç‰ˆï¼Œè€Œ epoll æ˜¯ç¬¬äºŒç‰ˆ</p><p>IOå¤ç”¨æ¨¡å‹å›¾ä¾‹å¦‚ä¸‹ï¼š</p><p><img src="/assets/nio-202109212003-17d942d1.jpg" alt="img"></p><p>ç”¨æˆ·çº¿ç¨‹çš„è¯»å–æ“ä½œåˆ†æˆä¸¤æ­¥äº†ï¼Œçº¿ç¨‹å…ˆå‘èµ· select è°ƒç”¨ï¼Œç›®çš„æ˜¯é—®å†…æ ¸æ•°æ®å‡†å¤‡å¥½äº†å—ï¼Ÿç­‰å†…æ ¸æŠŠæ•°æ®å‡†å¤‡å¥½äº†ï¼Œç”¨æˆ·çº¿ç¨‹å†å‘èµ· read è°ƒç”¨ã€‚åœ¨ç­‰å¾…æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´è¿™æ®µæ—¶é—´é‡Œï¼Œçº¿ç¨‹è¿˜æ˜¯é˜»å¡çš„ã€‚</p><p>è¿™ä¸€ç‰ˆçš„IOå¤šè·¯å¤ç”¨å™¨ä¸»è¦æœ‰ä¸¤ç§å®ç°ï¼Œå³Selectå’Œpoll:</p><p><strong>Select:</strong></p><p>Selectå¤šè·¯å¤ç”¨å™¨çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p><img src="/assets/5c5f7bd1e62d4f9d86dde2ac20e9d1b0-98430d6b.png" alt="[å›¾ç‰‡]" style="zoom:67%;"><ol><li>è°ƒç”¨ select æ–¹æ³•ï¼Œç”¨æˆ·ä»£ç çš„æ‰§è¡Œæµç¨‹ä¼šé˜»å¡åœ¨ select ç³»ç»Ÿè°ƒç”¨ä¸Šï¼Œç”¨æˆ·çº¿ç¨‹ä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ã€‚</li><li>ç”¨æˆ·çº¿ç¨‹å°†éœ€è¦ç›‘å¬çš„ Socket å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦fdæ•°ç»„é€šè¿‡ select ç³»ç»Ÿè°ƒç”¨ä¼ é€’ç»™å†…æ ¸ï¼Œè¿™ä¸ªfdæ•°ç»„çš„ç´¢å¼•è¡¨ç¤ºè¿›ç¨‹å†…å¯¹åº”çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå€¼è¡¨ç¤ºæ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€ã€‚</li><li>ç”¨æˆ·çº¿ç¨‹åœ¨å†…æ ¸ç©ºé—´å¼€å§‹è½®è¯¢æ–‡ä»¶æè¿°ç¬¦æ•°ç»„ã€‚</li><li>ä¿®æ”¹æœ‰è¯»å†™çŠ¶æ€çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œè®¾ç½®ä¸º1ã€‚</li><li>å†…æ ¸å°†ä¿®æ”¹åçš„fdæ•°ç»„æ‹·è´ä¼šç”¨æˆ·ç©ºé—´ï¼Œæ­¤æ—¶ç”¨æˆ·ä»£ç çš„æ‰§è¡Œæµç¨‹ä» select ä¸­æ¢å¤ï¼Œé˜»å¡è§£é™¤ã€‚</li><li>ç”¨æˆ·çº¿ç¨‹åœ¨ç”¨æˆ·ç©ºé—´éå†fdæ•°ç»„ï¼Œæ‰¾å‡ºå€¼ä¸º1çš„fdè¿›è¡Œå¯¹åº”çš„å¤„ç†ã€‚</li></ol><p>è¿™é‡Œçš„fdæ•°ç»„å…¶å®æ˜¯ä¸€ä¸ªBitmapç»“æ„ï¼Œè¯¥ç»“æ„æœ€å¤šæ”¯æŒ1024ä¸ªä½ï¼ˆç”±å†…æ ¸å‚æ•°çš„ FD_SETSIZE æ§åˆ¶ï¼‰ï¼Œå› æ­¤ select åªæ”¯æŒæœ€å¤šå¤„ç† 1024 ä¸ª Socket è¿æ¥ã€‚æ¯ä¸€ä½å¯¹åº”çš„ç´¢å¼•å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦fdã€‚</p><p>åœ¨ Linux ä¸­ Socket ä¹Ÿæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨ PCB æ§åˆ¶å—ï¼ˆtask_struct ç»“æ„ä½“ï¼‰ä¸­æœ‰ä¸€ä¸ªå±æ€§files_struct *file sçš„ç»“æ„ä½“å±æ€§ï¼Œå®ƒæœ€ç»ˆæŒ‡å‘äº†ä¸€ä¸ªä¿å­˜è¿›ç¨‹ä¸­æ‰€æœ‰æ‰“å¼€æ–‡ä»¶çš„æ‰“å¼€æ–‡ä»¶è¡¨æ•°ç»„ï¼Œè¯¥æ•°ç»„çš„å…ƒç´ æ˜¯ä¸€ä¸ªå°è£…äº†æ–‡ä»¶ä¿¡æ¯çš„ file ç»“æ„ä½“ï¼Œæ‰“å¼€æ–‡ä»¶è¡¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ä¹Ÿå°±æ˜¯å¸¸è¯´çš„æ–‡ä»¶æè¿°ç¬¦fdã€‚</p><p>æ³¨æ„ï¼šç”±äºå†…æ ¸è¿”å›çš„æ–‡ä»¶æè¿°ç¬¦æ•°ç»„ä¼šä¿®æ”¹åˆ°åŸæ¥çš„çŠ¶æ€ï¼Œå› æ­¤ç”¨æˆ·çº¿ç¨‹åœ¨æ¯ä¸ªå¤„ç†å®Œä¹‹åéœ€è¦é‡æ–°è®¾ç½®æ–‡ä»¶æè¿°ç¬¦çš„çŠ¶æ€ã€‚</p><p>æ€§èƒ½å¼€é”€ï¼š</p><ul><li>ä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œä¸¤æ¬¡ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œè¿™æ˜¯ä¸å¯é¿å…çš„ã€‚</li><li>ä¸¤æ¬¡ fd æ•°ç»„çš„å…¨é‡æ‹·è´ï¼ˆä½†æ˜¯å…¶å®æœ€å¤šåªèƒ½æœ‰ 128 ä¸ªå­—èŠ‚å¤§å°çš„bitmapï¼‰ã€‚</li><li>ä¸¤æ¬¡ fd æ•°ç»„çš„å…¨é‡éå†ï¼Œä¸€æ¬¡åœ¨å†…æ ¸ä¸­éå†æ˜¯å¦æœ‰äº‹ä»¶ï¼Œç”¨äºè®¾ç½®çŠ¶æ€ï¼Œå¦å¤–ä¸€æ¬¡åœ¨ç”¨æˆ·ç©ºé—´ä¸­éå†å“ªäº›æœ‰äº‹ä»¶ï¼Œç”¨äºå¤„ç†çŠ¶æ€ã€‚</li></ul><p>æ³¨æ„ï¼šselectç³»ç»Ÿè°ƒç”¨ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºè¿›ç¨‹fdæ•°ç»„æ˜¯å…±äº«çš„ã€‚</p><p><strong>Poll:</strong></p><p>poll çš„å·¥ä½œåŸç†å’Œ select æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œä¸»è¦æ˜¯åœ¨æ–‡ä»¶æè¿°ç¬¦æ•°ç»„çš„ç»“æ„å’Œæ–‡ä»¶æè¿°ç¬¦å¤§å°çš„é™åˆ¶ä¸Šã€‚å…¶å°† Bitmap æ¢æˆä¸€ä¸ªæ²¡æœ‰å›ºå®šé•¿åº¦çš„é“¾è¡¨ï¼Œé“¾è¡¨ä¸­çš„å…ƒç´ å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>struct pollfd {
    int fd;        // æ–‡ä»¶æè¿°ç¬¦
    short events;    // éœ€è¦ç›‘å¬çš„äº‹ä»¶
    short revents;    // å®é™…å‘ç”Ÿçš„äº‹ä»¶ï¼Œç”±å†…æ ¸ä¿®æ”¹
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€§èƒ½å¼€é”€æ–¹é¢å’Œ select æ˜¯ä¸€æ ·çš„ã€‚</p><p><strong>Select å’Œ Poll ä¸¤è€…çš„é—®é¢˜ï¼š</strong></p><ol><li>æ¯æ¬¡æ–°å¢ã€åˆ é™¤è¦ç›‘å¬çš„ Socket æ—¶ï¼ŒæŸ¥çœ‹ Socket è¿æ¥çš„äº‹ä»¶æ—¶ï¼Œéƒ½éœ€è¦è¿›è¡Œå…¨é‡çš„æ‹·è´ã€‚</li><li>éå†çš„å¼€é”€ä¼šéšç€æ–‡ä»¶æè¿°ç¬¦æ•°é‡çš„å¢å¤§è€Œå¢å¤§ã€‚</li><li>æ€§èƒ½ç“¶é¢ˆäº§ç”Ÿçš„åŸå› ï¼š å†…æ ¸ç©ºé—´ä¸ä¼šä¿å­˜è¦ç›‘å¬çš„ Socket é›†åˆï¼Œæ‰€ä»¥éœ€è¦å…¨é‡æ‹·è´ã€‚ å†…æ ¸ä¸ä¼šé€šçŸ¥å…·ä½“IOå°±ç»ªçš„ Socketï¼Œæ‰€ä»¥éœ€è¦å…¨é‡éå†å¹¶å¯¹IOå°±ç»ªçš„ Socket æ‰“ä¸Šæ ‡è®°ã€‚</li></ol><p>**ç¼ºç‚¹ï¼š**è™½ç„¶ç¬¬ä¸€ç‰ˆ IO å¤šè·¯å¤ç”¨è§£å†³äº†ä¹‹å‰æåˆ°çš„é¢‘ç¹çš„ç³»ç»Ÿè°ƒç”¨æ¬¡æ•°ï¼Œä½†åŒæ—¶å¼•å…¥äº†æ–°çš„é—®é¢˜ï¼š<strong>ç”¨æˆ·éœ€è¦æ¯æ¬¡å°†æµ·é‡çš„ socket fds é›†åˆä»ç”¨æˆ·æ€ä¼ é€’åˆ°å†…æ ¸æ€ï¼Œè®©å†…æ ¸æ€å»æ£€æµ‹å“ªäº›ç½‘ç»œè¿æ¥æ•°æ®å°±ç»ªäº†ã€‚ä½†è¿™ä¸ªåœ°æ–¹ä¼šå‡ºç°é¢‘ç¹çš„å°†æµ·é‡ fd é›†åˆä»ç”¨æˆ·æ€ä¼ é€’åˆ°å†…æ ¸æ€ï¼Œå†ä»å†…æ ¸æ€æ‹·è´åˆ°ç”¨æˆ·æ€ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªåœ°æ–¹å¼€é”€ä¹ŸæŒºå¤§ã€‚</strong></p><p>æ—¢ç„¶è¿˜æœ‰è¿™ä¸ªé—®é¢˜ï¼Œé‚£æˆ‘ä»¬ç»§ç»­å¼€å§‹è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› æ­¤å°±å¼•å‡ºäº†ç¬¬äºŒç‰ˆçš„ IO å¤šè·¯å¤ç”¨ã€‚</p><p><strong>å…¶å®æ€è·¯ä¹ŸæŒºç®€å•ï¼Œæ—¢ç„¶éœ€è¦æ‹·è´ï¼Œé‚£å°±æƒ³åŠæ³•ï¼Œä¸æ‹·è´ã€‚æ—¢ç„¶ä¸æ‹·è´ï¼Œé‚£å°±åœ¨å†…æ ¸å¼€è¾Ÿä¸€æ®µåŒºåŸŸå’¯</strong></p><h3 id="_2-8-ä¿¡å·é©±åŠ¨çš„i-oå¤šè·¯å¤ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-8-ä¿¡å·é©±åŠ¨çš„i-oå¤šè·¯å¤ç”¨" aria-hidden="true">#</a> 2.8 ä¿¡å·é©±åŠ¨çš„I/Oå¤šè·¯å¤ç”¨</h3><p>è¯¥ç‰ˆæœ¬IOå¤šè·¯å¤ç”¨æ¨¡å‹çš„å‡ºç°ï¼Œå°±æ˜¯ä¸ºäº†è§£å†³ä¸Šä¸€ç‰ˆæœ¬ä¸­å­˜åœ¨çš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚è¯¥ç‰ˆæœ¬ä½¿ç”¨çš„å¤šè·¯å¤ç”¨å™¨æ˜¯Epollã€‚</p><p>Epoll æä¾›äº†è§£å†³ select å’Œ poll æ€§èƒ½ç“¶é¢ˆçš„æ–¹æ¡ˆï¼ŒEpoll ä¼šåœ¨å†…æ ¸ä¸­ä¿å­˜è¦ç›‘å¬çš„ Socket é›†åˆå’Œåœ¨é€‚å½“çš„æ—¶å€™é€šçŸ¥å…·ä½“å°±ç»ªçš„IOäº‹ä»¶ã€‚</p><p>Epoll è¿™ä¸ªå¤šè·¯å¤ç”¨å™¨ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨ï¼š</p><ul><li><strong>epoll_create</strong></li></ul><p>å†…æ ¸æä¾›çš„ä¸€ä¸ªåˆ›å»º epoll å¯¹è±¡çš„ç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ç”¨æˆ·è¿›ç¨‹è°ƒç”¨ epoll_create æ—¶ï¼Œå†…æ ¸ä¼šåˆ›å»ºä¸€ä¸ªeventpoll çš„ç»“æ„ä½“ï¼Œå¹¶ä¸”åˆ›å»ºç›¸å¯¹åº”çš„ file å¯¹è±¡ä¸ä¹‹ç›¸å…³è”ï¼ˆä¹Ÿå°±æ˜¯è¯´ epoll å¯¹è±¡ä¹Ÿæ˜¯ä¸ªæ–‡ä»¶ï¼Œâ€œä¸€åˆ‡çš†æ–‡ä»¶â€ï¼‰ï¼ŒåŒæ—¶å°†è¿™ä¸ªæ–‡ä»¶æ”¾å…¥è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ã€‚eventpoll çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-c++ line-numbers-mode" data-ext="c++"><pre class="language-c++"><code>struct eventpoll {
    // ç­‰å¾…é˜Ÿåˆ—ï¼Œé˜»å¡åœ¨epollä¸Šçš„çº¿ç¨‹ä¼šæ”¾åœ¨è¿™é‡Œ
    wait_queue_head_t wq;
    // å°±ç»ªé˜Ÿåˆ—ï¼ŒIOå°±ç»ªçš„Socketè¿æ¥ä¼šæ”¾åœ¨è¿™é‡Œ
    struct list_head rdllist;
    // çº¢é»‘æ ‘ï¼Œç”¨æ¥ç›‘å¬æ‰€æœ‰çš„socketè¿æ¥
    struct rb_root rbr;
    // å…³è”çš„æ–‡ä»¶å¯¹è±¡
    struct file *file;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>wait_queue_head_t wqï¼šepoll ä¸­çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œå­˜æ”¾é˜»å¡åœ¨ epoll ä¸Šçš„ç”¨æˆ·çº¿ç¨‹ï¼Œåœ¨IOå°±ç»ªçš„æ—¶å€™epoll é€šè¿‡è¿™ä¸ªé˜Ÿåˆ—ï¼Œå°†é˜»å¡ä¸­çš„çº¿ç¨‹å”¤é†’ã€‚</li><li>list_head rdllistï¼šå­˜æ”¾IOå°±ç»ªçš„ Socket è¿æ¥ï¼Œé˜»å¡åœ¨ epoll ä¸Šçš„çº¿ç¨‹è¢«å”¤é†’æ—¶ï¼Œå¯ä»¥ç›´æ¥è¯»å–è¿™ä¸ªé˜Ÿåˆ—è·å–æœ‰äº‹ä»¶å‘ç”Ÿçš„Socketï¼Œä¸ç”¨å†æ¬¡éå†æ•´ä¸ªé›†åˆï¼ˆé¿å…å…¨é‡éå†ï¼‰ã€‚</li><li>rb_root rbrï¼šepollå†…éƒ¨ä½¿ç”¨ä¸€é¢—çº¢é»‘æ ‘æ¥ç®¡ç†å¤§é‡çš„Socketè¿æ¥ï¼Œçº¢é»‘æ ‘åœ¨æŸ¥æ‰¾ã€æ’å…¥ã€åˆ é™¤ç­‰æ–¹é¢çš„ç»¼åˆæ€§èƒ½æ¯”è¾ƒä¼˜ã€‚ select ç”¨æ•°ç»„æ¥ç®¡ç†ï¼Œpoll ç”¨é“¾è¡¨æ¥ç®¡ç†ã€‚</li></ol><ul><li><strong>epoll_ctl</strong></li></ul><p>å½“åˆ›å»ºå‡ºæ¥ epoll çš„å¯¹è±¡ eventpoll åï¼Œå¯ä»¥åˆ©ç”¨ epoll_ctl å‘ eventpoll å¯¹è±¡ä¸­æ·»åŠ è¦ç®¡ç†çš„ Socketè¿æ¥ã€‚è¿™ä¸ªè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p>é¦–å…ˆä¼šåœ¨å†…æ ¸ä¸­åˆ›å»ºä¸€ä¸ªè¡¨ç¤º Socket è¿æ¥çš„æ•°æ®ç»“æ„ epitemï¼Œè¿™ä¸ª epitem å°±æ˜¯çº¢é»‘æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p><div class="language-c++ line-numbers-mode" data-ext="c++"><pre class="language-c++"><code>strict epitem {
    // æŒ‡å‘æ‰€å±çš„epollå¯¹è±¡
    struct eventpoll *ep;
    // æ³¨å†Œæ„Ÿå…´è¶£çš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·ç©ºé—´çš„epoll_event
    struct epoll_event event;
    // æŒ‡å‘epollä¸­çš„å°±ç»ªé˜Ÿåˆ—
    struct list_head rdllink;
    // æŒ‡å‘epollä¸­çš„çº¢é»‘æ ‘èŠ‚ç‚¹
    struct rb_node rbn;
    // æŒ‡å‘epitemæ‰€è¡¨ç¤ºçš„Socketæ–‡ä»¶
    struct epoll_filefd ffd;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å†…æ ¸åœ¨åˆ›å»ºå®Œ epitem ç»“æ„åï¼Œéœ€è¦åœ¨ Socket ä¸­çš„ç­‰å¾…é˜Ÿåˆ—ä¸Šåˆ›å»ºç­‰å¾…é¡¹ wait_queue_tï¼Œå¹¶ä¸”æ³¨å†Œ epoll çš„å›è°ƒå‡½æ•° ep_poll_callbackã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ˜¯ epoll åŒæ­¥IOäº‹ä»¶é€šçŸ¥æœºåˆ¶çš„æ ¸å¿ƒæ‰€åœ¨ï¼Œä¹Ÿæ˜¯åŒºåˆ«äº selectã€poll é‡‡ç”¨è½®è¯¢æ–¹å¼æ€§èƒ½å·®å¼‚æ‰€åœ¨ã€‚ep_poll_callback ä¼šæ‰¾åˆ° epitemï¼Œå°†IOå°±ç»ªçš„ epitem æ”¾å…¥åˆ° epoll çš„å°±ç»ªé˜Ÿåˆ—ï¼ˆeventpoll-&gt;rdllitï¼‰ä¸­ã€‚ï¼ˆé€šè¿‡ä¸€ä¸ª epoll_entry çš„ç»“æ„å…³è” Socket ç­‰å¾…é˜Ÿåˆ—ä¸Šçš„ wait_queue_t å’Œ epitemï¼‰</p></li><li><p>åœ¨ Socket ç­‰å¾…é˜Ÿåˆ—åˆ›å»ºå¥½ç­‰å¾…é¡¹ï¼Œæ³¨å†Œå›è°ƒå‡½æ•°å¹¶å…³è”å¥½ epitem åï¼Œå°±å¯ä»¥å°† epitem æ’å…¥çº¢é»‘æ ‘ä¸­äº†ã€‚ epoll çº¢é»‘æ ‘ä¼˜åŒ–ç‚¹ä¹‹ä¸€ï¼šæ’å…¥åˆ é™¤ Socket è¿æ¥ä¸éœ€è¦åƒ selectã€poll é‚£æ ·å…¨é‡å¤åˆ¶ã€‚ epoll_wait epoll_wait ç”¨äºåŒæ­¥é˜»å¡çº¿ç¨‹ï¼Œè·å–IOå°±ç»ªçš„ Socketã€‚</p></li><li><p>ç”¨æˆ·ç¨‹åºè°ƒç”¨ epoll_wait åï¼Œè¿›å…¥å†…æ ¸é¦–å…ˆä¼šæ‰¾åˆ° epoll ä¸­çš„å°±ç»ªé˜Ÿåˆ— eventpoll-&gt;rdllit æ˜¯å¦æœ‰å°±ç»ªçš„ epitemã€‚å¦‚æœæœ‰çš„è¯å°† epitm ä¸­å°è£…çš„ socket ä¿¡æ¯å°è£…åˆ° epoll_event è¿”å›ã€‚</p></li><li><p>å¦‚æœå°±ç»ªé˜Ÿåˆ—ä¸­æ²¡æœ‰IOå°±ç»ªçš„ epitemï¼Œåˆ™ä¼šåˆ›å»º Socket ç­‰å¾…é˜Ÿåˆ—ä¸Šçš„ç­‰å¾…é¡¹ï¼Œå°†ç”¨æˆ·çº¿ç¨‹çš„fdå…³è”åˆ° wait_queue_t-&gt;private ä¸Šï¼Œå¹¶æ³¨å†Œå›è°ƒå‡½æ•° default_wake_functionã€‚æœ€åå°†ç­‰å¾…é¡¹æ·»åŠ åˆ°epoll ä¸­çš„ç­‰å¾…é˜Ÿåˆ—ï¼ˆeventpoll-&gt;wqï¼‰ä¸­ã€‚ç”¨æˆ·çº¿ç¨‹è®©å‡ºCPUï¼Œè¿›å…¥é˜»å¡çŠ¶æ€ã€‚ å½“ epoll ä¸­æœ‰äº‹ä»¶å‘ç”Ÿæ—¶çš„å·¥ä½œæµç¨‹ï¼š</p></li><li><p>å½“æ•°æ®åŒ…é€šè¿‡è½¯ä¸­æ–­ç»è¿‡å†…æ ¸åè®®æ ˆåˆ°è¾¾ Socket çš„æ¥å—ç¼“å†²åŒºçš„æ—¶å€™ï¼Œå†…æ ¸ä¼šè°ƒç”¨æ•°æ®å°±ç»ªå›è°ƒå‡½æ•°ï¼Œåœ¨ Socket çš„ç­‰å¾…é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç­‰å¾…é¡¹ï¼ˆwait_queue_tï¼‰ï¼Œè¯¥ç­‰å¾…é¡¹æ³¨å†Œçš„å›è°ƒå‡½æ•°ä¸ºep_poll_callbackã€‚</p></li><li><p>åœ¨å›è°ƒå‡½æ•° ep_poll_callback ä¸­æ‰¾åˆ°å…³è”çš„ epitem å¯¹è±¡ï¼ˆé€šè¿‡ epoll_entity ç»“æ„ä½“ï¼‰ï¼Œå¹¶å°†å®ƒæ”¾åˆ° epoll çš„å°±ç»ªé˜Ÿåˆ—ï¼ˆeventpoll-&gt;rdllistï¼‰ä¸­ã€‚</p></li><li><p>æ¥ç€æŸ¥çœ‹ eventpoll ä¸­çš„ç­‰å¾…é˜Ÿåˆ—ï¼ˆeventpoll-&gt;wait_queue_head_tï¼‰ä¸­æ˜¯å¦æœ‰ç­‰å¾…é¡¹ï¼Œå¦‚æœæœ‰çš„è¯å”¤é†’å¯¹åº”çš„çº¿ç¨‹ï¼Œå°† Socket ä¿¡æ¯å°è£…åˆ° epoll_event ä¸­è¿”å›ã€‚</p></li><li><p>ç”¨æˆ·çº¿ç¨‹æ‹¿åˆ° epoll_event è·å–IOå°±ç»ªçš„ socketï¼Œå°±å¯ä»¥é’ˆå¯¹è¯¥ socket å‘èµ·ç³»ç»Ÿè°ƒç”¨è¯»å–æ•°æ®äº†ã€‚</p></li></ol><p>æ€»ç»“epollçš„ä¼˜åŒ–ç‚¹</p><ul><li>å†…æ ¸ä¸­é€šè¿‡çº¢é»‘æ ‘ç»´æŠ¤æµ·é‡è¿æ¥ï¼Œåœ¨è°ƒç”¨ epoll_wait æ—¶ä¸éœ€è¦è¿”å›å…¨éƒ¨ç›‘å¬çš„ Socket é›†åˆï¼Œå†…æ ¸åªéœ€è¦å°†å°±ç»ªé˜Ÿåˆ—ä¸­çš„ Socket é›†åˆè¿”å›å³å¯ã€‚</li><li>epoll é€šè¿‡åŒæ­¥IOäº‹ä»¶çš„æœºåˆ¶å°†IOå°±ç»ªçš„ Socket æ”¾å…¥å°±ç»ªé˜Ÿåˆ—ä¸­ã€‚ä¸ç”¨å»éå†æ‰€æœ‰æ‰€æœ‰ Socketé›†åˆã€‚</li></ul><p>ä¿¡å·é©±åŠ¨IOæ¨¡å‹ã€‚å›¾ä¾‹å¦‚ä¸‹ï¼š</p><p><img src="/assets/nio-202109212004-516636de.jpg" alt="img"></p><p>ç”¨æˆ·è¿›ç¨‹å‘èµ·ä¸€ä¸ªIOæ“ä½œï¼Œä¼šå‘å†…æ ¸æ³¨å†Œä¸€ä¸ªä¿¡å·å¤„ç†ç¨‹åºï¼Œç„¶å <strong>ç«‹å³è¿”å›ä¸é˜»å¡</strong>ï¼Œå½“å†…æ ¸å°†æ•°æ®æŠ¥å‡†å¤‡å¥½åä¼šå‘é€ä¸€ä¸ªä¿¡å·ç»™ç”¨æˆ·è¿›ç¨‹ï¼Œè¿™æ—¶å€™ç”¨æˆ·è¿›ç¨‹ä¾¿å¯ä»¥åœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­è°ƒç”¨IOå¤„ç†æ•°æ®æŠ¥ã€‚å®ƒä¸IOå¤ç”¨æ¨¡å‹çš„ä¸»è¦åŒºåˆ«æ˜¯ç­‰å¾…æ•°æ®é˜¶æ®µæ— é˜»å¡ã€‚</p><p>ä¿¡å·é©±åŠ¨ä»ç„¶æ˜¯åŒæ­¥IOï¼Œå› ä¸ºåœ¨æ•°æ®æ‹·è´é˜¶æ®µä»ç„¶æ˜¯éœ€è¦ç”¨æˆ·çº¿ç¨‹è‡ªå·±æ‹·è´çš„ã€‚</p><ul><li>ä¼˜ç‚¹ <ul><li>é‡‡ç”¨å›è°ƒæœºåˆ¶ï¼Œç­‰å¾…æ•°æ®é˜¶æ®µæ— é˜»å¡</li><li>é€‚ç”¨äºé«˜å¹¶å‘åº”ç”¨ç¨‹åº</li></ul></li><li>ç¼ºç‚¹ <ul><li>æ¨¡å‹è¾ƒä¸ºå¤æ‚ï¼Œå®ç°èµ·æ¥æœ‰ç‚¹å„¿å›°éš¾</li></ul></li></ul><h3 id="_2-9-å¼‚æ­¥ioæ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_2-9-å¼‚æ­¥ioæ¨¡å‹" aria-hidden="true">#</a> 2.9 å¼‚æ­¥IOæ¨¡å‹</h3><p>ä¿¡å·é©±åŠ¨IOæ¨¡å‹ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº†IOæ“ä½œæµç¨‹ï¼Œç»è¿‡äº†ä¸‰è½®ä¼˜åŒ–ï¼Œå®ƒç»ˆäºä¸ç”¨åœ¨æ•°æ®ç­‰å¾…é˜¶æ®µé˜»å¡äº†ï¼Œä½†æ˜¯åœ¨æ•°æ®å¤åˆ¶èŠ‚ç‚¹ä¾ç„¶æ˜¯é˜»å¡çš„ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–çš„è¯ï¼Œåªéœ€è¦æŠŠç¬¬äºŒä¸ªé˜¶æ®µä¹Ÿè¿›ä¸€æ­¥ä¼˜åŒ–ä¸ºå¼‚æ­¥ï¼Œæˆ‘ä»¬å°±å¤§åŠŸå‘Šæˆäº†ï¼Œä¹Ÿå°±å˜æˆäº†çœŸæ­£çš„å¼‚æ­¥IOäº†ã€‚</p><p><img src="/assets/nio-202109212005-1bddbd89.jpg" alt="img"></p><p>å½“è¿›ç¨‹å‘é€ä¸€ä¸ªIOæ“ä½œï¼Œè¿›ç¨‹ä¼šç«‹åˆ»è¿”å›ï¼ˆä¸é˜»å¡ï¼‰ï¼Œä½†æ˜¯ä¹Ÿä¸èƒ½è¿”å›ç»“æœï¼Œå†…æ ¸ä¼šæŠŠæ•´ä¸ªIOæ•°æ®æŠ¥å‡†å¤‡å¥½åï¼Œå†é€šçŸ¥è¿›ç¨‹ï¼Œè¿›ç¨‹å†å¤„ç†æ•°æ®æŠ¥ã€‚</p><ul><li>ä¼˜ç‚¹ <ul><li>æ•´ä¸ªè¿‡ç¨‹éƒ½ä¸é˜»å¡ï¼Œä¸€æ­¥åˆ°ä½</li><li>éå¸¸ä½¿ç”¨é«˜å¹¶å‘åº”ç”¨</li></ul></li><li>ç¼ºç‚¹ <ul><li>éœ€è¦æ“ä½œç³»ç»Ÿçš„åº•å±‚æ”¯æŒï¼ŒLINUX 2.5 ç‰ˆæœ¬å†…æ ¸é¦–ç°ï¼Œ2.6 ç‰ˆæœ¬äº§å“çš„å†…æ ¸æ ‡å‡†ç‰¹æ€§</li><li>æ¨¡å‹å¤æ‚ï¼Œå®ç°ã€å¼€å‘éš¾åº¦è¾ƒå¤§</li></ul></li></ul><h3 id="_2-10-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_2-10-æ€»ç»“" aria-hidden="true">#</a> 2.10 æ€»ç»“</h3><p>äº”ç§IOæ¨¡å‹ï¼Œå±‚å±‚é€’è¿›ï¼Œä¸€ä¸ªæ¯”ä¸€ä¸ªæ€§èƒ½é«˜ï¼Œå½“ç„¶æ¨¡å‹çš„å¤æ‚åº¦ä¹Ÿä¸€ä¸ªæ¯”ä¸€ä¸ªå¤æ‚ã€‚æœ€åç”¨ä¸€å¼ å›¾æ¥æ€»ç»“ä¸‹</p><p><img src="/assets/nio-202109212006-ec37bf2f.jpg" alt="img"></p><hr><p>IOé¢è¯•é¢˜ - åŸºç¡€</p><blockquote><ul><li>NIOä¸IOçš„åŒºåˆ«</li><li>NIOå’ŒIOé€‚ç”¨åœºæ™¯</li><li>BIO,NIO,AIOæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåˆ†åˆ«æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿ</li><li>NIOå¦‚ä½•é€šè¿‡Bufferæ¥ç¼“å†²æ•°æ®çš„</li><li>ä»€ä¹ˆæ˜¯Reactoræ¨¡å‹ï¼Ÿä»€ä¹ˆæ˜¯Proactoræ¨¡å‹ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯é€‰æ‹©å™¨ï¼Ÿå®é™…å·¥ä½œä¸­æ€ä¹ˆä½¿ç”¨</li><li>Javaçš„å¼‚æ­¥ç¼–ç¨‹ã€å¼‚æ­¥ç½‘ç»œç¼–ç¨‹å¦‚ä½•å®ç°çš„ï¼Ÿ</li><li>Reactoræ¨¡å‹æœ‰å‡ ç§ï¼Ÿå¦‚ä½•å®ç°</li></ul></blockquote><p>IOé¢è¯•é¢˜ - é«˜çº§/èµ„æ·±</p><blockquote><ul><li>Tomcatçº¿ç¨‹æ¨¡å‹å¦‚ä½•å®ç°ï¼Œä¸ºä½•ä¸ç”¨Netty?</li><li>Tomcatçš„NIOå’ŒNIO2æœ‰ä½•åŒºåˆ«ï¼Ÿæ€ä¹ˆé€‰æ‹©ï¼Ÿ</li><li>Tomcatçš„Accept Countã€Max Connectionsã€Max Threadsæ˜¯ä»€ä¹ˆï¼Ÿ</li><li>Nettyçº¿ç¨‹æ¨¡å‹å¦‚ä½•å®ç°ï¼Ÿ</li><li>ä»€ä¹ˆæ˜¯EventLoopï¼Ÿä»€ä¹ˆæ˜¯EventLoopGroup</li><li>Netty:çº¿ç¨‹æ¨¡å‹åœ¨ä½¿ç”¨ä¸­æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Ÿ</li><li>Nettyçš„Channelå¦‚ä½•å¤„ç†çš„ï¼Ÿçº¿ç¨‹å®‰å…¨å—ï¼Ÿ</li><li>Netty:å¦‚ä½•å®ç°Javaå±‚é¢çš„é›¶æ‹·è´çš„ï¼Ÿ</li><li>Linuxå†…æ ¸IOæ“ä½œå®ç°åŸç†äº†è§£å—ï¼Ÿ</li><li>Linuxå†…æ ¸å¦‚ä½•å®ç°é›¶æ‹·è´ï¼Ÿ</li></ul></blockquote></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 895252461@qq.com">è¯—äººéƒ½è—åœ¨æ°´åº•</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-9aa256ea.js" defer></script>
  </body>
</html>
