<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.57" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>Javaå¹¶å‘ç¼–ç¨‹åŸºç¡€ | Java æˆç¥ä¹‹è·¯</title><meta name="description" content="è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª VuePress ç«™ç‚¹">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-72ee67ce.css" as="style" /><link rel="stylesheet" href="/assets/style-72ee67ce.css" />
    <link rel="modulepreload" href="/assets/app-c593f505.js"><link rel="modulepreload" href="/assets/framework-4ec38622.js"><link rel="modulepreload" href="/assets/java-concurrent-base.html-4092d51f.js"><link rel="modulepreload" href="/assets/java-concurrent-base.html-2e26c5a1.js"><link rel="prefetch" href="/assets/index.html-4e1da2c4.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-df701e40.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-overview.html-94372eca.js" as="script" /><link rel="prefetch" href="/assets/gitbook.html-432908fc.js" as="script" /><link rel="prefetch" href="/assets/mysql-advance.html-b6faea43.js" as="script" /><link rel="prefetch" href="/assets/mysql-apply.html-e0982e6c.js" as="script" /><link rel="prefetch" href="/assets/mysql-base.html-15774da0.js" as="script" /><link rel="prefetch" href="/assets/mysql-devops.html-5cee1349.js" as="script" /><link rel="prefetch" href="/assets/redis-base.html-e17677ed.js" as="script" /><link rel="prefetch" href="/assets/redis-cluster.html-8712f49e.js" as="script" /><link rel="prefetch" href="/assets/redis-overview.html-1fca9f7e.js" as="script" /><link rel="prefetch" href="/assets/java-base.html-ca97d2c7.js" as="script" /><link rel="prefetch" href="/assets/java-sql.html-bbe6c4c2.js" as="script" /><link rel="prefetch" href="/assets/java-time.html-ce7c9496.js" as="script" /><link rel="prefetch" href="/assets/java-collection-list.html-8bbef8fd.js" as="script" /><link rel="prefetch" href="/assets/java-collection-map.html-9ee599cf.js" as="script" /><link rel="prefetch" href="/assets/java-collection-overview.html-31570b40.js" as="script" /><link rel="prefetch" href="/assets/Java-concurrent-container.html-e5f75933.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-interview.html-d289133d.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-lock.html-cbd95e38.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-pool.html-a9ecee05.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-tools.html-76151b53.js" as="script" /><link rel="prefetch" href="/assets/java-bio.html-d706ae9b.js" as="script" /><link rel="prefetch" href="/assets/java-io-base.html-bb263882.js" as="script" /><link rel="prefetch" href="/assets/java-nio.html-2de47e3f.js" as="script" /><link rel="prefetch" href="/assets/Javaå†…å­˜æ¨¡å‹.html-0e76463e.js" as="script" /><link rel="prefetch" href="/assets/JVMå†…å­˜ç»“æ„.html-b17bcef0.js" as="script" /><link rel="prefetch" href="/assets/JVMåƒåœ¾å›æ”¶.html-ee219a34.js" as="script" /><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-b4ce8fc6.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»åŠ è½½å™¨.html-dd7f5a89.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»æ–‡ä»¶ç»“æ„.html-8859cd08.js" as="script" /><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-0d15b1ba.js" as="script" /><link rel="prefetch" href="/assets/java-servlet.html-c7a54ede.js" as="script" /><link rel="prefetch" href="/assets/java-lambda.html-56b847d2.js" as="script" /><link rel="prefetch" href="/assets/java-stream.html-6167e062.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-base.html-f5a4e8e5.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-source.html-7a2f3fac.js" as="script" /><link rel="prefetch" href="/assets/jackson-overview.html-57cfb768.js" as="script" /><link rel="prefetch" href="/assets/kafka-broker.html-a30f3377.js" as="script" /><link rel="prefetch" href="/assets/kafka-consumer.html-2a1327ac.js" as="script" /><link rel="prefetch" href="/assets/kafka-overview.html-698972bc.js" as="script" /><link rel="prefetch" href="/assets/kafka-producer.html-579ce0f8.js" as="script" /><link rel="prefetch" href="/assets/spring-kafka.html-b1a1e4d1.js" as="script" /><link rel="prefetch" href="/assets/log-framework.html-98a12691.js" as="script" /><link rel="prefetch" href="/assets/1.Hello World.html-4b77eac1.js" as="script" /><link rel="prefetch" href="/assets/2.Global Config.html-bd544474.js" as="script" /><link rel="prefetch" href="/assets/index.html-905c3f62.js" as="script" /><link rel="prefetch" href="/assets/sharding-sphere.html-a30db686.js" as="script" /><link rel="prefetch" href="/assets/shiro-overview.html-fa31ba73.js" as="script" /><link rel="prefetch" href="/assets/tomcat.html-4ad2c770.js" as="script" /><link rel="prefetch" href="/assets/data-structure-list.html-17b01002.js" as="script" /><link rel="prefetch" href="/assets/data-structure-overview.html-44ed6838.js" as="script" /><link rel="prefetch" href="/assets/data-structure-tree.html-c806dd3b.js" as="script" /><link rel="prefetch" href="/assets/design-adapter.html-0e9d816d.js" as="script" /><link rel="prefetch" href="/assets/design-chain.html-bb17cabc.js" as="script" /><link rel="prefetch" href="/assets/design-composite.html-1d475fbf.js" as="script" /><link rel="prefetch" href="/assets/design-decorator.html-4f27f10a.js" as="script" /><link rel="prefetch" href="/assets/design-overview.html-0a940fb3.js" as="script" /><link rel="prefetch" href="/assets/design-proxy.html-100e60b2.js" as="script" /><link rel="prefetch" href="/assets/design-strategy.html-a2df8a49.js" as="script" /><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-86771022.js" as="script" /><link rel="prefetch" href="/assets/linux-overview.html-2bd9af93.js" as="script" /><link rel="prefetch" href="/assets/encoding.html-304390cc.js" as="script" /><link rel="prefetch" href="/assets/encryption-algorithm.html-fb0becaa.js" as="script" /><link rel="prefetch" href="/assets/temp.html-ac4ce374.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-c6481b26.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-ba0c8ae7.js" as="script" /><link rel="prefetch" href="/assets/spring-source-overview.html-9371e343.js" as="script" /><link rel="prefetch" href="/assets/spring-boot-condition.html-a415267e.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-commons-base.html-f75ee2c9.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-gateway.html-03291875.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-ccdc0547.js" as="script" /><link rel="prefetch" href="/assets/nacos-client-discovery.html-17a81d03.js" as="script" /><link rel="prefetch" href="/assets/nacos-overview.html-539b7085.js" as="script" /><link rel="prefetch" href="/assets/cloud-openfeign-action.html-7761387f.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-10212321.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-8669a44d.js" as="script" /><link rel="prefetch" href="/assets/sentinel-source.html-dc297934.js" as="script" /><link rel="prefetch" href="/assets/git.html-cb7e5449.js" as="script" /><link rel="prefetch" href="/assets/gitlab.html-eb2126d8.js" as="script" /><link rel="prefetch" href="/assets/junit4.html-6c786952.js" as="script" /><link rel="prefetch" href="/assets/junit5.html-e36d7d70.js" as="script" /><link rel="prefetch" href="/assets/maven.html-e0151a0f.js" as="script" /><link rel="prefetch" href="/assets/reactor.html-cd44ff8d.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-init.html-b8105d34.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-listener.html-7b8c6479.js" as="script" /><link rel="prefetch" href="/assets/404.html-f04ced3e.js" as="script" /><link rel="prefetch" href="/assets/index.html-62ca9f14.js" as="script" /><link rel="prefetch" href="/assets/index.html-fc52137e.js" as="script" /><link rel="prefetch" href="/assets/index.html-ee301928.js" as="script" /><link rel="prefetch" href="/assets/index.html-d0c5f0f0.js" as="script" /><link rel="prefetch" href="/assets/index.html-25bcd8c4.js" as="script" /><link rel="prefetch" href="/assets/index.html-37f2094a.js" as="script" /><link rel="prefetch" href="/assets/index.html-50de9de4.js" as="script" /><link rel="prefetch" href="/assets/index.html-a6bbb2fe.js" as="script" /><link rel="prefetch" href="/assets/index.html-afe963e2.js" as="script" /><link rel="prefetch" href="/assets/index.html-e1231d43.js" as="script" /><link rel="prefetch" href="/assets/index.html-c4d07d46.js" as="script" /><link rel="prefetch" href="/assets/index.html-19c8c7e9.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-b5da756c.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-overview.html-ff9b794b.js" as="script" /><link rel="prefetch" href="/assets/gitbook.html-5a50abf0.js" as="script" /><link rel="prefetch" href="/assets/mysql-advance.html-79a57a00.js" as="script" /><link rel="prefetch" href="/assets/mysql-apply.html-b76d628d.js" as="script" /><link rel="prefetch" href="/assets/mysql-base.html-95625c2f.js" as="script" /><link rel="prefetch" href="/assets/mysql-devops.html-74e24111.js" as="script" /><link rel="prefetch" href="/assets/redis-base.html-0c64fcd1.js" as="script" /><link rel="prefetch" href="/assets/redis-cluster.html-d9e53ddd.js" as="script" /><link rel="prefetch" href="/assets/redis-overview.html-d8ed14d9.js" as="script" /><link rel="prefetch" href="/assets/java-base.html-bb254e89.js" as="script" /><link rel="prefetch" href="/assets/java-sql.html-98f87090.js" as="script" /><link rel="prefetch" href="/assets/java-time.html-1149c2e2.js" as="script" /><link rel="prefetch" href="/assets/java-collection-list.html-dcb82f95.js" as="script" /><link rel="prefetch" href="/assets/java-collection-map.html-20b29455.js" as="script" /><link rel="prefetch" href="/assets/java-collection-overview.html-0153adc1.js" as="script" /><link rel="prefetch" href="/assets/Java-concurrent-container.html-f22d5109.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-interview.html-02742a0a.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-lock.html-41872812.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-pool.html-b7de958e.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-tools.html-b9ad45db.js" as="script" /><link rel="prefetch" href="/assets/java-bio.html-a5769212.js" as="script" /><link rel="prefetch" href="/assets/java-io-base.html-e3ef5e77.js" as="script" /><link rel="prefetch" href="/assets/java-nio.html-a3fa4765.js" as="script" /><link rel="prefetch" href="/assets/Javaå†…å­˜æ¨¡å‹.html-087adb9d.js" as="script" /><link rel="prefetch" href="/assets/JVMå†…å­˜ç»“æ„.html-4bc916e1.js" as="script" /><link rel="prefetch" href="/assets/JVMåƒåœ¾å›æ”¶.html-c6e0e3e0.js" as="script" /><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-435f6ec8.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»åŠ è½½å™¨.html-0c7f8931.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»æ–‡ä»¶ç»“æ„.html-5afd6d1d.js" as="script" /><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-9a1a4154.js" as="script" /><link rel="prefetch" href="/assets/java-servlet.html-f9646dd1.js" as="script" /><link rel="prefetch" href="/assets/java-lambda.html-1db83529.js" as="script" /><link rel="prefetch" href="/assets/java-stream.html-8b490468.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-base.html-d01cd368.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-source.html-27512376.js" as="script" /><link rel="prefetch" href="/assets/jackson-overview.html-ccca046f.js" as="script" /><link rel="prefetch" href="/assets/kafka-broker.html-7cc959b4.js" as="script" /><link rel="prefetch" href="/assets/kafka-consumer.html-35141192.js" as="script" /><link rel="prefetch" href="/assets/kafka-overview.html-b243daf8.js" as="script" /><link rel="prefetch" href="/assets/kafka-producer.html-93a69d00.js" as="script" /><link rel="prefetch" href="/assets/spring-kafka.html-0032d80c.js" as="script" /><link rel="prefetch" href="/assets/log-framework.html-5769500e.js" as="script" /><link rel="prefetch" href="/assets/1.Hello World.html-78e7fc50.js" as="script" /><link rel="prefetch" href="/assets/2.Global Config.html-d3157ebb.js" as="script" /><link rel="prefetch" href="/assets/index.html-44ddef87.js" as="script" /><link rel="prefetch" href="/assets/sharding-sphere.html-2e54e4df.js" as="script" /><link rel="prefetch" href="/assets/shiro-overview.html-e44b2286.js" as="script" /><link rel="prefetch" href="/assets/tomcat.html-653f98cd.js" as="script" /><link rel="prefetch" href="/assets/data-structure-list.html-420dc821.js" as="script" /><link rel="prefetch" href="/assets/data-structure-overview.html-e227421d.js" as="script" /><link rel="prefetch" href="/assets/data-structure-tree.html-752ceeb1.js" as="script" /><link rel="prefetch" href="/assets/design-adapter.html-41aa7652.js" as="script" /><link rel="prefetch" href="/assets/design-chain.html-8685e4e6.js" as="script" /><link rel="prefetch" href="/assets/design-composite.html-4375b033.js" as="script" /><link rel="prefetch" href="/assets/design-decorator.html-2b2ae807.js" as="script" /><link rel="prefetch" href="/assets/design-overview.html-300948fd.js" as="script" /><link rel="prefetch" href="/assets/design-proxy.html-e1813076.js" as="script" /><link rel="prefetch" href="/assets/design-strategy.html-a31637dd.js" as="script" /><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-ae330cc5.js" as="script" /><link rel="prefetch" href="/assets/linux-overview.html-8ac20a5d.js" as="script" /><link rel="prefetch" href="/assets/encoding.html-f8e7f158.js" as="script" /><link rel="prefetch" href="/assets/encryption-algorithm.html-bfb3dc64.js" as="script" /><link rel="prefetch" href="/assets/temp.html-ec342781.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-a44c5c69.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-edba8ecd.js" as="script" /><link rel="prefetch" href="/assets/spring-source-overview.html-576738e8.js" as="script" /><link rel="prefetch" href="/assets/spring-boot-condition.html-b4e4df1a.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-commons-base.html-39238198.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-gateway.html-7a4e7b1f.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-7a202164.js" as="script" /><link rel="prefetch" href="/assets/nacos-client-discovery.html-1f7ae7f3.js" as="script" /><link rel="prefetch" href="/assets/nacos-overview.html-43d7250d.js" as="script" /><link rel="prefetch" href="/assets/cloud-openfeign-action.html-7559bcf7.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-47e8c26d.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-a27e5c44.js" as="script" /><link rel="prefetch" href="/assets/sentinel-source.html-dc357213.js" as="script" /><link rel="prefetch" href="/assets/git.html-eefdc275.js" as="script" /><link rel="prefetch" href="/assets/gitlab.html-65555382.js" as="script" /><link rel="prefetch" href="/assets/junit4.html-c35363b6.js" as="script" /><link rel="prefetch" href="/assets/junit5.html-bdf5716e.js" as="script" /><link rel="prefetch" href="/assets/maven.html-7c434596.js" as="script" /><link rel="prefetch" href="/assets/reactor.html-f20890c4.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-init.html-27ad7747.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-listener.html-2166addd.js" as="script" /><link rel="prefetch" href="/assets/404.html-46b6c18e.js" as="script" /><link rel="prefetch" href="/assets/index.html-ed68d2be.js" as="script" /><link rel="prefetch" href="/assets/index.html-398e9a2c.js" as="script" /><link rel="prefetch" href="/assets/index.html-902245d5.js" as="script" /><link rel="prefetch" href="/assets/index.html-93ba03a9.js" as="script" /><link rel="prefetch" href="/assets/index.html-70956359.js" as="script" /><link rel="prefetch" href="/assets/index.html-f0a732cd.js" as="script" /><link rel="prefetch" href="/assets/index.html-3344b751.js" as="script" /><link rel="prefetch" href="/assets/index.html-6d2a3ffd.js" as="script" /><link rel="prefetch" href="/assets/index.html-a5787a89.js" as="script" /><link rel="prefetch" href="/assets/index.html-440f50d2.js" as="script" /><link rel="prefetch" href="/assets/index.html-a7274cc8.js" as="script" /><link rel="prefetch" href="/assets/clientConfigs-bdea5ab7.js" as="script" /><link rel="prefetch" href="/assets/clientConfigs-bdea5ab7.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">Java æˆç¥ä¹‹è·¯</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java ç¬”è®°"><span class="title"><!---->Java ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java åŸºç¡€</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-base/java-base.html" class="nav-link" aria-label="Java åŸºç¡€çŸ¥è¯†"><!---->Java åŸºç¡€çŸ¥è¯†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java IO</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-io/java-io-base.html" class="nav-link" aria-label="Java IO åŸºç¡€çŸ¥è¯†"><!---->Java IO åŸºç¡€çŸ¥è¯†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java é›†åˆ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-collection/java-collection-overview.html" class="nav-link" aria-label="Java é›†åˆæ¦‚è§ˆ"><!---->Java é›†åˆæ¦‚è§ˆ<!----></a></li><li class="dropdown-subitem"><a href="/java/java-collection/java-collection-list.html" class="nav-link" aria-label="Java Listé›†åˆ"><!---->Java Listé›†åˆ<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java å¹¶å‘</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Java å¹¶å‘åŸºç¡€"><!---->Java å¹¶å‘åŸºç¡€<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JVM è¯¦è§£</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E6%A6%82%E8%A7%88.html" class="nav-link" aria-label="JVMæ¦‚è§ˆ"><!---->JVMæ¦‚è§ˆ<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.html" class="nav-link" aria-label="JVMå†…å­˜ç»“æ„"><!---->JVMå†…å­˜ç»“æ„<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link" aria-label="JVMåƒåœ¾å›æ”¶"><!---->JVMåƒåœ¾å›æ”¶<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84.html" class="nav-link" aria-label="JVMç±»æ–‡ä»¶ç»“æ„"><!---->JVMç±»æ–‡ä»¶ç»“æ„<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html" class="nav-link" aria-label="JVMç±»åŠ è½½å™¨"><!---->JVMç±»åŠ è½½å™¨<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVMå†…å­˜æ¨¡å‹.html" class="nav-link" aria-label="Javaå†…å­˜æ¨¡å‹"><!---->Javaå†…å­˜æ¨¡å‹<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring ç¬”è®°"><span class="title"><!---->Spring ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring IOC</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/test02.html" class="nav-link" aria-label="Spring IOCè¯¦è§£"><!---->Spring IOCè¯¦è§£<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring åç½®å¤„ç†å™¨è§£æ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/spring-bean-post-processor/BeanPostProcessor-base.html" class="nav-link" aria-label="Spring åç½®å¤„ç†å™¨æ€»è§ˆ"><!---->Spring åç½®å¤„ç†å™¨æ€»è§ˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring Cloud"><span class="title"><!---->Spring Cloud</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-overview.html" class="nav-link" aria-label="Spring Cloud Overview"><!---->Spring Cloud Overview<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-nacos.md" class="nav-link" aria-label="Spring Cloud Nacos"><!---->Spring Cloud Nacos<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-sentinel.md" class="nav-link" aria-label="Spring Cloud Sentinel"><!---->Spring Cloud Sentinel<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-seate.html" class="nav-link" aria-label="Spring Cloud Seate"><!---->Spring Cloud Seate<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-ribbon/spring-cloud-ribbon.html" class="nav-link" aria-label="Spring Cloud Ribbon"><!---->Spring Cloud Ribbon<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><!---->æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MySQL</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/database/mysql/mysql-base.html" class="nav-link" aria-label="MySQL åŸºç¡€ç¯‡"><!---->MySQL åŸºç¡€ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-advance.html" class="nav-link" aria-label="MySQL è¿›é˜¶ç¯‡"><!---->MySQL è¿›é˜¶ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-devops.html" class="nav-link" aria-label="MySQL è¿ç»´ç¯‡"><!---->MySQL è¿ç»´ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-apply.html" class="nav-link" aria-label="MySQL åº”ç”¨ç¯‡"><!---->MySQL åº”ç”¨ç¯‡<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è‡ªæˆ‘ä¿®å…»"><span class="title"><!---->è‡ªæˆ‘ä¿®å…»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/quality/design-mode/design-overview.html" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-item"><a href="/quality/data-structure/data-structure-overview.html" class="nav-link" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a></li><li class="dropdown-item"><a href="/quality/linux/linux-overview.html" class="nav-link" aria-label="Linux æ€»ç»“"><!---->Linux æ€»ç»“<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä¸­é—´ä»¶"><span class="title"><!---->ä¸­é—´ä»¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/middleware/tomcat/tomcat.html" class="nav-link" aria-label="Tomcat ä¸“é¢˜"><!---->Tomcat ä¸“é¢˜<!----></a></li><li class="dropdown-item"><a href="/middleware/kafka/kafka-overview.html" class="nav-link" aria-label="Kafka ä¸“é¢˜"><!---->Kafka ä¸“é¢˜<!----></a></li><li class="dropdown-item"><a href="/middleware/redis/redis-overview.md" class="nav-link" aria-label="Redis ä¸“é¢˜"><!---->Redis ä¸“é¢˜<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å·¥å…·åŒ…"><span class="title"><!---->å·¥å…·åŒ…</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Junit æµ‹è¯•æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tools/junit/junit5.html" class="nav-link" aria-label="Junit 5 ä½¿ç”¨æ€»ç»“"><!---->Junit 5 ä½¿ç”¨æ€»ç»“<!----></a></li></ul></li><li class="dropdown-item"><a href="/tools/log/log-framework.md" class="nav-link" aria-label="Java æ—¥å¿—æ¡†æ¶"><!---->Java æ—¥å¿—æ¡†æ¶<!----></a></li><li class="dropdown-item"><a href="/tools/maven/maven.html" class="nav-link" aria-label="Maven ä½¿ç”¨å…¥é—¨"><!---->Maven ä½¿ç”¨å…¥é—¨<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Java é›†åˆ</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/java/java-collection/java-collection-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="Java é›†åˆæ€»è§ˆ"><!---->Java é›†åˆæ€»è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-collection/java-collection-list.html" class="nav-link sidebar-link sidebar-page" aria-label="Java é›†åˆä¹‹List"><!---->Java é›†åˆä¹‹List<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-collection/java-collection-map.html" class="nav-link sidebar-link sidebar-page" aria-label="Java é›†åˆä¹‹Map"><!---->Java é›†åˆä¹‹Map<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Java IO æ¨¡å‹</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/java/java-io/java-io-base.html" class="nav-link sidebar-link sidebar-page" aria-label="Java IO å‰ç½®çŸ¥è¯†"><!---->Java IO å‰ç½®çŸ¥è¯†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-io/java-bio.html" class="nav-link sidebar-link sidebar-page" aria-label="Java BIO"><!---->Java BIO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-io/java-nio.html" class="nav-link sidebar-link sidebar-page" aria-label="NIO"><!---->NIO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading active"><!----><span class="title">Java å¹¶å‘ç¼–ç¨‹</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Javaå¹¶å‘ç¼–ç¨‹åŸºç¡€"><!---->Javaå¹¶å‘ç¼–ç¨‹åŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#å†…å­˜æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å†…å­˜æ¨¡å‹"><!---->å†…å­˜æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#çº¿ç¨‹ç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çº¿ç¨‹ç®€ä»‹"><!---->çº¿ç¨‹ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹"><!---->å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#threadå¸¸ç”¨æ–¹æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Threadå¸¸ç”¨æ–¹æ³•"><!---->Threadå¸¸ç”¨æ–¹æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#çº¿ç¨‹é—´é€šä¿¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="çº¿ç¨‹é—´é€šä¿¡"><!---->çº¿ç¨‹é—´é€šä¿¡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/java/java-concurrent/java-concurrent-container.html" class="nav-link sidebar-link sidebar-page" aria-label="Java å¹¶å‘å®¹å™¨"><!---->Java å¹¶å‘å®¹å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-concurrent/java-concurrent-lock.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaä¸­çš„é”"><!---->Javaä¸­çš„é”<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-concurrent/java-concurrent-pool.html" class="nav-link sidebar-link sidebar-page" aria-label="Java  çº¿ç¨‹æ± "><!---->Java  çº¿ç¨‹æ± <!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-concurrent/java-concurrent-tools.html" class="nav-link sidebar-link sidebar-page" aria-label="Java å¹¶å‘å·¥å…·åŒ…"><!---->Java å¹¶å‘å·¥å…·åŒ…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">JVMæ¦‚è§ˆ</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/java/java-jvm/JVM%E6%A6%82%E8%A7%88.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM æ¦‚è§ˆ"><!---->JVM æ¦‚è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-jvm/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM å†…å­˜ç»“æ„"><!---->JVM å†…å­˜ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-jvm/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link sidebar-link sidebar-page" aria-label="åƒåœ¾å›æ”¶"><!---->åƒåœ¾å›æ”¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-jvm/JVM%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84.html" class="nav-link sidebar-link sidebar-page" aria-label="ç±»æ–‡ä»¶ç»“æ„"><!---->ç±»æ–‡ä»¶ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-jvm/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶"><!---->è™šæ‹Ÿæœºç±»åŠ è½½æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/java/java-jvm/Java%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="Java å†…å­˜æ¨¡å‹"><!---->Java å†…å­˜æ¨¡å‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Javaå¹¶å‘ç¼–ç¨‹åŸºç¡€</h1><div class="page-info"><!----><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-05-17T06:46:19.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 20 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT20M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#å†…å­˜æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level2">å†…å­˜æ¨¡å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#çº¿ç¨‹ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">çº¿ç¨‹ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹" class="router-link-active router-link-exact-active toc-link level2">å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#threadå¸¸ç”¨æ–¹æ³•" class="router-link-active router-link-exact-active toc-link level2">Threadå¸¸ç”¨æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/java/java-concurrent/java-concurrent-base.html#çº¿ç¨‹é—´é€šä¿¡" class="router-link-active router-link-exact-active toc-link level2">çº¿ç¨‹é—´é€šä¿¡</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="javaå¹¶å‘ç¼–ç¨‹åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#javaå¹¶å‘ç¼–ç¨‹åŸºç¡€" aria-hidden="true">#</a> Javaå¹¶å‘ç¼–ç¨‹åŸºç¡€</h1><h2 id="å†…å­˜æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#å†…å­˜æ¨¡å‹" aria-hidden="true">#</a> å†…å­˜æ¨¡å‹</h2><p>ç•¥</p><h2 id="çº¿ç¨‹ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹ç®€ä»‹" aria-hidden="true">#</a> çº¿ç¨‹ç®€ä»‹</h2><p>æ“ä½œç³»ç»Ÿåœ¨æ‰§è¡Œä¸€ä¸ªç¨‹åºæ˜¯ä¼šåˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨è¿›ç¨‹å†…å¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè°ƒåº¦çš„æœ€å°å•å…ƒã€‚åœ¨JVMè™šæ‹Ÿæœºå†…ï¼Œçº¿ç¨‹æ‹¥æœ‰è‡ªå·±çš„ç¨‹åºè®¡æ•°å™¨ï¼Œè™šæ‹Ÿæœºæ ˆå’Œå±€éƒ¨å˜é‡ç­‰å±æ€§ï¼Œä¹Ÿèƒ½å¤Ÿè®¿é—®å…±äº«å˜é‡ã€‚CPUåœ¨è¿™äº›çº¿ç¨‹ä¸Šé«˜é€Ÿåˆ‡æ¢ï¼Œè®©ä½¿ç”¨è€…æ„Ÿè§‰è¿™äº›çº¿ç¨‹æ˜¯åœ¨åŒæ—¶æ‰§è¡Œçš„ã€‚</p><p>Javaç¨‹åºå¤©ç”Ÿå°±æ˜¯å¤šçº¿ç¨‹çš„ã€‚</p><p>ä½¿ç”¨å¤šçº¿ç¨‹ä¸»è¦åŸå› æœ‰ä¸€äº›å‡ ç‚¹ï¼š</p><ul><li>æ›´å¤šçš„å¤„ç†å™¨æ ¸å¿ƒï¼šå¤šçº¿ç¨‹å¯ä»¥é‡Šæ”¾å¤šæ ¸å¤„ç†å™¨çš„æ€§èƒ½</li><li>æ›´å¿«çš„å“åº”æ—¶é—´ï¼šåˆ©ç”¨å¤šçº¿ç¨‹å¤„ç†å¤æ‚ä¸šåŠ¡ã€‚</li><li>æ›´å¥½çš„ç¼–ç¨‹æ¨¡å‹ï¼šJavaä¸ºåˆ†å¼€å‘äººå‘˜æä¾›äº†è‰¯å¥½çš„ç¼–ç¨‹æ¨¡å‹ã€‚</li></ul><h4 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§" aria-hidden="true">#</a> çº¿ç¨‹çš„ä¼˜å…ˆçº§</h4><p>JavaæŠŠçº¿ç¨‹ä¼˜å…ˆçº§åˆ†ä¸º1~10ï¼Œé»˜è®¤çš„ä¼˜å…ˆçº§æ˜¯5ï¼Œå¯ä»¥é€šè¿‡setPriority(int)æ¥è®¾ç½®ã€‚</p><blockquote><p>Javaè®¾ç½®çš„ä¼˜å…ˆçº§æ˜¯å¦ç”Ÿæ•ˆè¿˜è·Ÿæ“ä½œç³»ç»Ÿæœ‰å…³ã€‚</p></blockquote><h4 id="çº¿ç¨‹çš„çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹çš„çŠ¶æ€" aria-hidden="true">#</a> çº¿ç¨‹çš„çŠ¶æ€</h4><p>çº¿ç¨‹åœ¨è¿è¡Œå‘¨æœŸä¸­å­˜åœ¨6ç§ä¸åŒçš„çŠ¶æ€</p><table><thead><tr><th>çŠ¶æ€åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>NEW</td><td>åˆè¯•çŠ¶æ€ï¼Œçº¿ç¨‹è¢«æ„å»ºï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è°ƒç”¨startæ–¹æ³•</td></tr><tr><td>RUNNABLE</td><td>è¿è¡ŒçŠ¶æ€ï¼ŒJavaçº¿ç¨‹å°†æ“ä½œç³»ç»Ÿä¸­çš„å°±ç»ªå’Œè¿è¡ŒçŠ¶æ€çŠ¶æ€ç»Ÿç§°â€œè¿è¡Œä¸­â€</td></tr><tr><td>BLOCKED</td><td>é˜»å¡çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹é˜»å¡ä¸é”</td></tr><tr><td>WAITING</td><td>ç­‰å¾…çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥è¯¥çŠ¶æ€è¡¨ç¤ºå½“å‰çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹ä½œå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰</td></tr><tr><td>TIME_WAITING</td><td>è¶…æ—¶ç­‰å¾…ï¼Œæ”¹çŠ¶æ€ä¸åŒæœ‰WAITINGï¼Œä»–å¯ä»¥åœ¨æŒ‡å®šæ—¶é—´å†…è‡ªè¡Œè¿”å›</td></tr><tr><td>TERMINATED</td><td>ç»ˆæ­¢çŠ¶æ€ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•</td></tr></tbody></table><p>çº¿ç¨‹çš„çŠ¶æ€å˜è¿</p><p><img src="/assets/image-20220806125549399-06282775.png" alt="image-20220806125549399"></p><h4 id="daemonçº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#daemonçº¿ç¨‹" aria-hidden="true">#</a> Daemonçº¿ç¨‹</h4><p>Daemonçº¿ç¨‹æ˜¯ä¸€ç§æ”¯æŒæ€§çº¿ç¨‹ã€‚å½“Javaè™šæ‹Ÿæœºä¸­ä¸å­˜åœ¨éDaemonçº¿ç¨‹æ—¶ï¼ŒJavaè™šæ‹Ÿæœºå°†ä¼šé€€å‡ºã€‚</p><blockquote><p>Daemonçº¿ç¨‹éœ€è¦åœ¨çº¿ç¨‹å¯åŠ¨ä¹‹å‰è¿›è¡Œè®¾ç½®ï¼Œåœ¨å¯åŠ¨ä¹‹åå°±ä¸èƒ½åœ¨è®¾ç½®äº†ã€‚</p><p>å¯ä»¥é€šè¿‡Thread.setDeamon(true)æ¥è¿›è¡Œè®¾ç½®ã€‚</p></blockquote><h2 id="å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹" aria-hidden="true">#</a> å¯åŠ¨å’Œç»ˆæ­¢çº¿ç¨‹</h2><h4 id="æ„é€ å’Œå¯åŠ¨çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#æ„é€ å’Œå¯åŠ¨çº¿ç¨‹" aria-hidden="true">#</a> æ„é€ å’Œå¯åŠ¨çº¿ç¨‹</h4><p>åˆ›å»ºçº¿ç¨‹ä¸»è¦æœ‰ä¸‰ç§å½¢å¼ï¼š</p><ul><li>ç»§æ‰¿ Thread</li><li>å®ç° Runable</li><li>å®ç° Callable</li></ul><h5 id="ç»§æˆthread-é‡å†™run-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ç»§æˆthread-é‡å†™run-æ–¹æ³•" aria-hidden="true">#</a> ç»§æˆThread, é‡å†™run()æ–¹æ³•</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="å®ç°runnableæ¥å£-é‡å†™run-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å®ç°runnableæ¥å£-é‡å†™run-æ–¹æ³•" aria-hidden="true">#</a> å®ç°Runnableæ¥å£ï¼Œé‡å†™run()æ–¹æ³•</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// å°†Runnableå®ç°ç±»ä½œä¸ºThreadçš„æ„é€ å‚æ•°ä¼ é€’åˆ°Threadç±»ä¸­ï¼Œç„¶åå¯åŠ¨Threadç±» </span>
        <span class="token class-name">MyRunnable</span> runnable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ä¸¤ç§æ–¹å¼éƒ½æ˜¯å›´ç»•ç€Threadå’ŒRunnableï¼Œç»§æ‰¿Threadç±»æŠŠrun()å†™åˆ°ç±»ä¸­ï¼Œå®ç°Runnableæ¥å£æ˜¯æŠŠrun()æ–¹æ³•å†™åˆ°æ¥å£ä¸­ç„¶åå†ç”¨Threadç±»æ¥åŒ…è£…, ä¸¤ç§æ–¹å¼æœ€ç»ˆéƒ½æ˜¯è°ƒç”¨Threadç±»çš„start()æ–¹æ³•æ¥å¯åŠ¨çº¿ç¨‹çš„ã€‚</p><p>ä¸¤ç§æ–¹å¼åœ¨æœ¬è´¨ä¸Šæ²¡æœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œåœ¨å¤–è§‚ä¸Šæœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œç¬¬ä¸€ç§æ–¹å¼æ˜¯ç»§æ‰¿Threadç±»ï¼Œå› Javaæ˜¯å•ç»§æ‰¿ï¼Œå¦‚æœä¸€ä¸ªç±»ç»§æ‰¿äº†Threadç±»ï¼Œé‚£ä¹ˆå°±æ²¡åŠæ³•ç»§æ‰¿å…¶å®ƒçš„ç±»äº†ï¼Œåœ¨ç»§æ‰¿ä¸Šæœ‰ä¸€ç‚¹å—åˆ¶ï¼Œæœ‰ä¸€ç‚¹ä¸çµæ´»ï¼Œç¬¬äºŒç§æ–¹å¼å°±æ˜¯ä¸ºäº†è§£å†³ç¬¬ä¸€ç§æ–¹å¼çš„å•ç»§æ‰¿ä¸çµæ´»çš„é—®é¢˜ï¼Œæ‰€ä»¥å¹³å¸¸ä½¿ç”¨å°±ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼</p><p>å…¶å®ƒå˜ä½“å†™æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// åŒ¿åå†…éƒ¨ç±» </span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token annotation punctuation">@Override</span> 
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// å°¾éƒ¨ä»£ç å—, æ˜¯å¯¹åŒ¿åå†…éƒ¨ç±»å½¢å¼çš„è¯­æ³•ç³– </span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token annotation punctuation">@Override</span> 
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// Runnableæ˜¯å‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨Lamdaè¡¨è¾¾å¼å½¢å¼ </span>
        <span class="token class-name">Runnable</span> runnable <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span> 
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>runnable<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="å®ç°callableæ¥å£-é‡å†™call-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#å®ç°callableæ¥å£-é‡å†™call-æ–¹æ³•" aria-hidden="true">#</a> å®ç°Callableæ¥å£ï¼Œé‡å†™call()æ–¹æ³•</h5><p>Callableï¼šæœ‰è¿”å›å€¼çš„çº¿ç¨‹ï¼Œèƒ½å–æ¶ˆçº¿ç¨‹ï¼Œå¯ä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦æ‰§è¡Œå®Œæ¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
        <span class="token comment">// å°†CallableåŒ…è£…æˆFutureTaskï¼ŒFutureTaskä¹Ÿæ˜¯ä¸€ç§Runnable </span>
        <span class="token class-name">MyCallable</span> callable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> futureTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// getæ–¹æ³•ä¼šé˜»å¡è°ƒç”¨çš„çº¿ç¨‹ </span>
        <span class="token class-name">Integer</span> sum <span class="token operator">=</span> futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyCallable</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; \tstarting...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            sum <span class="token operator">+=</span> i<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; \tover...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ä¸‰ç§æ–¹å¼æ¯”è¾ƒ" tabindex="-1"><a class="header-anchor" href="#ä¸‰ç§æ–¹å¼æ¯”è¾ƒ" aria-hidden="true">#</a> ä¸‰ç§æ–¹å¼æ¯”è¾ƒ</h5><ul><li>Thread: ç»§æ‰¿æ–¹å¼, ä¸å»ºè®®ä½¿ç”¨, å› ä¸ºJavaæ˜¯å•ç»§æ‰¿çš„ï¼Œç»§æ‰¿äº†Threadå°±æ²¡åŠæ³•ç»§æ‰¿å…¶å®ƒç±»äº†ï¼Œä¸å¤Ÿçµæ´»</li><li>Runnable: å®ç°æ¥å£ï¼Œæ¯”Threadç±»æ›´åŠ çµæ´»ï¼Œæ²¡æœ‰å•ç»§æ‰¿çš„é™åˆ¶</li><li>Callable: Threadå’ŒRunnableéƒ½æ˜¯é‡å†™çš„run()æ–¹æ³•å¹¶ä¸”æ²¡æœ‰è¿”å›å€¼ï¼ŒCallableæ˜¯é‡å†™çš„call()æ–¹æ³•å¹¶ä¸”æœ‰è¿”å›å€¼å¹¶å¯ä»¥å€ŸåŠ©FutureTaskç±»æ¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å·²ç»æ‰§è¡Œå®Œæ¯•æˆ–è€…å–æ¶ˆçº¿ç¨‹æ‰§è¡Œ</li><li>å½“çº¿ç¨‹ä¸éœ€è¦è¿”å›å€¼æ—¶ä½¿ç”¨Runnableï¼Œéœ€è¦è¿”å›å€¼æ—¶å°±ä½¿ç”¨Callableï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ç›´æ¥æŠŠçº¿ç¨‹ä½“ä»£ç æ”¾åˆ°Threadç±»ä¸­ï¼Œä¸€èˆ¬é€šè¿‡Threadç±»æ¥å¯åŠ¨çº¿ç¨‹</li><li>Threadç±»æ˜¯å®ç°Runnableï¼ŒCallableå°è£…æˆFutureTaskï¼ŒFutureTaskå®ç°RunnableFutureï¼ŒRunnableFutureç»§æ‰¿Runnableï¼Œæ‰€ä»¥Callableä¹Ÿç®—æ˜¯ä¸€ç§Runnableï¼Œæ‰€ä»¥ä¸‰ç§å®ç°æ–¹å¼æœ¬è´¨ä¸Šéƒ½æ˜¯Runnableå®ç°</li></ul><h4 id="ç†è§£ä¸­æ–­" tabindex="-1"><a class="header-anchor" href="#ç†è§£ä¸­æ–­" aria-hidden="true">#</a> ç†è§£ä¸­æ–­</h4><p>æœ‰äººä¹Ÿè®¸è®¤ä¸ºâ€œå½“è°ƒç”¨interruptæ–¹æ³•æ—¶ï¼Œè°ƒç”¨å¯¹è±¡çš„çº¿ç¨‹å°±ä¼šInterruptedExceptionå¼‚å¸¸â€ï¼Œ å…¶å®è¿™æ˜¯ä¸€ç§è¯¯è§£ï¼Œå®é™…ä¸Šinterruptæ–¹æ³•åªæ˜¯æ”¹å˜äº†çº¿ç¨‹çš„â€œä¸­æ–­çŠ¶æ€â€è€Œå·²ï¼Œæ‰€è°“ä¸­æ–­çŠ¶æ€æ˜¯ä¸€ä¸ªbooleanå€¼ï¼Œè¡¨ç¤ºçº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­çš„çŠ¶æ€ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Thread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	ä¸­æ–­çŠ¶æ€ <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
    <span class="token comment">// æ£€æŸ¥ä¸­æ–­çŠ¶æ€</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ£€æŸ¥ä¸­æ–­çŠ¶æ€å¹¶æ¸…é™¤å½“å‰çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¼ªä»£ç </span>
        <span class="token keyword">boolean</span> isInterrupted <span class="token operator">=</span> <span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›
        ä¸­æ–­çŠ¶æ€ <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡è®¾Thread-0æ‰§è¡Œäº†sleepã€waitã€joinä¸­çš„ä¸€ä¸ªæ–¹æ³•è€Œåœæ­¢è¿è¡Œï¼Œåœ¨Thread-1ä¸­è°ƒç”¨äº†interruptæ–¹æ³•ï¼Œæ­¤æ—¶çº¿ç¨‹Thread-0çš„ç¡®ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œä½†è¿™å…¶å®æ˜¯sleepã€waitã€joinä¸­çš„æ–¹æ³•å†…éƒ¨ä¼šå¯¹çº¿ç¨‹çš„â€œä¸­æ–­çŠ¶æ€â€è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœä¸­æ–­çŠ¶æ€ä¸ºtrue,å°±ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ã€‚å‡å¦‚æŸä¸ªçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ä¸ºtrueï¼Œä½†çº¿ç¨‹ä½“ä¸­å´æ²¡æœ‰è°ƒç”¨æˆ–è€…æ²¡æœ‰åˆ¤æ–­çº¿ç¨‹ä¸­æ–­çŠ¶æ€çš„å€¼ï¼Œé‚£ä¹ˆçº¿ç¨‹åˆ™ä¸ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ã€‚</p><p>isInterrupted() æ£€æŸ¥ä¸­æ–­çŠ¶æ€</p><p>è‹¥æŒ‡å®šçº¿ç¨‹å¤„äºä¸­æ–­çŠ¶æ€åˆ™è¿”å›true,è‹¥æŒ‡å®šçº¿ç¨‹ä¸ºéä¸­æ–­çŠ¶æ€ï¼Œåˆ™åå›false, isInterrupted() åªæ˜¯è·å–ä¸­æ–­çŠ¶æ€çš„å€¼ï¼Œå¹¶ä¸ä¼šæ”¹å˜ä¸­æ–­çŠ¶æ€çš„å€¼ã€‚</p><p>interrupted()</p><p>æ£€æŸ¥ä¸­æ–­çŠ¶æ€å¹¶æ¸…é™¤å½“å‰çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚å¦‚å½“å‰çº¿ç¨‹å¤„äºä¸­æ–­çŠ¶æ€è¿”å›trueï¼Œè‹¥å½“å‰çº¿ç¨‹å¤„äºéä¸­æ–­çŠ¶æ€åˆ™è¿”å›false, å¹¶æ¸…é™¤ä¸­æ–­çŠ¶æ€(å°†ä¸­æ–­çŠ¶æ€è®¾ç½®ä¸ºfalse), åªæœ‰è¿™ä¸ªæ–¹æ³•æ‰å¯ä»¥æ¸…é™¤ä¸­æ–­çŠ¶æ€ï¼ŒThread.interruptedçš„æ“ä½œå¯¹è±¡æ˜¯å½“å‰çº¿ç¨‹ï¼Œæ‰€ä»¥è¯¥æ–¹æ³•å¹¶ä¸èƒ½ç”¨äºæ¸…é™¤å…¶å®ƒçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚</p><p>interrupt()ä¸interrupted()</p><ul><li>interrupt()ï¼šæ‰“æ–­çº¿ç¨‹ï¼Œå°†ä¸­æ–­çŠ¶æ€ä¿®æ”¹ä¸ºtrue</li><li>interrupted(): ä¸æ‰“æ–­çº¿ç¨‹ï¼Œè·å–çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ï¼Œå¹¶å°†ä¸­æ–­çŠ¶æ€è®¾ç½®ä¸ºfalse</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterrupptTest</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        
        <span class="token keyword">boolean</span> interrupted <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// interrupted=false </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted=&quot;</span> <span class="token operator">+</span> interrupted<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        
        thread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">boolean</span> interrupted2 <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// interrupted2=true </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted2=&quot;</span> <span class="token operator">+</span> interrupted2<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        
        <span class="token keyword">boolean</span> interrupted3 <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// interrupted3=false </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted3=&quot;</span> <span class="token operator">+</span> interrupted3<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token comment">// InterruptedExceptionfalse </span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;InterruptedException\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»ˆæ­¢çº¿ç¨‹" tabindex="-1"><a class="header-anchor" href="#ç»ˆæ­¢çº¿ç¨‹" aria-hidden="true">#</a> ç»ˆæ­¢çº¿ç¨‹</h4><h5 id="ç®€å•ç²—æš´æ³•stop" tabindex="-1"><a class="header-anchor" href="#ç®€å•ç²—æš´æ³•stop" aria-hidden="true">#</a> ç®€å•ç²—æš´æ³•Stop</h5><p>ä»¥å¼ƒç”¨ï¼Œè¿™é‡Œä¸åœ¨è¯´æ˜ã€‚</p><h5 id="æ ‡å¿—ä½æ³•" tabindex="-1"><a class="header-anchor" href="#æ ‡å¿—ä½æ³•" aria-hidden="true">#</a> æ ‡å¿—ä½æ³•</h5><p>è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯è®©çº¿ç¨‹è‡ªå·±åœä¸‹æ¥ï¼Œå®ç°æ–¹å¼å°±æ˜¯å°†ä¸€ä¸ªå˜é‡ä½œä¸ºæ ‡è¯†ï¼Œçº¿ç¨‹æ¯éš”ä¸€æ®µæ—¶é—´å»åˆ¤æ–­ä¸‹è¿™ä¸ªå˜é‡æ˜¯å¦åœæ­¢ä¸ºåœæ­¢æ ‡è¯†ï¼Œå¦‚æœæ˜¯åˆ™åœæ­¢ï¼Œå¦åˆ™ç»§ç»­è¿è¡Œ</p><p>1ï¼‰ä»£ç å®ç°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Time</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">TimeUnit</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StopThread</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>        
        <span class="token class-name">ThreadDemo</span> threadDemo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>threadDemo<span class="token punctuation">)</span><span class="token punctuation">;</span>        
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        threadDemo<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ThreadDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    
    <span class="token annotation punctuation">@Override</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">{</span>            
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do... something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        
        flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;run... stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰æ³¨æ„ç‚¹</p><ul><li>volatileå…³é”®å­—ï¼Œåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹æ”¹å˜å˜é‡çš„å€¼ï¼Œå¦‚æœéœ€è¦é©¬ä¸Šé€šçŸ¥å…¶ä»–çº¿ç¨‹ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨è¿™ä¸ªå…³é”®å­—ï¼Œè¿™æ˜¯åŸºäºvolatileå…³é”®å­—çš„ç‰¹æ€§â€”&gt;å¯è§æ€§ã€‚</li><li>åœ¨æ­£å¸¸å¼€å‘ä¸­è‚¯å®šæ˜¯ä¸ä¼šå»ä½¿ç”¨æ­»å¾ªç¯æ¥å»åˆ¤æ–­æ˜¯å¦éœ€è¦åœæ­¢çº¿ç¨‹çš„ï¼Œè¿™ä¸ªå¯ä»¥åœ¨å…³é”®ä¸šåŠ¡é€»è¾‘ä¸­å»åˆ¤æ–­</li></ul><h5 id="interruptåœæ­¢æ ‡è®°æ³•" tabindex="-1"><a class="header-anchor" href="#interruptåœæ­¢æ ‡è®°æ³•" aria-hidden="true">#</a> interruptåœæ­¢æ ‡è®°æ³•</h5><p>1ï¼‰interruptä¸­æ–­æ–¹æ³•ä»‹ç»</p><p>ç†Ÿæ‚‰è¿™ç§æ–¹æ³•å‰å¿…é¡»å…ˆäº†è§£ä¸€ç»„API</p><ul><li>public void interrupt() ä¸­æ–­çº¿ç¨‹</li><li>public static boolean interrupted() æµ‹è¯•å½“å‰çº¿ç¨‹æ˜¯å¦ä¸­æ–­ï¼Œå¹¶æ¸…é™¤çº¿ç¨‹ä¸­æ–­çŠ¶æ€ã€‚</li><li>public boolean isInterrupted() æµ‹è¯•å½“å‰çº¿ç¨‹æ˜¯å¦ä¸­æ–­ï¼Œä¸æ”¹å˜çº¿ç¨‹ä¸­æ–­çŠ¶æ€ã€‚</li></ul><p>2ï¼‰ä»£ç è§£æä¸­æ–­åˆ¤æ–­æ–¹æ³•</p><p>å…¶å®interruptä¸­æ–­æ–¹æ³•å’Œæ ‡å¿—ä½æ³•åŸç†ç›¸ä¼¼ï¼Œä½†æ ‡è¯†å˜é‡ä¸éœ€è¦è‡ªå·±å®šä¹‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StopThread3</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>        
        <span class="token class-name">InterruptThread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InterruptThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        thread<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">InterruptThread</span> <span class="token punctuation">{</span>    
    <span class="token keyword">public</span> <span class="token class-name">Thread</span> thread<span class="token punctuation">;</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>       
        thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token punctuation">{</span>            
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>thread<span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>               
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;do...something&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
            <span class="token punctuation">}</span>        
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        
        thread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰interruptä¸­æ–­æ–¹æ³•çš„ç‰¹æ€§</p><p>å¦‚æœåœ¨çº¿ç¨‹é˜»å¡æ—¶è°ƒç”¨ä¸­æ–­æ–¹æ³•ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ŒåŒæ—¶æ¸…ç†ä¸­æ–­çŠ¶æ€ï¼Œé‚£ä¹ˆä¸Šè¾¹é€šè¿‡whereå¾ªç¯æ¥åˆ¤æ–­ä¸­æ–­çŠ¶æ€çš„é€»è¾‘æ— æ³•ç»ˆæ­¢ã€‚å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¥è§£å†³ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StopThread2</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>        
        <span class="token class-name">InterruptThread1</span> taskCase3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InterruptThread1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        taskCase3<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        taskCase3<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">InterruptThread1</span> <span class="token punctuation">{</span>    
    <span class="token keyword">private</span> <span class="token class-name">Thread</span> thread<span class="token punctuation">;</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>            
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                
                <span class="token keyword">try</span> <span class="token punctuation">{</span>                    
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doSomething&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    
                    <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">MICROSECONDS</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment">// é‡ç½®ä¸­æ–­æ ‡å¿—ä½ä¸ºtrue                    </span>
                    thread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æŠ›å‡ºä¸­æ–­å¼‚å¸¸ï¼Œä¸­æ–­ç¨‹åº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                
                <span class="token punctuation">}</span>            
            <span class="token punctuation">}</span>        
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
        thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        
        thread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="threadå¸¸ç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#threadå¸¸ç”¨æ–¹æ³•" aria-hidden="true">#</a> Threadå¸¸ç”¨æ–¹æ³•</h2><p>Thread</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Thread</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
	<span class="token comment">// çº¿ç¨‹åå­— </span>
    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹ä¼˜å…ˆçº§(1~10) </span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> priority<span class="token punctuation">;</span> 
    <span class="token comment">// å®ˆæŠ¤çº¿ç¨‹ </span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> daemon <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token comment">// çº¿ç¨‹id </span>
    <span class="token keyword">private</span> <span class="token keyword">long</span> tid<span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹ç»„ </span>
    <span class="token keyword">private</span> <span class="token class-name">ThreadGroup</span> group<span class="token punctuation">;</span>  
    <span class="token comment">// é¢„å®šä¹‰3ä¸ªä¼˜å…ˆçº§ </span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">MIN_PRIORITY</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">NORM_PRIORITY</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token constant">MAX_PRIORITY</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   
    <span class="token comment">// æ„é€ å‡½æ•° </span>
    <span class="token keyword">public</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> target<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹ç»„ </span>
    <span class="token keyword">public</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token class-name">ThreadGroup</span> group<span class="token punctuation">,</span> <span class="token class-name">Runnable</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token comment">// è¿”å›å½“å‰æ­£åœ¨æ‰§è¡Œçº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨ </span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token class-name">Thread</span> <span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ </span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹çš„æ–¹æ³•ä½“ï¼Œå’Œå¯åŠ¨çº¿ç¨‹æ²¡æ¯›å…³ç³» </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// è®©çº¿ç¨‹ç¡çœ ä¸€ä¼šï¼Œç”±æ´»è·ƒçŠ¶æ€æ”¹ä¸ºæŒ‚èµ·çŠ¶æ€ </span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">,</span> <span class="token keyword">int</span> nanos<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>  
    <span class="token comment">// æ‰“æ–­çº¿ç¨‹ ä¸­æ–­çº¿ç¨‹ ç”¨äºåœæ­¢çº¿ç¨‹ </span>
    <span class="token comment">// è°ƒç”¨è¯¥æ–¹æ³•æ—¶å¹¶ä¸éœ€è¦è·å–Threadå®ä¾‹çš„é”ã€‚æ— è®ºä½•æ—¶ï¼Œä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥è°ƒç”¨å…¶å®ƒçº¿ç¨‹çš„interruptfæ–¹æ³• </span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ </span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">native</span> <span class="token keyword">boolean</span> <span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// äº¤å‡ºCPUçš„ä½¿ç”¨æƒï¼Œä»è¿è¡ŒçŠ¶æ€æ”¹ä¸ºæŒ‚èµ·çŠ¶æ€ </span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">,</span> <span class="token keyword">int</span> nanos<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>   
    <span class="token comment">// è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§ </span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token keyword">int</span> newPriority<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// è®¾ç½®æ˜¯å¦å®ˆæŠ¤çº¿ç¨‹ </span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> on<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹id </span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tid<span class="token punctuation">;</span> <span class="token punctuation">}</span>   
    <span class="token comment">// çº¿ç¨‹çŠ¶æ€ </span>
    <span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">State</span> <span class="token punctuation">{</span> 
        <span class="token comment">// new åˆ›å»º NEW, </span>
        <span class="token comment">// runnable å°±ç»ª </span>
        <span class="token constant">RUNNABLE</span><span class="token punctuation">,</span> 
        <span class="token comment">// blocked é˜»å¡ </span>
        <span class="token constant">BLOCKED</span><span class="token punctuation">,</span>
        <span class="token comment">// waiting ç­‰å¾… </span>
        <span class="token constant">WAITING</span><span class="token punctuation">,</span> 
        <span class="token comment">// timed_waiting </span>
        <span class="token constant">TIMED_WAITING</span><span class="token punctuation">,</span> 
        <span class="token comment">// terminated ç»“æŸ </span>
        <span class="token constant">TERMINATED</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// mainæ–¹æ³•å°±æ˜¯ä¸€ä¸ªä¸»çº¿ç¨‹ </span>
    <span class="token comment">// è·å–å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ </span>
    <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çº¿ç¨‹åå­— </span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çº¿ç¨‹id </span>
    <span class="token keyword">long</span> id <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹ä¼˜å…ˆçº§ </span>
    <span class="token keyword">int</span> priority <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// æ˜¯å¦å­˜æ´» </span>
    <span class="token keyword">boolean</span> alive <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// æ˜¯å¦å®ˆæŠ¤çº¿ç¨‹ </span>
    <span class="token keyword">boolean</span> daemon <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isDaemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Thread[name=main, id=1 ,priority=5 ,alive=true ,daemon=false] </span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Thread[name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> 
        <span class="token string">&quot;, id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> 
        <span class="token string">&quot; ,priority=&quot;</span> <span class="token operator">+</span> priority <span class="token operator">+</span> 
        <span class="token string">&quot; ,alive=&quot;</span> <span class="token operator">+</span> alive <span class="token operator">+</span> 
        <span class="token string">&quot; ,daemon=&quot;</span> <span class="token operator">+</span> daemon <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="thread-currentthread" tabindex="-1"><a class="header-anchor" href="#thread-currentthread" aria-hidden="true">#</a> Thread.currentThread()</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹åç§° </span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// çº¿ç¨‹id </span>
    <span class="token keyword">long</span> id <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹å·²ç»å¯åŠ¨ä¸”å°šæœªç»ˆæ­¢ </span>
    <span class="token comment">// çº¿ç¨‹å¤„äºæ­£åœ¨è¿è¡Œæˆ–å‡†å¤‡å¼€å§‹è¿è¡Œçš„çŠ¶æ€ï¼Œå°±è®¤ä¸ºçº¿ç¨‹æ˜¯â€œå­˜æ´»â€çš„ </span>
    <span class="token keyword">boolean</span> alive <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// çº¿ç¨‹ä¼˜å…ˆçº§ int </span>
    priority <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ˜¯å¦å®ˆæŠ¤çº¿ç¨‹ </span>
    <span class="token keyword">boolean</span> daemon <span class="token operator">=</span> thread<span class="token punctuation">.</span><span class="token function">isDaemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// Thread[name=main,id=1,alive=true,priority=5,daemon=false] </span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread[name=&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;,id=&quot;</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">&quot;,alive=&quot;</span> <span class="token operator">+</span> alive <span class="token operator">+</span> <span class="token string">&quot;,priority=&quot;</span> <span class="token operator">+</span> priority <span class="token operator">+</span> <span class="token string">&quot;,daemon=&quot;</span> <span class="token operator">+</span> daemon <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="start-ä¸-run" tabindex="-1"><a class="header-anchor" href="#start-ä¸-run" aria-hidden="true">#</a> start() ä¸ run()</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span> 
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;Thread-A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;Thread-B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>start(): å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹ä¹‹é—´æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œæ˜¯æŒ‰CPUåˆ†é…çš„æ—¶é—´ç‰‡æ¥å›åˆ‡æ¢çš„ã€‚</p><p>run(): è°ƒç”¨çº¿ç¨‹çš„runæ–¹æ³•ï¼Œå°±æ˜¯æ™®é€šçš„æ–¹æ³•è°ƒç”¨ï¼Œè™½ç„¶å°†ä»£ç å°è£…åˆ°ä¸¤ä¸ªçº¿ç¨‹ä½“ä¸­ï¼Œå¯ä»¥çœ‹åˆ°çº¿ç¨‹ä¸­æ‰“å°çš„çº¿ç¨‹åå­—éƒ½æ˜¯mainä¸»çº¿ç¨‹ï¼Œrun()æ–¹æ³•ç”¨äºå°è£…çº¿ç¨‹çš„ä»£ç ï¼Œå…·ä½“è¦å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ¥è¿è¡Œçº¿ç¨‹ä½“ä¸­çš„ä»£ç (run()æ–¹æ³•)è¿˜æ˜¯é€šè¿‡start()æ–¹æ³•æ¥å®ç°ï¼Œè°ƒç”¨run()æ–¹æ³•å°±æ˜¯ä¸€ç§é¡ºåºç¼–ç¨‹ä¸æ˜¯å¹¶å‘ç¼–ç¨‹ã€‚</p><h4 id="sleep-ä¸-interrupt" tabindex="-1"><a class="header-anchor" href="#sleep-ä¸-interrupt" aria-hidden="true">#</a> sleep() ä¸ interrupt()</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>sleep(long millis): ç¡çœ æŒ‡å®šæ—¶é—´ï¼Œç¨‹åºæš‚åœè¿è¡Œï¼Œç¡çœ æœŸé—´ä¼šè®©å‡ºCPUçš„æ‰§è¡Œæƒï¼Œå»æ‰§è¡Œå…¶å®ƒçº¿ç¨‹ï¼ŒåŒæ—¶CPUä¹Ÿä¼šç›‘è§†ç¡çœ çš„æ—¶é—´ï¼Œä¸€æ—¦ç¡çœ æ—¶é—´åˆ°å°±ä¼šç«‹åˆ»æ‰§è¡Œ(å› ä¸ºç¡çœ è¿‡ç¨‹ä¸­ä»ç„¶ä¿ç•™ç€é”ï¼Œæœ‰é”åªè¦ç¡çœ æ—¶é—´åˆ°å°±èƒ½ç«‹åˆ»æ‰§è¡Œ)ã€‚</p><ol><li>sleep(): ç¡çœ æŒ‡å®šæ—¶é—´ï¼Œå³è®©ç¨‹åºæš‚åœæŒ‡å®šæ—¶é—´è¿è¡Œï¼Œæ—¶é—´åˆ°äº†ä¼šç»§ç»­æ‰§è¡Œä»£ç ï¼Œå¦‚æœæ—¶é—´æœªåˆ°å°±è¦é†’éœ€è¦ä½¿ç”¨interrupt()æ¥éšæ—¶å”¤é†’</li><li>interrupt(): å”¤é†’æ­£åœ¨ç¡çœ çš„ç¨‹åºï¼Œè°ƒç”¨interrupt()æ–¹æ³•ï¼Œä¼šä½¿å¾—sleep()æ–¹æ³•æŠ›å‡ºInterruptedExceptionå¼‚å¸¸ï¼Œå½“sleep()æ–¹æ³•æŠ›å‡ºå¼‚å¸¸å°±ä¸­æ–­äº†sleepçš„æ–¹æ³•ï¼Œä»è€Œè®©ç¨‹åºç»§ç»­è¿è¡Œä¸‹å»</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span> 
    <span class="token class-name">Thread</span> thread0 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\tå¤ªå›°äº†ï¼Œè®©æˆ‘ç¡10ç§’ï¼Œä¸­é—´æœ‰äº‹å«æˆ‘ï¼ŒzZZã€‚ã€‚ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\tè¢«å«é†’äº†ï¼Œåˆè¦ç»§ç»­å¹²æ´»äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    thread0<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token comment">// è¿™é‡Œç¡çœ åªæ˜¯ä¸ºäº†ä¿è¯å…ˆè®©ä¸Šé¢çš„é‚£ä¸ªçº¿ç¨‹å…ˆæ‰§è¡Œ </span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\té†’é†’ï¼Œé†’é†’ï¼Œåˆ«ç¡äº†ï¼Œèµ·æ¥å¹²æ´»äº†ï¼ï¼ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// æ— éœ€è·å–é”å°±å¯ä»¥è°ƒç”¨interrupt </span>
        thread0<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="wait-ä¸-notify" tabindex="-1"><a class="header-anchor" href="#wait-ä¸-notify" aria-hidden="true">#</a> wait() ä¸ notify()</h4><p>waitã€notifyå’ŒnotifyAllæ–¹æ³•æ˜¯Objectç±»çš„final nativeæ–¹æ³•ã€‚æ‰€ä»¥è¿™äº›æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™ï¼ŒObjectç±»æ˜¯æ‰€æœ‰ç±»çš„è¶…ç±»ï¼Œå› æ­¤åœ¨ç¨‹åºä¸­å¯ä»¥é€šè¿‡thisæˆ–è€…superæ¥è°ƒç”¨this.wait(), super.wait()</p><ol><li>wait(): å¯¼è‡´çº¿ç¨‹è¿›å…¥ç­‰å¾…é˜»å¡çŠ¶æ€ï¼Œä¼šä¸€ç›´ç­‰å¾…ç›´åˆ°å®ƒè¢«å…¶ä»–çº¿ç¨‹é€šè¿‡notify()æˆ–è€…notifyAllå”¤é†’ã€‚è¯¥æ–¹æ³•åªèƒ½åœ¨åŒæ­¥æ–¹æ³•ä¸­è°ƒç”¨ã€‚å¦‚æœå½“å‰çº¿ç¨‹ä¸æ˜¯é”çš„æŒæœ‰è€…ï¼Œè¯¥æ–¹æ³•æŠ›å‡ºä¸€ä¸ªIllegalMonitorStateExceptionå¼‚å¸¸ã€‚wait(long timeout): æ—¶é—´åˆ°äº†è‡ªåŠ¨æ‰§è¡Œï¼Œç±»ä¼¼äºsleep(long millis)</li><li>notify(): è¯¥æ–¹æ³•åªèƒ½åœ¨åŒæ­¥æ–¹æ³•æˆ–åŒæ­¥å—å†…éƒ¨è°ƒç”¨ï¼Œ éšæœºé€‰æ‹©ä¸€ä¸ª(æ³¨æ„ï¼šåªä¼šé€šçŸ¥ä¸€ä¸ª)åœ¨è¯¥å¯¹è±¡ä¸Šè°ƒç”¨waitæ–¹æ³•çš„çº¿ç¨‹ï¼Œè§£é™¤å…¶é˜»å¡çŠ¶æ€</li><li>notifyAll(): å”¤é†’æ‰€æœ‰çš„waitå¯¹è±¡</li></ol><p>æ³¨æ„ï¼š</p><ol><li>Object.wait()å’ŒObject.notify()å’ŒObject.notifyall()å¿…é¡»å†™åœ¨synchronizedæ–¹æ³•å†…éƒ¨æˆ–è€…synchronizedå—å†…éƒ¨</li><li>è®©å“ªä¸ªå¯¹è±¡ç­‰å¾…waitå°±å»é€šçŸ¥notifyå“ªä¸ªå¯¹è±¡ï¼Œä¸è¦è®©Aå¯¹è±¡ç­‰å¾…ï¼Œç»“æœå´å»é€šçŸ¥Bå¯¹è±¡ï¼Œè¦æ“ä½œåŒä¸€ä¸ªå¯¹è±¡</li></ol><p>wait():è®©ç¨‹åºæš‚åœæ‰§è¡Œï¼Œç›¸å½“äºè®©å½“å‰ï¼Œçº¿ç¨‹è¿›å…¥å½“å‰å®ä¾‹çš„ç­‰å¾…é˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—å±äºè¯¥å®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥è°ƒç”¨notifyä¹Ÿå¿…é¡»ä½¿ç”¨è¯¥å¯¹è±¡æ¥è°ƒç”¨ï¼Œä¸èƒ½ä½¿ç”¨åˆ«çš„å¯¹è±¡æ¥è°ƒç”¨ã€‚è°ƒç”¨waitå’Œnotifyå¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªå¯¹è±¡æ¥è°ƒç”¨ã€‚</p><h4 id="sleep-ä¸-wait" tabindex="-1"><a class="header-anchor" href="#sleep-ä¸-wait" aria-hidden="true">#</a> sleep() ä¸ wait()</h4><p>Thread.sleep(long millis): ç¡çœ æ—¶ä¸ä¼šé‡Šæ”¾é”</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span> 
    <span class="token class-name">Object</span> lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› mainæ–¹æ³•ä¸­Thread.sleep(1000)æ‰€ä»¥ä¸Šé¢çš„çº¿ç¨‹Thread-0å…ˆè¢«æ‰§è¡Œï¼Œå½“å¾ªç¯ç¬¬ä¸€æ¬¡æ—¶å°±ä¼šThread.sleep(1000)ç¡çœ ï¼Œå› ä¸ºsleepå¹¶ä¸ä¼šé‡Šæ”¾é”ï¼Œæ‰€ä»¥Thread-1å¾—ä¸åˆ°æ‰§è¡Œçš„æœºä¼šï¼Œæ‰€ä»¥ç›´åˆ°Thread-0æ‰§è¡Œå®Œæ¯•é‡Šæ”¾é”å¯¹è±¡lockï¼ŒThread-1æ‰èƒ½æ‹¿åˆ°é”ï¼Œç„¶åæ‰§è¡ŒThread-1;</p><h4 id="wait-ä¸-interrupt" tabindex="-1"><a class="header-anchor" href="#wait-ä¸-interrupt" aria-hidden="true">#</a> wait() ä¸ interrupt()</h4><p>wait(): æ–¹æ³•çš„ä½œç”¨æ˜¯é‡Šæ”¾é”ï¼ŒåŠ å…¥åˆ°ç­‰å¾…é˜Ÿåˆ—ï¼Œå½“è°ƒç”¨interrupt()æ–¹æ³•åï¼Œçº¿ç¨‹å¿…é¡»å…ˆè·å–åˆ°é”åï¼Œç„¶åæ‰æŠ›å‡ºå¼‚å¸¸InterruptedException ã€‚æ³¨æ„ï¼š åœ¨è·å–é”ä¹‹å‰æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„ï¼Œåªæœ‰åœ¨è·å–é”ä¹‹åæ‰ä¼šæŠ›å¼‚å¸¸</p><p>æ‰€æœ‰èƒ½æŠ›å‡ºInterruptedExceptionçš„æ–¹æ³•éƒ½å¯ä»¥é€šè¿‡interrupt()æ¥å–æ¶ˆçš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">native</span> <span class="token keyword">void</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼›
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="notify-å’Œinterrupt" tabindex="-1"><a class="header-anchor" href="#notify-å’Œinterrupt" aria-hidden="true">#</a> notify()å’Œinterrupt()</h4><ul><li>ä»è®©æ­£åœ¨waitçš„çº¿ç¨‹é‡æ–°è¿è¡Œè¿™ä¸€ç‚¹æ¥è¯´ï¼Œnotifyæ–¹æ³•å’Œintterruptæ–¹æ³•çš„ä½œç”¨æœ‰äº›ç±»ä¼¼ï¼Œä½†ä»æœ‰ä»¥ä¸‹ä¸åŒä¹‹å¤„ï¼š</li><li>notify/notifyAllæ˜¯java.lang.Objectç±»çš„æ–¹æ³•ï¼Œå”¤é†’çš„æ˜¯è¯¥å®ä¾‹çš„ç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹ï¼Œè€Œä¸èƒ½ç›´æ¥æŒ‡å®šæŸä¸ªå…·ä½“çš„çº¿ç¨‹ã€‚notify/notifyAllå”¤é†’çš„çº¿ç¨‹ä¼šç»§ç»­æ‰§è¡Œwaitçš„ä¸‹ä¸€æ¡è¯­å¥ï¼Œå¦å¤–æ‰§è¡Œnotify/notifyAllæ—¶çº¿ç¨‹å¿…é¡»è¦è·å–å®ä¾‹çš„é”</li><li>interrupteæ–¹æ³•æ˜¯java.lang.Threadç±»çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šçº¿ç¨‹å¹¶å”¤é†’ï¼Œå½“è¢«interruptçš„çº¿ç¨‹å¤„äºsleepæˆ–è€…waitä¸­æ—¶ä¼šæŠ›å‡ºInterruptedExceptionå¼‚å¸¸ã€‚æ‰§è¡Œinterrupt()å¹¶ä¸éœ€è¦è·å–å–æ¶ˆçº¿ç¨‹çš„é”ã€‚</li><li>æ€»ä¹‹notify/notifyAllå’Œinterruptçš„åŒºåˆ«åœ¨äºæ˜¯å¦èƒ½ç›´æ¥è®©æŸä¸ªæŒ‡å®šçš„çº¿ç¨‹å”¤é†’ã€æ‰§è¡Œå”¤é†’æ˜¯å¦éœ€è¦é”ã€æ–¹æ³•å±äºçš„ç±»ä¸åŒ</li></ul><h4 id="wait-long-timeout" tabindex="-1"><a class="header-anchor" href="#wait-long-timeout" aria-hidden="true">#</a> wait(long timeout):</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SleepWaitTest</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SleepWaitTest</span> object <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SleepWaitTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\tç­‰å¾…æ‰“å°æ–‡ä»¶...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                    object<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\tæ‰“å°ç»“æŸã€‚ã€‚ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// å…ˆä¸Šé¢çš„çº¿ç¨‹å…ˆæ‰§è¡Œ </span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› mainæ–¹æ³•ä¸­æœ‰Thread.sleep(1000)æ‰€ä»¥ä¸Šé¢çš„çº¿ç¨‹Thread-0è‚¯å®šä¼šè¢«å…ˆæ‰§è¡Œï¼Œå½“Thread-0è¢«æ‰§è¡Œæ—¶å°±æ‹¿åˆ°äº†objectå¯¹è±¡é”ï¼Œç„¶åè¿›å…¥wait(5000)5ç§’é’Ÿç­‰å¾…ï¼Œæ­¤æ—¶waité‡Šæ”¾äº†é”ï¼Œç„¶åThread-1å°±æ‹¿åˆ°äº†é”å°±æ‰§è¡Œçº¿ç¨‹ä½“ï¼ŒThread-1æ‰§è¡Œå®Œåå°±é‡Šæ”¾äº†é”ï¼Œå½“ç­‰å¾…5ç§’åThread-0å°±èƒ½å†æ¬¡è·å–objecté”ï¼Œè¿™æ ·å°±ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ã€‚waitæ–¹æ³•æ˜¯é‡Šæ”¾é”çš„ï¼Œå¦‚æœwaitæ–¹æ³•ä¸é‡Šæ”¾é”é‚£ä¹ˆThread-1æ˜¯æ‹¿ä¸åˆ°é”ä¹Ÿå°±æ²¡æœ‰æ‰§è¡Œçš„æœºä¼šçš„ï¼Œäº‹å®æ˜¯Thread-1å¾—åˆ°äº†æ‰§è¡Œï¼Œæ‰€ä»¥è¯´waitæ–¹æ³•ä¼šé‡Šæ”¾é”</p><blockquote><p>sleepä¸waitçš„åŒºåˆ«</p><ul><li>sleepåœ¨Threadç±»ä¸­ï¼Œwaitåœ¨Objectç±»ä¸­</li><li>sleepä¸ä¼šé‡Šæ”¾é”ï¼Œwaitä¼šé‡Šæ”¾é”</li><li>sleepä½¿ç”¨interrupt()æ¥å”¤é†’ï¼Œwaitéœ€è¦notifyæˆ–è€…notifyAllæ¥é€šçŸ¥</li></ul></blockquote><h4 id="join" tabindex="-1"><a class="header-anchor" href="#join" aria-hidden="true">#</a> join()</h4><p>è®©å½“å‰çº¿ç¨‹åŠ å…¥çˆ¶çº¿ç¨‹ï¼ŒåŠ å…¥åçˆ¶çº¿ç¨‹ä¼šä¸€ç›´waitï¼Œç›´åˆ°å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åçˆ¶çº¿ç¨‹æ‰èƒ½æ‰§è¡Œã€‚å½“æˆ‘ä»¬è°ƒç”¨æŸä¸ªçº¿ç¨‹çš„è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šæŒ‚èµ·è°ƒç”¨çº¿ç¨‹ï¼Œç›´åˆ°è¢«è°ƒç”¨çº¿ç¨‹ç»“æŸæ‰§è¡Œï¼Œè°ƒç”¨çº¿ç¨‹æ‰ä¼šç»§ç»­æ‰§è¡Œã€‚</p><p>å°†æŸä¸ªçº¿ç¨‹åŠ å…¥åˆ°å½“å‰çº¿ç¨‹ä¸­æ¥ï¼Œä¸€èˆ¬æŸä¸ªçº¿ç¨‹å’Œå½“å‰çº¿ç¨‹ä¾èµ–å…³ç³»æ¯”è¾ƒå¼ºï¼Œå¿…é¡»å…ˆç­‰å¾…æŸä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ‰èƒ½æ‰§è¡Œå½“å‰çº¿ç¨‹ã€‚ä¸€èˆ¬åœ¨run()æ–¹æ³•å†…ä½¿ç”¨</p><p>join() æºç å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span> 
    <span class="token function">join</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span> 
    <span class="token keyword">long</span> base <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>millis <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;timeout value is negative&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>millis <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// å¾ªç¯æ£€æŸ¥çº¿ç¨‹çš„çŠ¶æ€æ˜¯å¦è¿˜æ´»ç€ï¼Œå¦‚æœæ­»äº†å°±ç»“æŸäº†ï¼Œå¦‚æœæ´»ç€ç»§ç»­ç­‰åˆ°æ­» </span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isAlive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">long</span> delay <span class="token operator">=</span> millis <span class="token operator">-</span> now<span class="token punctuation">;</span> 
            <span class="token keyword">if</span> <span class="token punctuation">(</span>delay <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                <span class="token keyword">break</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> 
            <span class="token function">wait</span><span class="token punctuation">(</span>delay<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> base<span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">long</span> millis<span class="token punctuation">,</span> <span class="token keyword">int</span> nanos<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>millis <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;timeout value is negative&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nanos <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nanos <span class="token operator">&gt;</span> <span class="token number">999999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;nanosecond timeout value out of range&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nanos <span class="token operator">&gt;=</span> <span class="token number">500000</span> <span class="token operator">||</span> <span class="token punctuation">(</span>nanos <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> millis <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        millis<span class="token operator">++</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token function">join</span><span class="token punctuation">(</span>millis<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JoinTest</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ParentRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ParentRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token comment">// çº¿ç¨‹å¤„äºnewçŠ¶æ€ </span>
        <span class="token class-name">Thread</span> childThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChildRunable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// çº¿ç¨‹å¤„äºrunnableå°±ç»ªçŠ¶æ€ </span>
        childThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">try</span> <span class="token punctuation">{</span> 
            <span class="token comment">// å½“è°ƒç”¨joinæ—¶ï¼Œparentä¼šç­‰å¾…childæ‰§è¡Œå®Œæ¯•åå†ç»§ç»­è¿è¡Œ </span>
            <span class="token comment">// å°†æŸä¸ªçº¿ç¨‹åŠ å…¥åˆ°å½“å‰çº¿ç¨‹ </span>
            childThread<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;çˆ¶çº¿ç¨‹ running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ChildRunable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token punctuation">}</span> 
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;å­çº¿ç¨‹ running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¨‹åºè¿›å…¥ä¸»çº¿ç¨‹ï¼Œè¿è¡ŒParentå¯¹åº”çš„çº¿ç¨‹ï¼ŒParentçš„çº¿ç¨‹ä»£ç åˆ†ä¸¤æ®µï¼Œä¸€æ®µæ˜¯å¯åŠ¨ä¸€ä¸ªå­çº¿ç¨‹ï¼Œä¸€æ®µæ˜¯Parentçº¿ç¨‹çš„çº¿ç¨‹ä½“ä»£ç ï¼Œé¦–å…ˆä¼šå°†Childçº¿ç¨‹åŠ å…¥åˆ°Parentçº¿ç¨‹ï¼Œjoin()æ–¹æ³•ä¼šè°ƒç”¨join(0)æ–¹æ³•(join()æ–¹æ³•æ˜¯æ™®é€šæ–¹æ³•å¹¶æ²¡æœ‰åŠ é”ï¼Œjoin(0)ä¼šåŠ é”)ï¼Œjoin(0)ä¼šæ‰§è¡Œwhile(isAlive()) { wait(0);} å¾ªç¯åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå¦‚æœæ˜¯ç»§ç»­wait(0)çŸ¥é“isAlive=falseç»“æŸæ‰join(0), ä»è€Œç»“æŸæ‰join(), æœ€åå›åˆ°Parentçº¿ç¨‹ä½“ä¸­ç»§ç»­æ‰§è¡Œå…¶å®ƒä»£ç ã€‚</p><p>åœ¨Parentè°ƒç”¨child.join()åï¼Œchildå­çº¿ç¨‹æ­£å¸¸è¿è¡Œï¼ŒParentçˆ¶çº¿ç¨‹ä¼šç­‰å¾…childå­çº¿ç¨‹ç»“æŸåå†ç»§ç»­è¿è¡Œã€‚</p><ul><li>join() å’Œ join(long millis, int nanos) æœ€åéƒ½è°ƒç”¨äº† join(long millis)ã€‚</li><li>join(long millis, int nanos)å’Œjoin(long millis)æ–¹æ³• éƒ½æ˜¯synchronizedã€‚</li><li>join() è°ƒç”¨äº†join(0)ï¼Œä»æºç å¯ä»¥çœ‹åˆ°join(0)ä¸æ–­æ£€æŸ¥å½“å‰çº¿ç¨‹æ˜¯å¦å¤„äºActiveçŠ¶æ€ã€‚</li><li>join() å’Œ sleep() ä¸€æ ·ï¼Œéƒ½å¯ä»¥è¢«ä¸­æ–­ï¼ˆè¢«ä¸­æ–­æ—¶ï¼Œä¼šæŠ›å‡º InterrupptedException å¼‚å¸¸ï¼‰ï¼›ä¸åŒçš„æ˜¯ï¼Œjoin() å†…éƒ¨è°ƒç”¨äº†wait()ï¼Œä¼šå‡ºè®©é”ï¼Œè€Œ sleep() ä¼šä¸€ç›´ä¿æŒé”ã€‚</li></ul><h4 id="yield" tabindex="-1"><a class="header-anchor" href="#yield" aria-hidden="true">#</a> yield()</h4><p>äº¤å‡ºCPUçš„æ‰§è¡Œæ—¶é—´ï¼Œä¸ä¼šé‡Šæ”¾é”ï¼Œè®©çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œç­‰å¾…é‡æ–°è·å–CPUæ‰§è¡Œæ—¶é—´ï¼Œyieldå°±åƒä¸€ä¸ªå¥½äººä¼¼çš„ï¼Œå½“CPUè½®åˆ°å®ƒäº†ï¼Œå®ƒå´è¯´æˆ‘å…ˆä¸æ€¥ï¼Œå…ˆç»™å…¶ä»–çº¿ç¨‹æ‰§è¡Œå§, æ­¤æ–¹æ³•å¾ˆå°‘è¢«ä½¿ç”¨åˆ°ï¼Œ</p><p>è¿™ä¸ªæ–¹æ³•çŸ¥è¯†ç»™æ“ä½œç³»ç»Ÿä¸€ä¸ªå»ºè®®ï¼Œä½†ä¸ä¸€å®šä¼šè¢«é‡‡çº³ã€‚</p><p>sleep(long millis) ä¸ yeid()</p><ul><li>sleep(long millis): éœ€è¦æŒ‡å®šå…·ä½“ç¡çœ çš„æ—¶é—´ï¼Œä¸ä¼šé‡Šæ”¾é”ï¼Œç¡çœ æœŸé—´CPUä¼šæ‰§è¡Œå…¶å®ƒçº¿ç¨‹ï¼Œç¡çœ æ—¶é—´åˆ°ä¼šç«‹åˆ»æ‰§è¡Œ</li><li>yeid(): äº¤å‡ºCPUçš„æ‰§è¡Œæƒï¼Œä¸ä¼šé‡Šæ”¾é”ï¼Œå’Œsleepä¸åŒçš„æ—¶å½“å†æ¬¡è·å–åˆ°CPUçš„æ‰§è¡Œï¼Œä¸èƒ½ç¡®å®šæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Œè€Œsleepæ˜¯èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™å†æ¬¡æ‰§è¡Œã€‚ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯sleepåå†æ¬¡æ‰§è¡Œçš„æ—¶é—´èƒ½ç¡®å®šï¼Œè€Œyeidæ˜¯ä¸èƒ½ç¡®å®šçš„</li><li>yieldä¼šæŠŠCPUçš„æ‰§è¡Œæƒäº¤å‡ºå»ï¼Œæ‰€ä»¥å¯ä»¥ç”¨yieldæ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œé€Ÿåº¦ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„æ¯”è¾ƒå¿«ï¼Œæ­¤æ—¶æƒ³è®©å®ƒæ‰§è¡Œçš„ç¨å¾®æ…¢ä¸€äº›å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œæƒ³è®©çº¿ç¨‹å˜æ…¢å¯ä»¥ä½¿ç”¨sleepå’Œwait,ä½†æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½éœ€è¦æŒ‡å®šå…·ä½“æ—¶é—´ï¼Œè€Œyieldä¸éœ€è¦æŒ‡å®šå…·ä½“æ—¶é—´ï¼Œè®©CPUå†³å®šä»€ä¹ˆæ—¶å€™èƒ½å†æ¬¡è¢«æ‰§è¡Œï¼Œå½“æ”¾å¼ƒåˆ°ä¸‹æ¬¡å†æ¬¡è¢«æ‰§è¡Œçš„ä¸­é—´æ—¶é—´å°±æ˜¯é—´æ­‡ç­‰å¾…çš„æ—¶é—´</li></ul><h4 id="setdaemon-boolean-on" tabindex="-1"><a class="header-anchor" href="#setdaemon-boolean-on" aria-hidden="true">#</a> setDaemon(boolean on)</h4><p>çº¿ç¨‹åˆ†ä¸¤ç§ï¼š</p><ul><li>ç”¨æˆ·çº¿ç¨‹ï¼šå¦‚æœä¸»çº¿ç¨‹mainåœæ­¢æ‰ï¼Œä¸ä¼šå½±å“ç”¨æˆ·çº¿ç¨‹ï¼Œç”¨æˆ·çº¿ç¨‹å¯ä»¥ç»§ç»­è¿è¡Œã€‚</li><li>å®ˆæŠ¤çº¿ç¨‹ï¼šå¦‚æœä¸»çº¿ç¨‹æ­»äº¡ï¼Œå®ˆæŠ¤çº¿ç¨‹å¦‚æœæ²¡æœ‰æ‰§è¡Œå®Œæ¯•ä¹Ÿè¦è·Ÿç€ä¸€å—æ­»(å°±åƒçš‡ä¸Šæ­»äº†ï¼Œå¸¦åˆ€ä¾å«ä¹Ÿè¦ä¸€å—æ­»)ï¼ŒGCåƒåœ¾å›æ”¶çº¿ç¨‹å°±æ˜¯å®ˆæŠ¤çº¿ç¨‹</li></ul><p>ç”¨æˆ·çº¿ç¨‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token annotation punctuation">@Override</span> 
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
                <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\ti=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
	<span class="token punctuation">}</span><span class="token punctuation">;</span> 
    thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\ti=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                               
    <span class="token punctuation">}</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œå­çº¿ç¨‹ä»ç„¶ç»§ç»­æ‰§è¡Œï¼Œä¸»çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªç‹¬ç«‹ã€‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œç»“æœï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>main	i=0
main	i=1
ä¸»çº¿ç¨‹æ‰§è¡Œç»“æŸï¼Œå­çº¿ç¨‹ä»ç„¶ç»§ç»­æ‰§è¡Œï¼Œä¸»çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªç‹¬ç«‹ã€‚
Thread-0	i=0
Thread-0	i=1
Thread-0	i=2
Thread-0	i=3
Thread-0	i=4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ˆæŠ¤çº¿ç¨‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token class-name">Thread</span> thread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token annotation punctuation">@Override</span> 
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> 
                <span class="token keyword">try</span> <span class="token punctuation">{</span> 
                    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
                <span class="token punctuation">}</span> 
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\ti=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">;</span> 
    thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    thread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\ti=&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸»çº¿ç¨‹æ­»äº¡ï¼Œå­çº¿ç¨‹ä¹Ÿè¦é™ªç€ä¸€å—æ­»ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>main	i=0
main	i=1
ä¸»çº¿ç¨‹æ­»äº¡ï¼Œå­çº¿ç¨‹ä¹Ÿè¦é™ªç€ä¸€å—æ­»ï¼
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="çº¿ç¨‹é—´é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#çº¿ç¨‹é—´é€šä¿¡" aria-hidden="true">#</a> çº¿ç¨‹é—´é€šä¿¡</h2></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 895252461@qq.com">xuliang</span>,<!--]--><!--[--><span class="contributor" title="email: 895252461@qq.com">è¯—äººéƒ½è—åœ¨æ°´åº•</span><!--]--><!--]--></div></footer><nav class="page-nav"><!----><a href="/java/java-concurrent/java-concurrent-container.html" class="nav-link next" aria-label="Java å¹¶å‘å®¹å™¨"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Java å¹¶å‘å®¹å™¨<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-c593f505.js" defer></script>
  </body>
</html>
