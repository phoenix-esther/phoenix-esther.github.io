<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.57" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>Jackson  ç”¨æ³•è¯¦è§£ | Java æˆç¥ä¹‹è·¯</title><meta name="description" content="è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ª VuePress ç«™ç‚¹">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-72ee67ce.css" as="style" /><link rel="stylesheet" href="/assets/style-72ee67ce.css" />
    <link rel="modulepreload" href="/assets/app-c593f505.js"><link rel="modulepreload" href="/assets/framework-4ec38622.js"><link rel="modulepreload" href="/assets/jackson-overview.html-57cfb768.js"><link rel="modulepreload" href="/assets/jackson-overview.html-ccca046f.js"><link rel="prefetch" href="/assets/index.html-4e1da2c4.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-df701e40.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-overview.html-94372eca.js" as="script" /><link rel="prefetch" href="/assets/gitbook.html-432908fc.js" as="script" /><link rel="prefetch" href="/assets/mysql-advance.html-b6faea43.js" as="script" /><link rel="prefetch" href="/assets/mysql-apply.html-e0982e6c.js" as="script" /><link rel="prefetch" href="/assets/mysql-base.html-15774da0.js" as="script" /><link rel="prefetch" href="/assets/mysql-devops.html-5cee1349.js" as="script" /><link rel="prefetch" href="/assets/redis-base.html-e17677ed.js" as="script" /><link rel="prefetch" href="/assets/redis-cluster.html-8712f49e.js" as="script" /><link rel="prefetch" href="/assets/redis-overview.html-1fca9f7e.js" as="script" /><link rel="prefetch" href="/assets/java-base.html-ca97d2c7.js" as="script" /><link rel="prefetch" href="/assets/java-sql.html-bbe6c4c2.js" as="script" /><link rel="prefetch" href="/assets/java-time.html-ce7c9496.js" as="script" /><link rel="prefetch" href="/assets/java-collection-list.html-8bbef8fd.js" as="script" /><link rel="prefetch" href="/assets/java-collection-map.html-9ee599cf.js" as="script" /><link rel="prefetch" href="/assets/java-collection-overview.html-31570b40.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-base.html-2e26c5a1.js" as="script" /><link rel="prefetch" href="/assets/Java-concurrent-container.html-e5f75933.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-interview.html-d289133d.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-lock.html-cbd95e38.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-pool.html-a9ecee05.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-tools.html-76151b53.js" as="script" /><link rel="prefetch" href="/assets/java-bio.html-d706ae9b.js" as="script" /><link rel="prefetch" href="/assets/java-io-base.html-bb263882.js" as="script" /><link rel="prefetch" href="/assets/java-nio.html-2de47e3f.js" as="script" /><link rel="prefetch" href="/assets/Javaå†…å­˜æ¨¡å‹.html-0e76463e.js" as="script" /><link rel="prefetch" href="/assets/JVMå†…å­˜ç»“æ„.html-b17bcef0.js" as="script" /><link rel="prefetch" href="/assets/JVMåƒåœ¾å›æ”¶.html-ee219a34.js" as="script" /><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-b4ce8fc6.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»åŠ è½½å™¨.html-dd7f5a89.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»æ–‡ä»¶ç»“æ„.html-8859cd08.js" as="script" /><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-0d15b1ba.js" as="script" /><link rel="prefetch" href="/assets/java-servlet.html-c7a54ede.js" as="script" /><link rel="prefetch" href="/assets/java-lambda.html-56b847d2.js" as="script" /><link rel="prefetch" href="/assets/java-stream.html-6167e062.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-base.html-f5a4e8e5.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-source.html-7a2f3fac.js" as="script" /><link rel="prefetch" href="/assets/kafka-broker.html-a30f3377.js" as="script" /><link rel="prefetch" href="/assets/kafka-consumer.html-2a1327ac.js" as="script" /><link rel="prefetch" href="/assets/kafka-overview.html-698972bc.js" as="script" /><link rel="prefetch" href="/assets/kafka-producer.html-579ce0f8.js" as="script" /><link rel="prefetch" href="/assets/spring-kafka.html-b1a1e4d1.js" as="script" /><link rel="prefetch" href="/assets/log-framework.html-98a12691.js" as="script" /><link rel="prefetch" href="/assets/1.Hello World.html-4b77eac1.js" as="script" /><link rel="prefetch" href="/assets/2.Global Config.html-bd544474.js" as="script" /><link rel="prefetch" href="/assets/index.html-905c3f62.js" as="script" /><link rel="prefetch" href="/assets/sharding-sphere.html-a30db686.js" as="script" /><link rel="prefetch" href="/assets/shiro-overview.html-fa31ba73.js" as="script" /><link rel="prefetch" href="/assets/tomcat.html-4ad2c770.js" as="script" /><link rel="prefetch" href="/assets/data-structure-list.html-17b01002.js" as="script" /><link rel="prefetch" href="/assets/data-structure-overview.html-44ed6838.js" as="script" /><link rel="prefetch" href="/assets/data-structure-tree.html-c806dd3b.js" as="script" /><link rel="prefetch" href="/assets/design-adapter.html-0e9d816d.js" as="script" /><link rel="prefetch" href="/assets/design-chain.html-bb17cabc.js" as="script" /><link rel="prefetch" href="/assets/design-composite.html-1d475fbf.js" as="script" /><link rel="prefetch" href="/assets/design-decorator.html-4f27f10a.js" as="script" /><link rel="prefetch" href="/assets/design-overview.html-0a940fb3.js" as="script" /><link rel="prefetch" href="/assets/design-proxy.html-100e60b2.js" as="script" /><link rel="prefetch" href="/assets/design-strategy.html-a2df8a49.js" as="script" /><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-86771022.js" as="script" /><link rel="prefetch" href="/assets/linux-overview.html-2bd9af93.js" as="script" /><link rel="prefetch" href="/assets/encoding.html-304390cc.js" as="script" /><link rel="prefetch" href="/assets/encryption-algorithm.html-fb0becaa.js" as="script" /><link rel="prefetch" href="/assets/temp.html-ac4ce374.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-c6481b26.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-ba0c8ae7.js" as="script" /><link rel="prefetch" href="/assets/spring-source-overview.html-9371e343.js" as="script" /><link rel="prefetch" href="/assets/spring-boot-condition.html-a415267e.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-commons-base.html-f75ee2c9.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-gateway.html-03291875.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-ccdc0547.js" as="script" /><link rel="prefetch" href="/assets/nacos-client-discovery.html-17a81d03.js" as="script" /><link rel="prefetch" href="/assets/nacos-overview.html-539b7085.js" as="script" /><link rel="prefetch" href="/assets/cloud-openfeign-action.html-7761387f.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-10212321.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-8669a44d.js" as="script" /><link rel="prefetch" href="/assets/sentinel-source.html-dc297934.js" as="script" /><link rel="prefetch" href="/assets/git.html-cb7e5449.js" as="script" /><link rel="prefetch" href="/assets/gitlab.html-eb2126d8.js" as="script" /><link rel="prefetch" href="/assets/junit4.html-6c786952.js" as="script" /><link rel="prefetch" href="/assets/junit5.html-e36d7d70.js" as="script" /><link rel="prefetch" href="/assets/maven.html-e0151a0f.js" as="script" /><link rel="prefetch" href="/assets/reactor.html-cd44ff8d.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-init.html-b8105d34.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-listener.html-7b8c6479.js" as="script" /><link rel="prefetch" href="/assets/404.html-f04ced3e.js" as="script" /><link rel="prefetch" href="/assets/index.html-62ca9f14.js" as="script" /><link rel="prefetch" href="/assets/index.html-fc52137e.js" as="script" /><link rel="prefetch" href="/assets/index.html-ee301928.js" as="script" /><link rel="prefetch" href="/assets/index.html-d0c5f0f0.js" as="script" /><link rel="prefetch" href="/assets/index.html-25bcd8c4.js" as="script" /><link rel="prefetch" href="/assets/index.html-37f2094a.js" as="script" /><link rel="prefetch" href="/assets/index.html-50de9de4.js" as="script" /><link rel="prefetch" href="/assets/index.html-a6bbb2fe.js" as="script" /><link rel="prefetch" href="/assets/index.html-afe963e2.js" as="script" /><link rel="prefetch" href="/assets/index.html-e1231d43.js" as="script" /><link rel="prefetch" href="/assets/index.html-c4d07d46.js" as="script" /><link rel="prefetch" href="/assets/index.html-19c8c7e9.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-alibaba-seate.html-b5da756c.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-overview.html-ff9b794b.js" as="script" /><link rel="prefetch" href="/assets/gitbook.html-5a50abf0.js" as="script" /><link rel="prefetch" href="/assets/mysql-advance.html-79a57a00.js" as="script" /><link rel="prefetch" href="/assets/mysql-apply.html-b76d628d.js" as="script" /><link rel="prefetch" href="/assets/mysql-base.html-95625c2f.js" as="script" /><link rel="prefetch" href="/assets/mysql-devops.html-74e24111.js" as="script" /><link rel="prefetch" href="/assets/redis-base.html-0c64fcd1.js" as="script" /><link rel="prefetch" href="/assets/redis-cluster.html-d9e53ddd.js" as="script" /><link rel="prefetch" href="/assets/redis-overview.html-d8ed14d9.js" as="script" /><link rel="prefetch" href="/assets/java-base.html-bb254e89.js" as="script" /><link rel="prefetch" href="/assets/java-sql.html-98f87090.js" as="script" /><link rel="prefetch" href="/assets/java-time.html-1149c2e2.js" as="script" /><link rel="prefetch" href="/assets/java-collection-list.html-dcb82f95.js" as="script" /><link rel="prefetch" href="/assets/java-collection-map.html-20b29455.js" as="script" /><link rel="prefetch" href="/assets/java-collection-overview.html-0153adc1.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-base.html-4092d51f.js" as="script" /><link rel="prefetch" href="/assets/Java-concurrent-container.html-f22d5109.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-interview.html-02742a0a.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-lock.html-41872812.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-pool.html-b7de958e.js" as="script" /><link rel="prefetch" href="/assets/java-concurrent-tools.html-b9ad45db.js" as="script" /><link rel="prefetch" href="/assets/java-bio.html-a5769212.js" as="script" /><link rel="prefetch" href="/assets/java-io-base.html-e3ef5e77.js" as="script" /><link rel="prefetch" href="/assets/java-nio.html-a3fa4765.js" as="script" /><link rel="prefetch" href="/assets/Javaå†…å­˜æ¨¡å‹.html-087adb9d.js" as="script" /><link rel="prefetch" href="/assets/JVMå†…å­˜ç»“æ„.html-4bc916e1.js" as="script" /><link rel="prefetch" href="/assets/JVMåƒåœ¾å›æ”¶.html-c6e0e3e0.js" as="script" /><link rel="prefetch" href="/assets/JVMæ¦‚è§ˆ.html-435f6ec8.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»åŠ è½½å™¨.html-0c7f8931.js" as="script" /><link rel="prefetch" href="/assets/JVMç±»æ–‡ä»¶ç»“æ„.html-5afd6d1d.js" as="script" /><link rel="prefetch" href="/assets/JVMè°ƒä¼˜.html-9a1a4154.js" as="script" /><link rel="prefetch" href="/assets/java-servlet.html-f9646dd1.js" as="script" /><link rel="prefetch" href="/assets/java-lambda.html-1db83529.js" as="script" /><link rel="prefetch" href="/assets/java-stream.html-8b490468.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-base.html-d01cd368.js" as="script" /><link rel="prefetch" href="/assets/HikariCP-source.html-27512376.js" as="script" /><link rel="prefetch" href="/assets/kafka-broker.html-7cc959b4.js" as="script" /><link rel="prefetch" href="/assets/kafka-consumer.html-35141192.js" as="script" /><link rel="prefetch" href="/assets/kafka-overview.html-b243daf8.js" as="script" /><link rel="prefetch" href="/assets/kafka-producer.html-93a69d00.js" as="script" /><link rel="prefetch" href="/assets/spring-kafka.html-0032d80c.js" as="script" /><link rel="prefetch" href="/assets/log-framework.html-5769500e.js" as="script" /><link rel="prefetch" href="/assets/1.Hello World.html-78e7fc50.js" as="script" /><link rel="prefetch" href="/assets/2.Global Config.html-d3157ebb.js" as="script" /><link rel="prefetch" href="/assets/index.html-44ddef87.js" as="script" /><link rel="prefetch" href="/assets/sharding-sphere.html-2e54e4df.js" as="script" /><link rel="prefetch" href="/assets/shiro-overview.html-e44b2286.js" as="script" /><link rel="prefetch" href="/assets/tomcat.html-653f98cd.js" as="script" /><link rel="prefetch" href="/assets/data-structure-list.html-420dc821.js" as="script" /><link rel="prefetch" href="/assets/data-structure-overview.html-e227421d.js" as="script" /><link rel="prefetch" href="/assets/data-structure-tree.html-752ceeb1.js" as="script" /><link rel="prefetch" href="/assets/design-adapter.html-41aa7652.js" as="script" /><link rel="prefetch" href="/assets/design-chain.html-8685e4e6.js" as="script" /><link rel="prefetch" href="/assets/design-composite.html-4375b033.js" as="script" /><link rel="prefetch" href="/assets/design-decorator.html-2b2ae807.js" as="script" /><link rel="prefetch" href="/assets/design-overview.html-300948fd.js" as="script" /><link rel="prefetch" href="/assets/design-proxy.html-e1813076.js" as="script" /><link rel="prefetch" href="/assets/design-strategy.html-a31637dd.js" as="script" /><link rel="prefetch" href="/assets/æ»‘åŠ¨çª—å£.html-ae330cc5.js" as="script" /><link rel="prefetch" href="/assets/linux-overview.html-8ac20a5d.js" as="script" /><link rel="prefetch" href="/assets/encoding.html-f8e7f158.js" as="script" /><link rel="prefetch" href="/assets/encryption-algorithm.html-bfb3dc64.js" as="script" /><link rel="prefetch" href="/assets/temp.html-ec342781.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-base.html-a44c5c69.js" as="script" /><link rel="prefetch" href="/assets/BeanPostProcessor-ConfigurationClassPostProcessor.html-edba8ecd.js" as="script" /><link rel="prefetch" href="/assets/spring-source-overview.html-576738e8.js" as="script" /><link rel="prefetch" href="/assets/spring-boot-condition.html-b4e4df1a.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-commons-base.html-39238198.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-gateway.html-7a4e7b1f.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-loadbalancer.html-7a202164.js" as="script" /><link rel="prefetch" href="/assets/nacos-client-discovery.html-1f7ae7f3.js" as="script" /><link rel="prefetch" href="/assets/nacos-overview.html-43d7250d.js" as="script" /><link rel="prefetch" href="/assets/cloud-openfeign-action.html-7559bcf7.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-openfeign.html-47e8c26d.js" as="script" /><link rel="prefetch" href="/assets/spring-cloud-ribbon.html-a27e5c44.js" as="script" /><link rel="prefetch" href="/assets/sentinel-source.html-dc357213.js" as="script" /><link rel="prefetch" href="/assets/git.html-eefdc275.js" as="script" /><link rel="prefetch" href="/assets/gitlab.html-65555382.js" as="script" /><link rel="prefetch" href="/assets/junit4.html-c35363b6.js" as="script" /><link rel="prefetch" href="/assets/junit5.html-bdf5716e.js" as="script" /><link rel="prefetch" href="/assets/maven.html-7c434596.js" as="script" /><link rel="prefetch" href="/assets/reactor.html-f20890c4.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-init.html-27ad7747.js" as="script" /><link rel="prefetch" href="/assets/spring-source-web-listener.html-2166addd.js" as="script" /><link rel="prefetch" href="/assets/404.html-46b6c18e.js" as="script" /><link rel="prefetch" href="/assets/index.html-ed68d2be.js" as="script" /><link rel="prefetch" href="/assets/index.html-398e9a2c.js" as="script" /><link rel="prefetch" href="/assets/index.html-902245d5.js" as="script" /><link rel="prefetch" href="/assets/index.html-93ba03a9.js" as="script" /><link rel="prefetch" href="/assets/index.html-70956359.js" as="script" /><link rel="prefetch" href="/assets/index.html-f0a732cd.js" as="script" /><link rel="prefetch" href="/assets/index.html-3344b751.js" as="script" /><link rel="prefetch" href="/assets/index.html-6d2a3ffd.js" as="script" /><link rel="prefetch" href="/assets/index.html-a5787a89.js" as="script" /><link rel="prefetch" href="/assets/index.html-440f50d2.js" as="script" /><link rel="prefetch" href="/assets/index.html-a7274cc8.js" as="script" /><link rel="prefetch" href="/assets/clientConfigs-bdea5ab7.js" as="script" /><link rel="prefetch" href="/assets/clientConfigs-bdea5ab7.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><span class="site-name">Java æˆç¥ä¹‹è·¯</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java ç¬”è®°"><span class="title"><!---->Java ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java åŸºç¡€</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-base/java-base.html" class="nav-link" aria-label="Java åŸºç¡€çŸ¥è¯†"><!---->Java åŸºç¡€çŸ¥è¯†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java IO</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-io/java-io-base.html" class="nav-link" aria-label="Java IO åŸºç¡€çŸ¥è¯†"><!---->Java IO åŸºç¡€çŸ¥è¯†<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java é›†åˆ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-collection/java-collection-overview.html" class="nav-link" aria-label="Java é›†åˆæ¦‚è§ˆ"><!---->Java é›†åˆæ¦‚è§ˆ<!----></a></li><li class="dropdown-subitem"><a href="/java/java-collection/java-collection-list.html" class="nav-link" aria-label="Java Listé›†åˆ"><!---->Java Listé›†åˆ<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Java å¹¶å‘</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-concurrent/java-concurrent-base.html" class="nav-link" aria-label="Java å¹¶å‘åŸºç¡€"><!---->Java å¹¶å‘åŸºç¡€<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JVM è¯¦è§£</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E6%A6%82%E8%A7%88.html" class="nav-link" aria-label="JVMæ¦‚è§ˆ"><!---->JVMæ¦‚è§ˆ<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.html" class="nav-link" aria-label="JVMå†…å­˜ç»“æ„"><!---->JVMå†…å­˜ç»“æ„<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6.html" class="nav-link" aria-label="JVMåƒåœ¾å›æ”¶"><!---->JVMåƒåœ¾å›æ”¶<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E7%B1%BB%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84.html" class="nav-link" aria-label="JVMç±»æ–‡ä»¶ç»“æ„"><!---->JVMç±»æ–‡ä»¶ç»“æ„<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html" class="nav-link" aria-label="JVMç±»åŠ è½½å™¨"><!---->JVMç±»åŠ è½½å™¨<!----></a></li><li class="dropdown-subitem"><a href="/java/java-jvm/JVMå†…å­˜æ¨¡å‹.html" class="nav-link" aria-label="Javaå†…å­˜æ¨¡å‹"><!---->Javaå†…å­˜æ¨¡å‹<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring ç¬”è®°"><span class="title"><!---->Spring ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring IOC</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/test02.html" class="nav-link" aria-label="Spring IOCè¯¦è§£"><!---->Spring IOCè¯¦è§£<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Spring åç½®å¤„ç†å™¨è§£æ</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/spring/spring-bean-post-processor/BeanPostProcessor-base.html" class="nav-link" aria-label="Spring åç½®å¤„ç†å™¨æ€»è§ˆ"><!---->Spring åç½®å¤„ç†å™¨æ€»è§ˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring Cloud"><span class="title"><!---->Spring Cloud</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-overview.html" class="nav-link" aria-label="Spring Cloud Overview"><!---->Spring Cloud Overview<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-nacos.md" class="nav-link" aria-label="Spring Cloud Nacos"><!---->Spring Cloud Nacos<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-sentinel.md" class="nav-link" aria-label="Spring Cloud Sentinel"><!---->Spring Cloud Sentinel<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-alibaba-seate.html" class="nav-link" aria-label="Spring Cloud Seate"><!---->Spring Cloud Seate<!----></a></li><li class="dropdown-item"><a href="/spring-cloud/spring-cloud-ribbon/spring-cloud-ribbon.html" class="nav-link" aria-label="Spring Cloud Ribbon"><!---->Spring Cloud Ribbon<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><!---->æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MySQL</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/database/mysql/mysql-base.html" class="nav-link" aria-label="MySQL åŸºç¡€ç¯‡"><!---->MySQL åŸºç¡€ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-advance.html" class="nav-link" aria-label="MySQL è¿›é˜¶ç¯‡"><!---->MySQL è¿›é˜¶ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-devops.html" class="nav-link" aria-label="MySQL è¿ç»´ç¯‡"><!---->MySQL è¿ç»´ç¯‡<!----></a></li><li class="dropdown-subitem"><a href="/database/mysql/mysql-apply.html" class="nav-link" aria-label="MySQL åº”ç”¨ç¯‡"><!---->MySQL åº”ç”¨ç¯‡<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è‡ªæˆ‘ä¿®å…»"><span class="title"><!---->è‡ªæˆ‘ä¿®å…»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/quality/design-mode/design-overview.html" class="nav-link" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></li><li class="dropdown-item"><a href="/quality/data-structure/data-structure-overview.html" class="nav-link" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a></li><li class="dropdown-item"><a href="/quality/linux/linux-overview.html" class="nav-link" aria-label="Linux æ€»ç»“"><!---->Linux æ€»ç»“<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ä¸­é—´ä»¶"><span class="title"><!---->ä¸­é—´ä»¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/middleware/tomcat/tomcat.html" class="nav-link" aria-label="Tomcat ä¸“é¢˜"><!---->Tomcat ä¸“é¢˜<!----></a></li><li class="dropdown-item"><a href="/middleware/kafka/kafka-overview.html" class="nav-link" aria-label="Kafka ä¸“é¢˜"><!---->Kafka ä¸“é¢˜<!----></a></li><li class="dropdown-item"><a href="/middleware/redis/redis-overview.md" class="nav-link" aria-label="Redis ä¸“é¢˜"><!---->Redis ä¸“é¢˜<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å·¥å…·åŒ…"><span class="title"><!---->å·¥å…·åŒ…</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Junit æµ‹è¯•æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/tools/junit/junit5.html" class="nav-link" aria-label="Junit 5 ä½¿ç”¨æ€»ç»“"><!---->Junit 5 ä½¿ç”¨æ€»ç»“<!----></a></li></ul></li><li class="dropdown-item"><a href="/tools/log/log-framework.md" class="nav-link" aria-label="Java æ—¥å¿—æ¡†æ¶"><!---->Java æ—¥å¿—æ¡†æ¶<!----></a></li><li class="dropdown-item"><a href="/tools/maven/maven.html" class="nav-link" aria-label="Maven ä½¿ç”¨å…¥é—¨"><!---->Maven ä½¿ç”¨å…¥é—¨<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Tomcat ä¸“é¢˜</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/middleware/tomcat/tomcat.html" class="nav-link sidebar-link sidebar-page" aria-label="Tomcatä¸“é¢˜"><!---->Tomcatä¸“é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Kafka ä¸“é¢˜</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/middleware/kafka/kafka-overview.html" class="nav-link sidebar-link sidebar-page" aria-label="Kafka Overview"><!---->Kafka Overview<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/middleware/kafka/kafka-consumer.html" class="nav-link sidebar-link sidebar-page" aria-label="Kafka Consumer"><!---->Kafka Consumer<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/middleware/kafka/kafka-producer.html" class="nav-link sidebar-link sidebar-page" aria-label="Kafka ç”Ÿäº§è€…"><!---->Kafka ç”Ÿäº§è€…<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/middleware/kafka/kafka-broker.html" class="nav-link sidebar-link sidebar-page" aria-label="Kafka Broker"><!---->Kafka Broker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/middleware/kafka/spring-kafka.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring Kafka"><!---->Spring Kafka<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><!----><span class="title">Redis ä¸“é¢˜</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/middleware/redis/redis-overview.md" class="nav-link sidebar-link sidebar-page" aria-label="/middleware/redis/redis-overview.md"><!---->/middleware/redis/redis-overview.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/middleware/redis/redis-cluster.md" class="nav-link sidebar-link sidebar-page" aria-label="/middleware/redis/redis-cluster.md"><!---->/middleware/redis/redis-cluster.md<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Jackson  ç”¨æ³•è¯¦è§£</h1><div class="page-info"><!----><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-12-04T12:36:03.000Z"></span><!----><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 34 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT34M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸€ã€ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">ä¸€ã€ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#äºŒã€ä¾èµ–" class="router-link-active router-link-exact-active toc-link level2">äºŒã€ä¾èµ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸‰ã€-objectmapper" class="router-link-active router-link-exact-active toc-link level2">ä¸‰ã€ ObjectMapper</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸€-ã€ä»jsonä¸­è·å–javaå¯¹è±¡" class="router-link-active router-link-exact-active toc-link level3">ä¸€ï¼‰ã€ä»JSONä¸­è·å–Javaå¯¹è±¡</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#äºŒ-ã€å°†å¯¹è±¡å†™å…¥json" class="router-link-active router-link-exact-active toc-link level3">äºŒï¼‰ã€å°†å¯¹è±¡å†™å…¥JSON</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸‰-ã€jackson-æ—¥æœŸè½¬åŒ–" class="router-link-active router-link-exact-active toc-link level3">ä¸‰ï¼‰ã€Jackson æ—¥æœŸè½¬åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#å››-ã€jackson-json-æ ‘æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level3">å››ï¼‰ã€Jackson JSON æ ‘æ¨¡å‹</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#å››ã€jsonnode" class="router-link-active router-link-exact-active toc-link level2">å››ã€JsonNode</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_1ã€jsonnode-vs-objectnode" class="router-link-active router-link-exact-active toc-link level3">1ã€JsonNode vs ObjectNode</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_2ã€json-jsonnode" class="router-link-active router-link-exact-active toc-link level3">2ã€JSON--&gt;JsonNode</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_3ã€jsonnode-json" class="router-link-active router-link-exact-active toc-link level3">3ã€JsonNode--&gt;JSON</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_4ã€è·å–jsonnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">4ã€è·å–JsonNodeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_5ã€åœ¨è·¯å¾„ä¸­è·å–jsonnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">5ã€åœ¨è·¯å¾„ä¸­è·å–JsonNodeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_6ã€è½¬æ¢jsonnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">6ã€è½¬æ¢JsonNodeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_7ã€åˆ›å»ºä¸€ä¸ªobjectnode" class="router-link-active router-link-exact-active toc-link level3">7ã€åˆ›å»ºä¸€ä¸ªObjectNode</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_8ã€set-objectnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">8ã€Set ObjectNodeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_9ã€put-objectnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">9ã€Put ObjectNodeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_10ã€åˆ é™¤å­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">10ã€åˆ é™¤å­—æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_11ã€å¾ªç¯jsonnodeå­—æ®µ" class="router-link-active router-link-exact-active toc-link level3">11ã€å¾ªç¯JsonNodeå­—æ®µ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#äº”ã€jsonparser" class="router-link-active router-link-exact-active toc-link level2">äº”ã€JsonParser</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_1ã€åˆ›å»ºä¸€ä¸ªjsonparser" class="router-link-active router-link-exact-active toc-link level3">1ã€åˆ›å»ºä¸€ä¸ªJsonParser</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_2ã€ç”¨jsonparserè½¬åŒ–json" class="router-link-active router-link-exact-active toc-link level3">2ã€ç”¨JsonParserè½¬åŒ–JSON</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#å…­ã€jsongenerator" class="router-link-active router-link-exact-active toc-link level2">å…­ã€JsonGenerator</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_1ã€åˆ›å»ºä¸€ä¸ªjsongenerator" class="router-link-active router-link-exact-active toc-link level3">1ã€åˆ›å»ºä¸€ä¸ªJsonGenerator</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_2ã€ä½¿ç”¨jsongeneratorç”Ÿæˆjson" class="router-link-active router-link-exact-active toc-link level3">2ã€ä½¿ç”¨JsonGeneratorç”ŸæˆJSON</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#_3ã€å…³é—­jsongenerator" class="router-link-active router-link-exact-active toc-link level3">3ã€å…³é—­JsonGenerator</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸ƒã€jacksonæ³¨è§£" class="router-link-active router-link-exact-active toc-link level2">ä¸ƒã€Jacksonæ³¨è§£</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸€-ã€read-writeæ³¨è§£" class="router-link-active router-link-exact-active toc-link level3">ä¸€ï¼‰ã€Read + Writeæ³¨è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#äºŒ-ã€readæ³¨è§£" class="router-link-active router-link-exact-active toc-link level3">äºŒï¼‰ã€Readæ³¨è§£</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/middleware/jackson/jackson-overview.html#ä¸‰-ã€writeæ³¨è§£" class="router-link-active router-link-exact-active toc-link level3">ä¸‰ï¼‰ã€Writeæ³¨è§£</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="jackson-ç”¨æ³•è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#jackson-ç”¨æ³•è¯¦è§£" aria-hidden="true">#</a> Jackson ç”¨æ³•è¯¦è§£</h1><blockquote><p>Spring MVC é»˜è®¤é‡‡ç”¨Jacksonè§£æJsonï¼Œå°½ç®¡è¿˜æœ‰ä¸€äº›å…¶å®ƒåŒæ ·ä¼˜ç§€çš„jsonè§£æå·¥å…·ï¼Œä¾‹å¦‚Fast Jsonã€GSONï¼Œä½†æ˜¯å‡ºäºæœ€å°ä¾èµ–çš„è€ƒè™‘ï¼Œä¹Ÿè®¸Jsonè§£æç¬¬ä¸€é€‰æ‹©å°±åº”è¯¥æ˜¯Jacksonã€‚</p></blockquote><h2 id="ä¸€ã€ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ç®€ä»‹" aria-hidden="true">#</a> ä¸€ã€ç®€ä»‹</h2><p>Jackson æ˜¯å½“å‰ç”¨çš„æ¯”è¾ƒå¹¿æ³›çš„ï¼Œç”¨æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ– json çš„ Java çš„å¼€æºæ¡†æ¶ã€‚Jackson ç¤¾åŒºç›¸å¯¹æ¯”è¾ƒæ´»è·ƒï¼Œæ›´æ–°é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«ï¼Œ ä» Github ä¸­çš„ç»Ÿè®¡æ¥çœ‹ï¼ŒJackson æ˜¯æœ€æµè¡Œçš„ json è§£æå™¨ä¹‹ä¸€ ã€‚ Spring MVC çš„é»˜è®¤ json è§£æå™¨ä¾¿æ˜¯ Jacksonã€‚ Jackson ä¼˜ç‚¹å¾ˆå¤šã€‚ Jackson æ‰€ä¾èµ–çš„ jar åŒ…è¾ƒå°‘ ï¼Œç®€å•æ˜“ç”¨ã€‚ä¸å…¶ä»– Java çš„ json çš„æ¡†æ¶ Gson ç­‰ç›¸æ¯”ï¼Œ Jackson è§£æå¤§çš„ json æ–‡ä»¶é€Ÿåº¦æ¯”è¾ƒå¿«ï¼›Jackson è¿è¡Œæ—¶å ç”¨å†…å­˜æ¯”è¾ƒä½ï¼Œæ€§èƒ½æ¯”è¾ƒå¥½ï¼›Jackson æœ‰çµæ´»çš„ APIï¼Œå¯ä»¥å¾ˆå®¹æ˜“è¿›è¡Œæ‰©å±•å’Œå®šåˆ¶ã€‚</p><p>Jackson çš„ 1.x ç‰ˆæœ¬çš„åŒ…åæ˜¯ org.codehaus.jackson ï¼Œå½“å‡çº§åˆ° 2.x ç‰ˆæœ¬æ—¶ï¼ŒåŒ…åå˜ä¸º com.fasterxml.jacksonã€‚</p><p>Jackson çš„æ ¸å¿ƒæ¨¡å—ç”±ä¸‰éƒ¨åˆ†ç»„æˆã€‚</p><ul><li>jackson-coreï¼Œæ ¸å¿ƒåŒ…ï¼Œæä¾›åŸºäº&quot;æµæ¨¡å¼&quot;è§£æçš„ç›¸å…³ APIï¼Œå®ƒåŒ…æ‹¬ JsonPaser å’Œ JsonGeneratorã€‚ Jackson å†…éƒ¨å®ç°æ­£æ˜¯é€šè¿‡é«˜æ€§èƒ½çš„æµæ¨¡å¼ API çš„ JsonGenerator å’Œ JsonParser æ¥ç”Ÿæˆå’Œè§£æ jsonã€‚</li><li>jackson-annotationsï¼Œæ³¨è§£åŒ…ï¼Œæä¾›æ ‡å‡†æ³¨è§£åŠŸèƒ½ï¼›</li><li>jackson-databind ï¼Œæ•°æ®ç»‘å®šåŒ…ï¼Œ æä¾›åŸºäº&quot;å¯¹è±¡ç»‘å®š&quot; è§£æçš„ç›¸å…³ API ï¼ˆ ObjectMapper ï¼‰ å’Œ&quot;æ ‘æ¨¡å‹&quot; è§£æçš„ç›¸å…³ API ï¼ˆJsonNodeï¼‰ï¼›åŸºäº&quot;å¯¹è±¡ç»‘å®š&quot; è§£æçš„ API å’Œ&quot;æ ‘æ¨¡å‹&quot;è§£æçš„ API ä¾èµ–åŸºäº&quot;æµæ¨¡å¼&quot;è§£æçš„ APIã€‚</li></ul><h2 id="äºŒã€ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#äºŒã€ä¾èµ–" aria-hidden="true">#</a> äºŒã€ä¾èµ–</h2><p>ä½¿ç”¨Mavenæ„å»ºé¡¹ç›®ï¼Œéœ€è¦æ·»åŠ ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-annotations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶äº†ï¼Œjackson-databind ä¾èµ– jackson-core å’Œ jackson-annotationsï¼Œæ‰€ä»¥å¯ä»¥åªæ˜¾ç¤ºåœ°æ·»åŠ jackson-databindä¾èµ–ï¼Œjackson-core å’Œ jackson-annotations ä¹Ÿéšä¹‹æ·»åŠ åˆ° Java é¡¹ç›®å·¥ç¨‹ä¸­ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æ˜¯Jacksonçš„ç”¨æ³•ã€‚</p><h2 id="ä¸‰ã€-objectmapper" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€-objectmapper" aria-hidden="true">#</a> ä¸‰ã€ ObjectMapper</h2><p>Jackson æœ€å¸¸ç”¨çš„ API å°±æ˜¯åŸºäº&quot;å¯¹è±¡ç»‘å®š&quot; çš„ ObjectMapperï¼š</p><ul><li>ObjectMapperå¯ä»¥ä»å­—ç¬¦ä¸²ï¼Œæµæˆ–æ–‡ä»¶ä¸­è§£æJSONï¼Œå¹¶åˆ›å»ºè¡¨ç¤ºå·²è§£æçš„JSONçš„Javaå¯¹è±¡ã€‚ å°†JSONè§£æä¸ºJavaå¯¹è±¡ä¹Ÿç§°ä¸ºä»JSONååºåˆ—åŒ–Javaå¯¹è±¡ã€‚</li><li>ObjectMapperä¹Ÿå¯ä»¥ä»Javaå¯¹è±¡åˆ›å»ºJSONã€‚ ä»Javaå¯¹è±¡ç”ŸæˆJSONä¹Ÿç§°ä¸ºå°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONã€‚</li><li>Objectæ˜ å°„å™¨å¯ä»¥å°†JSONè§£æä¸ºè‡ªå®šä¹‰çš„ç±»çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è§£æç½®JSONæ ‘æ¨¡å‹çš„å¯¹è±¡ã€‚</li></ul><p>ä¹‹æ‰€ä»¥ç§°ä¸ºObjectMapperæ˜¯å› ä¸ºå®ƒå°†JSONæ˜ å°„åˆ°Javaå¯¹è±¡ï¼ˆååºåˆ—åŒ–ï¼‰ï¼Œæˆ–è€…å°†Javaå¯¹è±¡æ˜ å°„åˆ°JSONï¼ˆåºåˆ—åŒ–ï¼‰ã€‚</p><h3 id="ä¸€-ã€ä»jsonä¸­è·å–javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#ä¸€-ã€ä»jsonä¸­è·å–javaå¯¹è±¡" aria-hidden="true">#</a> ä¸€ï¼‰ã€ä»JSONä¸­è·å–Javaå¯¹è±¡</h3><h4 id="_1ã€ç®€å•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_1ã€ç®€å•ç¤ºä¾‹" aria-hidden="true">#</a> 1ã€ç®€å•ç¤ºä¾‹</h4><p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><p>Carç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> brand <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> doors <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span>   <span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span>  <span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> setDoors <span class="token punctuation">(</span><span class="token keyword">int</span> doors<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors <span class="token operator">=</span> doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†Jsonè½¬æ¢ä¸ºCarç±»å¯¹è±¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> carJson <span class="token operator">=</span><span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car brand = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span><span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car doors = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span><span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2ã€-objectmapperå¦‚ä½•åŒ¹é…jsonå¯¹è±¡çš„å­—æ®µå’Œjavaå¯¹è±¡çš„å±æ€§" tabindex="-1"><a class="header-anchor" href="#_2ã€-objectmapperå¦‚ä½•åŒ¹é…jsonå¯¹è±¡çš„å­—æ®µå’Œjavaå¯¹è±¡çš„å±æ€§" aria-hidden="true">#</a> 2ã€ ObjectMapperå¦‚ä½•åŒ¹é…JSONå¯¹è±¡çš„å­—æ®µå’ŒJavaå¯¹è±¡çš„å±æ€§</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJacksoné€šè¿‡å°†JSONå­—æ®µçš„åç§°ä¸Javaå¯¹è±¡ä¸­çš„getterå’Œsetteræ–¹æ³•è¿›è¡ŒåŒ¹é…ï¼Œå°†JSONå¯¹è±¡çš„å­—æ®µæ˜ å°„åˆ°Javaå¯¹è±¡ä¸­çš„å±æ€§ã€‚ Jacksonåˆ é™¤äº†getterå’Œsetteræ–¹æ³•åç§°çš„â€œ getâ€å’Œâ€œ setâ€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ä½™åç§°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå°å†™ã€‚</p><p>ä¾‹å¦‚ï¼Œåä¸ºbrandçš„JSONå­—æ®µä¸åä¸ºgetBrand()å’ŒsetBrand()çš„Java getterå’Œsetteræ–¹æ³•åŒ¹é…ã€‚ åä¸ºengineNumberçš„JSONå­—æ®µå°†ä¸åä¸ºgetEngineNumber()å’ŒsetEngineNumber()çš„getterå’ŒsetteråŒ¹é…ã€‚</p><p>å¦‚æœéœ€è¦ä»¥å…¶ä»–æ–¹å¼å°†JSONå¯¹è±¡å­—æ®µä¸Javaå¯¹è±¡å­—æ®µåŒ¹é…ï¼Œåˆ™éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨å’Œååºåˆ—åŒ–å™¨ï¼Œæˆ–è€…ä½¿ç”¨ä¸€äº›Jacksonæ³¨è§£ã€‚</p><h4 id="_3ã€jsonå­—ç¬¦ä¸²-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3ã€jsonå­—ç¬¦ä¸²-javaå¯¹è±¡" aria-hidden="true">#</a> 3ã€JSONå­—ç¬¦ä¸²--&gt;Javaå¯¹è±¡</h4><p>ä»JSONå­—ç¬¦ä¸²è¯»å–Javaå¯¹è±¡éå¸¸å®¹æ˜“ã€‚ ä¸Šé¢å·²ç»æœ‰äº†ä¸€ä¸ªç¤ºä¾‹â€”â€”JSONå­—ç¬¦ä¸²ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ObjectMapperçš„readValue()æ–¹æ³•ã€‚ è¿™æ˜¯å¦ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3ã€json-å­—ç¬¦è¾“å…¥æµ-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3ã€json-å­—ç¬¦è¾“å…¥æµ-javaå¯¹è±¡" aria-hidden="true">#</a> 3ã€JSON å­—ç¬¦è¾“å…¥æµ--&gt;Javaå¯¹è±¡</h4><p>è¿˜å¯ä»¥ä»é€šè¿‡Readerå®ä¾‹åŠ è½½çš„JSONä¸­è¯»å–å¯¹è±¡ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 4 }&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>reader<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4ã€jsonæ–‡ä»¶-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_4ã€jsonæ–‡ä»¶-javaå¯¹è±¡" aria-hidden="true">#</a> 4ã€JSONæ–‡ä»¶--&gt;Javaå¯¹è±¡</h4><p>ä»æ–‡ä»¶è¯»å–JSONå½“ç„¶å¯ä»¥é€šè¿‡FileReaderï¼ˆè€Œä¸æ˜¯StringReaderï¼‰æ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥é€šè¿‡Fileå¯¹è±¡æ¥å®Œæˆã€‚ è¿™æ˜¯ä»æ–‡ä»¶è¯»å–JSONçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5ã€json-via-url-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_5ã€json-via-url-javaå¯¹è±¡" aria-hidden="true">#</a> 5ã€JSON via URL---&gt;Javaå¯¹è±¡</h4><p>å¯ä»¥é€šè¿‡URLï¼ˆjava.net.URLï¼‰ä»JSONè¯»å–å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span><span class="token string">&quot;file:data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ä½¿ç”¨æ–‡ä»¶URLï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨HTTP URLï¼ˆç±»ä¼¼äºhttp://jenkov.com/some-data.jsonï¼‰ã€‚</p><h4 id="_6ã€jsonå­—èŠ‚è¾“å…¥æµ-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_6ã€jsonå­—èŠ‚è¾“å…¥æµ-javaå¯¹è±¡" aria-hidden="true">#</a> 6ã€JSONå­—èŠ‚è¾“å…¥æµ--&gt;Javaå¯¹è±¡</h4><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ObjectMapperé€šè¿‡InputStreamä»JSONè¯»å–å¯¹è±¡ã€‚ è¿™æ˜¯ä¸€ä¸ªä»InputStreamè¯»å–JSONçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">InputStream</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;data/car.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7ã€jsonäºŒè¿›åˆ¶æ•°ç»„-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_7ã€jsonäºŒè¿›åˆ¶æ•°ç»„-javaå¯¹è±¡" aria-hidden="true">#</a> 7ã€JSONäºŒè¿›åˆ¶æ•°ç»„--&gt;Javaå¯¹è±¡</h4><p>Jacksonè¿˜æ”¯æŒä»JSONå­—èŠ‚æ•°ç»„è¯»å–å¯¹è±¡ã€‚ è¿™æ˜¯ä»JSONå­—èŠ‚æ•°ç»„è¯»å–å¯¹è±¡çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> carJson<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8ã€jsonæ•°ç»„å­—ç¬¦ä¸²-javaå¯¹è±¡æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_8ã€jsonæ•°ç»„å­—ç¬¦ä¸²-javaå¯¹è±¡æ•°ç»„" aria-hidden="true">#</a> 8ã€JSONæ•°ç»„å­—ç¬¦ä¸²--&gt;Javaå¯¹è±¡æ•°ç»„</h4><p>Jackson ObjectMapperä¹Ÿå¯ä»¥ä»JSONæ•°ç»„å­—ç¬¦ä¸²è¯»å–å¯¹è±¡æ•°ç»„ã€‚ è¿™æ˜¯ä»JSONæ•°ç»„å­—ç¬¦ä¸²è¯»å–å¯¹è±¡æ•°ç»„çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> jsonArray <span class="token operator">=</span> <span class="token string">&quot;[{\&quot;brand\&quot;:\&quot;ford\&quot;}, {\&quot;brand\&quot;:\&quot;Fiat\&quot;}]&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Car</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cars2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonArray<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦å°†Caræ•°ç»„ç±»ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™readValue()æ–¹æ³•ã€‚</p><p>è¯»å–å¯¹è±¡æ•°ç»„è¿˜å¯ä»¥ä¸å­—ç¬¦ä¸²ä»¥å¤–çš„å…¶ä»–JSONæºä¸€èµ·ä½¿ç”¨ã€‚ ä¾‹å¦‚ï¼Œæ–‡ä»¶ï¼ŒURLï¼ŒInputStreamï¼ŒReaderç­‰ã€‚</p><h4 id="_9ã€jsonæ•°ç»„å­—ç¬¦ä¸²-list" tabindex="-1"><a class="header-anchor" href="#_9ã€jsonæ•°ç»„å­—ç¬¦ä¸²-list" aria-hidden="true">#</a> 9ã€JSONæ•°ç»„å­—ç¬¦ä¸²--&gt;List</h4><p>Jackson ObjectMapperè¿˜å¯ä»¥ä»JSONæ•°ç»„å­—ç¬¦ä¸²è¯»å–å¯¹è±¡çš„Java Listã€‚ è¿™æ˜¯ä»JSONæ•°ç»„å­—ç¬¦ä¸²è¯»å–å¯¹è±¡åˆ—è¡¨çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">String</span> jsonArray <span class="token operator">=</span> <span class="token string">&quot;[{\&quot;brand\&quot;:\&quot;ford\&quot;}, {\&quot;brand\&quot;:\&quot;Fiat\&quot;}]&quot;</span><span class="token punctuation">;</span>
	<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> cars1 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonArray<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_10ã€jsonå­—ç¬¦ä¸²-map" tabindex="-1"><a class="header-anchor" href="#_10ã€jsonå­—ç¬¦ä¸²-map" aria-hidden="true">#</a> 10ã€JSONå­—ç¬¦ä¸²--&gt;Map</h4><p>Jackson ObjectMapperè¿˜å¯ä»¥ä»JSONå­—ç¬¦ä¸²è¯»å–Java Mapã€‚ å¦‚æœäº‹å…ˆä¸çŸ¥é“å°†è¦è§£æçš„ç¡®åˆ‡JSONç»“æ„ï¼Œè¿™ç§æ–¹æ³•æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚ é€šå¸¸ï¼Œä¼šå°†JSONå¯¹è±¡è¯»å…¥Java Mapã€‚ JSONå¯¹è±¡ä¸­çš„æ¯ä¸ªå­—æ®µéƒ½å°†æˆä¸ºJava Mapä¸­çš„é”®ï¼Œå€¼å¯¹ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Jackson ObjectMapperä»JSONå­—ç¬¦ä¸²è¯»å–Java Mapçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> jsonObject <span class="token operator">=</span> <span class="token string">&quot;{\&quot;brand\&quot;:\&quot;ford\&quot;, \&quot;doors\&quot;:5}&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> jsonMap <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonObject<span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_11ã€å¿½ç•¥æœªçŸ¥çš„jsonå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_11ã€å¿½ç•¥æœªçŸ¥çš„jsonå­—æ®µ" aria-hidden="true">#</a> 11ã€å¿½ç•¥æœªçŸ¥çš„JSONå­—æ®µ</h4><p>æœ‰æ—¶å€™ï¼Œä¸è¦ä»JSONè¯»å–çš„Javaå¯¹è±¡ç›¸æ¯”ï¼ŒJSONä¸­çš„å­—æ®µæ›´å¤šã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒJacksonåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ŒæŠ¥ä¸çŸ¥é“XYZå­—æ®µå¼‚å¸¸ï¼Œå› ä¸ºåœ¨Javaå¯¹è±¡ä¸­æ‰¾ä¸åˆ°è¯¥å­—æ®µã€‚</p><p>ä½†æ˜¯ï¼Œæœ‰æ—¶åº”è¯¥å…è®¸JSONä¸­çš„å­—æ®µå¤šäºç›¸åº”çš„Javaå¯¹è±¡ä¸­çš„å­—æ®µã€‚ ä¾‹å¦‚ï¼Œè¦ä»RESTæœåŠ¡è§£æJSONï¼Œè€Œè¯¥RESTæœåŠ¡åŒ…å«çš„æ•°æ®è¿œè¿œè¶…å‡ºæ‰€éœ€çš„ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨Jacksoné…ç½®å¿½ç•¥è¿™äº›é¢å¤–çš„å­—æ®µã€‚ ä»¥ä¸‹æ˜¯é…ç½®Jackson ObjectMapperå¿½ç•¥æœªçŸ¥å­—æ®µçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>
    <span class="token class-name">DeserializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_UNKNOWN_PROPERTIES</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_12ã€ä¸å…è®¸åŸºæœ¬ç±»å‹ä¸ºnull" tabindex="-1"><a class="header-anchor" href="#_12ã€ä¸å…è®¸åŸºæœ¬ç±»å‹ä¸ºnull" aria-hidden="true">#</a> 12ã€ä¸å…è®¸åŸºæœ¬ç±»å‹ä¸ºnull</h4><p>å¦‚æœJSONå­—ç¬¦ä¸²åŒ…å«å…¶å€¼è®¾ç½®ä¸ºnullçš„å­—æ®µï¼ˆå¯¹äºåœ¨ç›¸åº”çš„Javaå¯¹è±¡ä¸­æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆintï¼Œlongï¼Œfloatï¼Œdoubleç­‰ï¼‰çš„å­—æ®µï¼‰ï¼ŒJackson ObjectMapperé»˜è®¤ä¼šå¤„ç†åŸºæœ¬æ•°æ®ç±»å‹ä¸ºnullçš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥å¯ä»¥å°†Jackson ObjectMapperé»˜è®¤é…ç½®ä¸ºå¤±æ•ˆï¼Œè¿™æ ·åŸºæœ¬æ•°æ®ä¸ºnullå°±ä¼šè½¬æ¢å¤±è´¥ã€‚ ä¾‹å¦‚ä»¥ä¸‹Carç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> doors <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span>   <span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span>  <span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> setDoors <span class="token punctuation">(</span><span class="token keyword">int</span> doors<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>doors <span class="token operator">=</span> doors<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>doorså­—æ®µæ˜¯ä¸€ä¸ªintç±»å‹ï¼Œå®ƒæ˜¯Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚</p><p>ç°åœ¨ï¼Œå‡è®¾æœ‰ä¸€ä¸ªä¸Carå¯¹è±¡ç›¸å¯¹åº”çš„JSONå­—ç¬¦ä¸²ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span> <span class="token string">&quot;brand&quot;</span><span class="token operator">:</span><span class="token string">&quot;Toyota&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;doors&quot;</span><span class="token operator">:</span><span class="token keyword">null</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œdoorså­—æ®µå€¼ä¸ºnullã€‚ Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ä¸èƒ½ä¸ºnullå€¼ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒJackson ObjectMapperä¼šå¿½ç•¥åŸå§‹å­—æ®µçš„ç©ºå€¼ã€‚ ä½†æ˜¯ï¼Œå¯ä»¥å°†Jackson ObjectMapperé…ç½®è®¾ç½®ä¸ºå¤±è´¥ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">DeserializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_NULL_FOR_PRIMITIVES</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨FAIL_ON_NULL_FOR_PRIMITIVESé…ç½®å€¼è®¾ç½®ä¸ºtrueçš„æƒ…å†µä¸‹ï¼Œå°è¯•å°†ç©ºJSONå­—æ®µè§£æä¸ºåŸºæœ¬ç±»å‹Javaå­—æ®µæ—¶ä¼šé‡åˆ°å¼‚å¸¸ã€‚ è¿™æ˜¯ä¸€ä¸ªJava Jackson ObjectMapperç¤ºä¾‹ï¼Œè¯¥ç¤ºä¾‹å°†å¤±è´¥ï¼Œå› ä¸ºJSONå­—æ®µåŒ…å«åŸå§‹Javaå­—æ®µçš„ç©ºå€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		objectMapper<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">DeserializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_NULL_FOR_PRIMITIVES</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">String</span> carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot;:\&quot;Toyota\&quot;, \&quot;doors\&quot;:null }&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><p><img src="/assets/20200523174740369-dc572a2e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="_13ã€è‡ªå®šä¹‰ååºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#_13ã€è‡ªå®šä¹‰ååºåˆ—åŒ–" aria-hidden="true">#</a> 13ã€è‡ªå®šä¹‰ååºåˆ—åŒ–</h4><p>æœ‰æ—¶ï¼Œå¯èƒ½å¸Œæœ›ä»¥ä¸åŒäºJackson ObjectMapperç¼ºçœæ–¹å¼çš„æ–¹å¼å°†JSONå­—ç¬¦ä¸²è¯»å…¥Javaå¯¹è±¡ã€‚ å¯ä»¥å°†è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨æ·»åŠ åˆ°ObjectMapperï¼Œå¯ä»¥æŒ‰éœ€è¦æ‰§è¡Œååºåˆ—åŒ–ã€‚</p><p>è¿™æ˜¯åœ¨Jacksonçš„ObjectMapperä¸­æ³¨å†Œå’Œä½¿ç”¨è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨çš„æ–¹å¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Ford\&quot;, \&quot;doors\&quot; : 6 }&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">SimpleModule</span> <span class="token keyword">module</span> <span class="token operator">=</span>
		        <span class="token keyword">new</span> <span class="token class-name">SimpleModule</span><span class="token punctuation">(</span><span class="token string">&quot;CarDeserializer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Version</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">module</span><span class="token punctuation">.</span><span class="token function">addDeserializer</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CarDeserializer</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">ObjectMapper</span> mapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		mapper<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">Car</span> car <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨CarDeserializerç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarDeserializer</span> <span class="token keyword">extends</span> <span class="token class-name">StdDeserializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">CarDeserializer</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> vc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>vc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Car</span> <span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token class-name">JsonParser</span> parser<span class="token punctuation">,</span> <span class="token class-name">DeserializationContext</span> deserializer<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>parser<span class="token punctuation">.</span><span class="token function">isClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">JsonToken</span> jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">JsonToken</span><span class="token punctuation">.</span><span class="token constant">FIELD_NAME</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>jsonToken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">String</span> fieldName <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">getCurrentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

                jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span>parser<span class="token punctuation">.</span><span class="token function">getValueAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span>parser<span class="token punctuation">.</span><span class="token function">getValueAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> car<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="äºŒ-ã€å°†å¯¹è±¡å†™å…¥json" tabindex="-1"><a class="header-anchor" href="#äºŒ-ã€å°†å¯¹è±¡å†™å…¥json" aria-hidden="true">#</a> äºŒï¼‰ã€å°†å¯¹è±¡å†™å…¥JSON</h3><h4 id="_1ã€javaå¯¹è±¡-json" tabindex="-1"><a class="header-anchor" href="#_1ã€javaå¯¹è±¡-json" aria-hidden="true">#</a> 1ã€Javaå¯¹è±¡--&gt;JSON</h4><p>Jackson ObjectMapperä¹Ÿå¯ä»¥ç”¨äºä»å¯¹è±¡ç”ŸæˆJSONã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€è¿›è¡Œæ“ä½œï¼š</p><ul><li>writeValue()</li><li>writeValueAsString()</li><li>writeValueAsBytes()</li></ul><p>è¿™æ˜¯ä¸€ä¸ªä»Carå¯¹è±¡ç”ŸæˆJSONçš„ç¤ºä¾‹ï¼Œå’Œä¸Šé¢çš„å®ä¾‹ç›¸åï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">&quot;BMW&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		objectMapper<span class="token punctuation">.</span><span class="token function">writeValue</span><span class="token punctuation">(</span>
		    <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;data/output-2.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ç¤ºä¾‹é¦–å…ˆåˆ›å»ºä¸€ä¸ªObjectMapperï¼Œç„¶ååˆ›å»ºä¸€ä¸ªCarå®ä¾‹ï¼Œæœ€åè°ƒç”¨ObjectMapperçš„writeValue()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†Carå¯¹è±¡è½¬æ¢ä¸ºJSONå¹¶å°†å…¶å†™å…¥ç»™å®šçš„FileOutputStreamã€‚</p><p>ObjectMapperçš„writeValueAsString()å’ŒwriteValueAsBytes()éƒ½ä»ä¸€ä¸ªå¯¹è±¡ç”ŸæˆJSONï¼Œå¹¶å°†ç”Ÿæˆçš„JSONä½œä¸ºStringæˆ–å­—èŠ‚æ•°ç»„è¿”å›ã€‚ ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">&quot;å®é©¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">String</span> json <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdEAAAAzCAYAAADIODKmAAAGkElEQVR4nO3dbbKjKhSFYafVDIjpNEPoUTAZBrP7h+JXAGEHoybvU2XVrdvxyFFkBUTOIICIiLcyDH/kb7i6ILglb2UYhnGz/urSqHk7yPDnrxxV89rPfZvw9898nf/8cmPQ0B4O55cGd7a+aR7cNgJVCFGUaNrDQUTk379/bGxsbGxsbI0bPVEAAJQIUQAAlAhRAACUCFEAAJQIUQAAlAhRAACU6kI0eLHGlN+fCU7M9O/Ghel/xX2MuP0LV/Hzxv3Au1hBnDk4D7XnTV2EXsfx4qwT//UXrXDNvs2n6qDGapEHY+wP1Ds8zXGIrm6w8kuoXuz+3+cbgBDNN8iN502t43G8lWGw0rY2Q5DgvfjDzYq5RZ34oRD9WB3cWoJ6Ce/XotlN2/Mb1wNPchii3k6V1xz1Pko3YqLBJUQnjedNTXOckLk2XuxZjZm3+WXlNnWmIuRaP7/dmRDtXgdXdl/OsyG67LC0RSythRs5CNGWhiRxI843CiHaFKKl86amOI63Yl26x+icS/cknRl/XumiepsdmgvO5BtUQvQkn6qD0XJurTWVIboq50+0GXiKyhCtuZESjU4pKAnR/L+dcm7aj+Nt+3q63hox1ksoFDw4k+1NFI+5K+/YM6kN0YrPb3f+oRD9VB2MP9rMPcr434QonqpjiDba9RK8s9vhHeuzDft8swcvzi7PVYbBiE12gYIE7zaTo+JEBZfuDo1lsV7GYSSzKpvJli0ea/v5cZ9znueE+feva4QafrIzzeUN3oqrqCj53mYQZ0rHnOrjlLIh9nrzR6r8vOKavdS9Qn1S7qOr68tnN7+PKXz+La11MPZ6x+tAiOLpbhCiVqzZTlwq/cml2LDYXeiWJj6tJzCktpcbeA7RtrKlJmGdOilic7z+1yiE2slAcRi3rjHM9za92IPfw9vVMbw9bFAPP6+5Zj5f97LnQLGPpq4f/T7dHyc21sH4XDOWgxDF010foomeZ/Dx314bsHlywRTAy7f4MDfk+4ALzoqxTvxujDHkJk8Uy5abcBHP1fA6nBn8FMbP6YkWlSb/HCr0NoMTc9ZElmxZGq/Z+nWQzYjEqv7tw0qzj+jq+hxSuxMcpt5p/zk5DXUw3jurQrSF6IntEaBUDNGQqPTdrBqW1DBT7uaKjURySLX5OU7mpky8N/e6z65xLZ6rL3u+9kaIBm/FDEZssjdrp7CYJi/Z8Vqe1mAqrtlRox8S4abZZyxea11fvhScM3T7ju0wbtQWoqtz4kqPVIDPSYToMlMvfgM+dYp7LvAyDdx+OKj6cIlnosuWCdFk2dKNa7lchOgiiK9s4IszdTtov2atM4K1+9SUL/tLbXuvNwmbGJa5Ry3119nvHrHQK8W16kL0lPkInwvRzbAYIfq+TIiWZuTqDnPuMLU+REsN9/65nWafmvIV7FYYG+/jsyYW1ZQnfz8Roni6wnBu/rlLF58K0eKw8cFwLiEqEkJ6EpHZvic6Phfr8fuFOYw1r9i0+Mqe6P5He7eZ1WsuWKjgaGJf8QvtzjKc+7QbCd/q+olFhXcUS5MtatuC+QZOHid+q30/REvfqG+zDmkvrcO5oXKGr3er63H0usv7NNfsqBFP/UzNPuv9uuTeqYsnHB26V4gysQj3c4MQtdtZs2F8Zy93QzU3LMk1QMM0waXfcO7SSJllFmXi3b6vm50b3EkLgx+/7vI2zTVbL4judjNtbebLkmYf0YToOIxr3etiF8uM997n9L06yCsueLrrQzS7pQNH1bAUjmE69UTXZXvZrG9cLafSye+JZu17ot5OQdTxGMG1L0Q/hVVLY665ZuWeVfo1Es0+fet6x17t2pt1kBDF010XoqtVhPYrxZSWjVMNcb1MtFiOMf68PiEaexZm0ziGVbm/sCcayzEPvQZdrzSEzTUvLQ1YLFfzudBds+QKWAd/Iq51H21df1mtaDCHZdOjJ4rfdmGI4s6KKxUlJhbFLS5QoOnxxCF2Y/S9prNfi8GVCFHcT8e/4gJ04K2YN17HOHtGL65EiOJ+Ov49UeBiFWvp4qn4e6K4p8MQTU0Aog4D+Ij1Cky0P7ih4xAVeZmYQyUG8BHr14OM5bESbqcuRAEAwAtCFAAAJUIUAAAlQhQAACVCFAAAJUIUAAAlQhQAACVCFAAAJUIUAAAlQhQAACVCFAAAJUIUAAAlQhQAACVCFAAAJUIUAAAlQhQAACVCFAAAJUIUAAAlQhQAACVCFAAAJUIUAACl/y5RxqkLdFGYAAAAAElFTkSuQmCC" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="_2ã€è‡ªå®šä¹‰åºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#_2ã€è‡ªå®šä¹‰åºåˆ—åŒ–" aria-hidden="true">#</a> 2ã€è‡ªå®šä¹‰åºåˆ—åŒ–</h4><p>æœ‰æ—¶ï¼Œæƒ³è¦å°†Javaå¯¹è±¡åºåˆ—åŒ–ä¸ºJSONçš„æ–¹å¼ä¸ä½¿ç”¨Jacksonçš„é»˜è®¤æ–¹å¼ä¸åŒã€‚ ä¾‹å¦‚ï¼Œå¯èƒ½æƒ³è¦åœ¨JSONä¸­ä½¿ç”¨ä¸Javaå¯¹è±¡ä¸­ä¸åŒçš„å­—æ®µåç§°ï¼Œæˆ–è€…å¸Œæœ›å®Œå…¨çœç•¥æŸäº›å­—æ®µã€‚</p><p>Jacksonå¯ä»¥åœ¨ObjectMapperä¸Šè®¾ç½®è‡ªå®šä¹‰åºåˆ—åŒ–å™¨ã€‚ è¯¥åºåˆ—åŒ–å™¨å·²ä¸ºæŸä¸ªç±»æ³¨å†Œï¼Œç„¶ååœ¨æ¯æ¬¡è¦æ±‚ObjectMapperåºåˆ—åŒ–Carå¯¹è±¡æ—¶å°†è°ƒç”¨è¯¥åºåˆ—åŒ–å™¨ã€‚</p><p>è¿™æ˜¯ä¸ºCarç±»æ³¨å†Œè‡ªå®šä¹‰åºåˆ—åŒ–å™¨çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">CarSerializer</span> carSerializer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CarSerializer</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">SimpleModule</span> <span class="token keyword">module</span> <span class="token operator">=</span>
		        <span class="token keyword">new</span> <span class="token class-name">SimpleModule</span><span class="token punctuation">(</span><span class="token string">&quot;CarSerializer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Version</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">module</span><span class="token punctuation">.</span><span class="token function">addSerializer</span><span class="token punctuation">(</span><span class="token class-name">Car</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> carSerializer<span class="token punctuation">)</span><span class="token punctuation">;</span>

		objectMapper<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span><span class="token keyword">module</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token string">&quot;Mercedes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		car<span class="token punctuation">.</span><span class="token function">setDoors</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">String</span> carJson <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªå®šä¹‰åºåˆ—åŒ–å™¨CarSerializerç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CarSerializer</span> <span class="token keyword">extends</span> <span class="token class-name">StdSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token class-name">CarSerializer</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token class-name">Car</span> car<span class="token punctuation">,</span> <span class="token class-name">JsonGenerator</span> jsonGenerator<span class="token punctuation">,</span>
                          <span class="token class-name">SerializerProvider</span> serializerProvider<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeStartObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeStringField</span><span class="token punctuation">(</span><span class="token string">&quot;producer&quot;</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeNumberField</span><span class="token punctuation">(</span><span class="token string">&quot;doorCount&quot;</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span><span class="token function">getDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        jsonGenerator<span class="token punctuation">.</span><span class="token function">writeEndObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdwAAAAlCAYAAADoSViQAAAGaklEQVR4nO2da7KkIAyF3VazoGznsoRZRTaTxWR+KIoKCIjYreerompqrgjyyDEY6EHBa2EadCC+uxrgG2HS4fOncnc9TsI0ZD1H7nXPRPTvM+jn7/qn/zab49enR92GS+8Ovph+kwz8IBDcF9HRFsiffoaPfo3ZmevTpw0guG+FSYdvGvjgu2DSYRjG9EUeSSkQ3DTy95n7+dUv353sIQT3ZfgT7IftKABZQHBBit72cPj3758iISEhISEhXZvg4QIAAAAdgOACAAAAHYDgAgAAAB2A4AIAAAAdgOACAAAAHYDgAgAAAB0IC66wkjHp/Uli1Ux/N1am/3J5jNrthjZ3vbEv2Osmas1BO+S2W3UVWpXDaskqP77TEn32NHqNwRq8AzeMoReMO/Am9oLrTcb0hmBW2v59niwQ3LjxLmy3ahqWw6TDQFq2L1xUmJUPE6n5ijHxIsHtNgbXLKK+CP2+arSyPe/oD/AWdoLLNA10c+TVpCZtwDhDcCcK262amnIk0jesdJXhY4ofHbgaMxmCWHr9OjMEt/kY9Ni8yEcFd8mw2CIciQYewkZwS4xOYNLOkwqCWyS4qXarpqIcJiUb9kSttWEP1ZrxfqlOZYouD4o1ceMLwb2IXmPQsbQtkckUXK+er7AZ4A1EBDdn0gUMVEpUIbjxv13SNuXlMJWfJ8pk1BCrJCou1kS9lGSZm/qOHk+u4GZcv878IsHtNQbdrc3sqbp/Q3DBGzkhuIVsvA+2tF5iIo6KwGwYhNXS8h1oGIxS0LUSFbarwC8XhGHDbtZYF2Idl7KMVzcTrZsra339mOea708yP3+ewSq4szXF9RUmtRkDJe7FilqTKnMaj5Mii/Om4yVlXl/RZ7uxlxhPlXnqxvpy7ep5TOL6U5SOQedNj/0AwQVv5gbBJSWzDspK/QyYM0K0EehUUJcfnBFKu8k+C25Z3UIBZpcGfKzKa99HIrmBTm4pOc9wxr1YVjp4DiavDKZD43t4fU2fcXzsRdugIk/NWD96nuafPwvHoPsO6+oBwQVvpr/gBjxaYfe3vbGbAycmsV68A5mN/lYMxZIassqbdU6JBYYk6xYLJnFtNeyXVIUn4f4dDzdJKrDpkIQXK1bNVUE60boU9pm/hWa10uGNv62w1eTRurE+C9qmgWXyetvHGxWMQTd3vEqUCe6F9giAG1gJrgQmSDM8IxRa6opNRGdQgsu6xd+dIhM4sC9xn2djiJNt9bDvgScEV5jUDEYp6CXTJCxTYBaNfXmZca3osyOBkIAQ1uQZq1c61pcXiGuWj8+wXkp2lAmu1yY29VkHgN9g8CMW3Zv1pdsCYuIYMYbbJans4gLfcJcUEdxg3cKGOF0vCO6CKGeKQTJiuQHlfVYaGV2bJ6d+0Ydae8VfIkxOWGOfe/L7mTefeeDtgt8lLLiXxFr0E9zV0hwE9zwRwU1FJtcVc+1Seb3gpoz89jtjTZ6c+iXYnAw3zuOrgqZy6hOfTxBc8Ga8JeX4d6Im9BLc5NL1wZIyBFdVJBwgZdb7cMfveC2eT2bhrtmWVMIjPdztrdmuopvNDYdGHAUtJl9+NyxLyr82kQDYc9O2oD0xY1NqhObJHizHvS2fF9zUm/rXnEvbitIlZcmMdGbr9cfRFqHz1PTZkcEP3bMmj5+viUZeepDFUdGtBBdBU+BZ3LItaBU9LOOeyNjkKzZCwTNhZQreabekvBg0s0STBvZOPi5KWexFh8ofbxE6TU2f+Yfp203EMUVerGryaI3gjkvJZPcHjyyR/63b9NwYxLYg8GZu2xa0T2FxqjJCiTJMIw/Xr9suEReecpTJxftwo2w9XKZJtBqWIbb8RwwmYSsx/DV9lvbYwltvavK0HesNvWWfk2MQggveTD/B9U5/2p7wkzoasGqZbRdEspQx3q+N4DqPxawMqXj1fqCH6+oxL/9Knbcrsurz1PGPyXoVt0VdnwVPLjv42cLSPLVjfXfK1GAO61YPPFwAaukouOCbSZ4wFQiacskdFlHjSbllfmPqvbGrtxKBO4Hggmdx4teCAGgAk5oTW1iujmwGdwLBBc/ixO/hAnAzGWcrg18Fv4cLnsdOcEPBTRjvAIAu+Cdnwf6Ah7EXXNVd0BEGPACgC/6WKkP4tAUeRVhwAQAAANAUCC4AAADQAQguAAAA0AEILgAAANABCC4AAADQgf9GcnqAF3a49AAAAABJRU5ErkJggg==" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¸‰-ã€jackson-æ—¥æœŸè½¬åŒ–" tabindex="-1"><a class="header-anchor" href="#ä¸‰-ã€jackson-æ—¥æœŸè½¬åŒ–" aria-hidden="true">#</a> ä¸‰ï¼‰ã€Jackson æ—¥æœŸè½¬åŒ–</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJacksonä¼šå°†java.util.Dateå¯¹è±¡åºåˆ—åŒ–ä¸ºå…¶longå‹çš„å€¼ï¼Œè¯¥å€¼æ˜¯è‡ª1970å¹´1æœˆ1æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°ã€‚ä½†æ˜¯ï¼ŒJacksonè¿˜æ”¯æŒå°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ã€‚</p><h4 id="_1ã€date-long" tabindex="-1"><a class="header-anchor" href="#_1ã€date-long" aria-hidden="true">#</a> 1ã€Date--&gt;long</h4><p>é»˜è®¤çš„Jacksonæ—¥æœŸæ ¼å¼ï¼Œè¯¥æ ¼å¼å°†Dateåºåˆ—åŒ–ä¸ºè‡ª1970å¹´1æœˆ1æ—¥ä»¥æ¥çš„æ¯«ç§’æ•°ï¼ˆlongç±»å‹ï¼‰ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªåŒ…å«Dateå­—æ®µçš„Javaç±»ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">private</span> <span class="token class-name">String</span> type <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">,</span> <span class="token class-name">Date</span> date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDate</span><span class="token punctuation">(</span><span class="token class-name">Date</span> date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>date <span class="token operator">=</span> date<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±åƒä½¿ç”¨å…¶ä»–Javaå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–ä¸€æ ·ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">Transaction</span> transaction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">String</span> output <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>transaction<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š</p><p><img src="/assets/20200523182624125-ff9ee9da.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="_2ã€date-string" tabindex="-1"><a class="header-anchor" href="#_2ã€date-string" aria-hidden="true">#</a> 2ã€Date--&gt;String</h4><p>æ—¥æœŸçš„longåºåˆ—åŒ–æ ¼å¼ä¸ç¬¦åˆäººç±»çš„æ—¶é—´æŸ¥çœ‹æ ¼å¼ã€‚ å› æ­¤ï¼ŒJacksonä¹Ÿæ”¯æŒæ–‡æœ¬æ—¥æœŸæ ¼å¼ã€‚ å¯ä»¥é€šè¿‡åœ¨ObjectMapperä¸Šè®¾ç½®SimpleDateFormatæ¥æŒ‡å®šè¦ä½¿ç”¨çš„ç¡®åˆ‡Jacksonæ—¥æœŸæ ¼å¼ã€‚ è¿™æ˜¯åœ¨Jacksonçš„ObjectMapperä¸Šè®¾ç½®SimpleDateFormatçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">Transaction</span> transaction <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Transaction</span><span class="token punctuation">(</span><span class="token string">&quot;transfer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">SimpleDateFormat</span> dateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		objectMapper<span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span>dateFormat<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token class-name">String</span> output2 <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>transaction<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>output2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š</p><p><img src="/assets/20200523183034156-595dafc3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="å››-ã€jackson-json-æ ‘æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#å››-ã€jackson-json-æ ‘æ¨¡å‹" aria-hidden="true">#</a> å››ï¼‰ã€Jackson JSON æ ‘æ¨¡å‹</h3><p>Jacksonå…·æœ‰å†…ç½®çš„æ ‘æ¨¡å‹ï¼Œå¯ç”¨äºè¡¨ç¤ºJSONå¯¹è±¡ã€‚ å¦‚æœä¸çŸ¥é“æ¥æ”¶åˆ°çš„JSONçš„æ ¼å¼ï¼Œæˆ–è€…ç”±äºæŸç§åŸå› è€Œä¸èƒ½ï¼ˆæˆ–è€…åªæ˜¯ä¸æƒ³ï¼‰åˆ›å»ºä¸€ä¸ªç±»æ¥è¡¨ç¤ºå®ƒï¼Œé‚£ä¹ˆå°±è¦ç”¨åˆ°Jacksonçš„æ ‘æ¨¡å‹ã€‚ å¦‚æœéœ€è¦åœ¨ä½¿ç”¨æˆ–è½¬åŒ–JSONä¹‹å‰å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œä¹Ÿéœ€è¦è¢«ç”¨åˆ°Jacksonæ ‘æ¨¡å‹ã€‚ æ‰€æœ‰è¿™äº›æƒ…å†µåœ¨æ•°æ®æµåœºæ™¯ä¸­éƒ½å¾ˆå¸¸è§ã€‚</p><p>Jacksonæ ‘æ¨¡å‹ç”±JsonNodeç±»è¡¨ç¤ºã€‚ æ‚¨å¯ä»¥ä½¿ç”¨Jackson ObjectMapperå°†JSONè§£æä¸ºJsonNodeæ ‘æ¨¡å‹ï¼Œå°±åƒä½¿ç”¨æ‚¨è‡ªå·±çš„ç±»ä¸€æ ·ã€‚</p><p>ä»¥ä¸‹å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨Jackson ObjectMapperè¯»å†™JsonNodeå®ä¾‹ã€‚</p><h4 id="_1ã€jackson-tree-modelç®€å•ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#_1ã€jackson-tree-modelç®€å•ä¾‹å­" aria-hidden="true">#</a> 1ã€Jackson Tree Modelç®€å•ä¾‹å­</h4><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>		<span class="token class-name">String</span> carJson <span class="token operator">=</span>
		        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

		<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">try</span> <span class="token punctuation">{</span>

		    <span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> <span class="token class-name">JsonNode</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªéœ€å°†JsonNode.classä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ä¼ é€’ç»™readValue()æ–¹æ³•ï¼Œè€Œä¸æ˜¯æœ¬æ•™ç¨‹å‰é¢çš„ç¤ºä¾‹ä¸­ä½¿ç”¨çš„Car.classï¼Œå°±å¯ä»¥å°†JSONå­—ç¬¦ä¸²è§£æä¸ºJsonNodeå¯¹è±¡è€Œä¸æ˜¯Carå¯¹è±¡ã€‚ ã€‚</p><p>ObjectMapperç±»è¿˜å…·æœ‰ä¸€ä¸ªç‰¹æ®Šçš„readTree()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›JsonNodeã€‚ è¿™æ˜¯ä½¿ç”¨ObjectMapper readTree()æ–¹æ³•å°†JSONè§£æä¸ºJsonNodeçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2ã€jackson-jsonnodeç±»" tabindex="-1"><a class="header-anchor" href="#_2ã€jackson-jsonnodeç±»" aria-hidden="true">#</a> 2ã€Jackson JsonNodeç±»</h4><p>é€šè¿‡JsonNodeç±»ï¼Œå¯ä»¥ä»¥éå¸¸çµæ´»å’ŒåŠ¨æ€çš„æ–¹å¼å°†JSONä½œä¸ºJavaå¯¹è±¡å¯¼èˆªã€‚è¿™é‡Œäº†è§£ä¸€äº›å¦‚ä½•ä½¿ç”¨å®ƒçš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>å°†JSONè§£æä¸ºJsonNodeï¼ˆæˆ–JsonNodeå®ä¾‹æ ‘ï¼‰åï¼Œå°±å¯ä»¥æµè§ˆJsonNodeæ ‘æ¨¡å‹ã€‚ è¿™æ˜¯ä¸€ä¸ªJsonNodeç¤ºä¾‹ï¼Œæ˜¾ç¤ºäº†å¦‚ä½•è®¿é—®JSONå­—æ®µï¼Œæ•°ç»„å’ŒåµŒå¥—å¯¹è±¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5,&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;  \&quot;owners\&quot; : [\&quot;John\&quot;, \&quot;Jack\&quot;, \&quot;Jill\&quot;],&quot;</span> <span class="token operator">+</span>
        <span class="token string">&quot;  \&quot;nestedObject\&quot; : { \&quot;field\&quot; : \&quot;value\&quot; } }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">try</span> <span class="token punctuation">{</span>

    <span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>carJson<span class="token punctuation">,</span> <span class="token class-name">JsonNode</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JsonNode</span> brandNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> brand <span class="token operator">=</span> brandNode<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;brand = &quot;</span> <span class="token operator">+</span> brand<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JsonNode</span> doorsNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> doors <span class="token operator">=</span> doorsNode<span class="token punctuation">.</span><span class="token function">asInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doors = &quot;</span> <span class="token operator">+</span> doors<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JsonNode</span> array <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;owners&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> array<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> john <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;john  = &quot;</span> <span class="token operator">+</span> john<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JsonNode</span> child <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nestedObject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">JsonNode</span> childField <span class="token operator">=</span> child<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;field&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> field <span class="token operator">=</span> childField<span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;field = &quot;</span> <span class="token operator">+</span> field<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼ŒJSONå­—ç¬¦ä¸²ç°åœ¨åŒ…å«ä¸€ä¸ªç§°ä¸ºownersçš„æ•°ç»„å­—æ®µå’Œä¸€ä¸ªç§°ä¸ºnestedObjectçš„åµŒå¥—å¯¹è±¡å­—æ®µã€‚</p><p>æ— è®ºè®¿é—®çš„æ˜¯å­—æ®µï¼Œæ•°ç»„è¿˜æ˜¯åµŒå¥—å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨JsonNodeç±»çš„get()æ–¹æ³•ã€‚ é€šè¿‡å°†å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°æä¾›ç»™get()æ–¹æ³•ï¼Œå¯ä»¥è®¿é—®JsonNodeçš„å­—æ®µã€‚ å¦‚æœJsonNodeè¡¨ç¤ºæ•°ç»„ï¼Œåˆ™éœ€è¦å°†ç´¢å¼•ä¼ é€’ç»™get()æ–¹æ³•ã€‚ ç´¢å¼•æŒ‡å®šè¦è·å–çš„æ•°ç»„å…ƒç´ ã€‚</p><h4 id="_3ã€javaå¯¹è±¡-jsonnode" tabindex="-1"><a class="header-anchor" href="#_3ã€javaå¯¹è±¡-jsonnode" aria-hidden="true">#</a> 3ã€Javaå¯¹è±¡--&gt;JsonNode</h4><p>å¯ä»¥ä½¿ç”¨Jackson ObjectMapperå°†Javaå¯¹è±¡è½¬æ¢ä¸ºJsonNodeï¼Œè€ŒJsonNodeæ˜¯è½¬æ¢åçš„Javaå¯¹è±¡çš„JSONè¡¨ç¤ºå½¢å¼ã€‚ å¯ä»¥é€šè¿‡Jackson ObjectMapper valueToTree()æ–¹æ³•å°†Javaå¯¹è±¡è½¬æ¢ä¸ºJsonNodeã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ObjectMapper valueToTree()æ–¹æ³•å°†Javaå¯¹è±¡è½¬æ¢ä¸ºJsonNodeçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>brand <span class="token operator">=</span> <span class="token string">&quot;Cadillac&quot;</span><span class="token punctuation">;</span>
car<span class="token punctuation">.</span>doors <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> carJsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">valueToTree</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4ã€jsonnode-javaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_4ã€jsonnode-javaå¯¹è±¡" aria-hidden="true">#</a> 4ã€JsonNode--&gt;Javaå¯¹è±¡</h4><p>å¯ä»¥ä½¿ç”¨Jackson ObjectMapper treeToValue()æ–¹æ³•å°†JsonNodeè½¬æ¢ä¸ºJavaå¯¹è±¡ã€‚ è¿™ç±»ä¼¼äºä½¿ç”¨Jackson Jacksonçš„ObjectMapperå°†JSONå­—ç¬¦ä¸²ï¼ˆæˆ–å…¶ä»–æ¥æºï¼‰è§£æä¸ºJavaå¯¹è±¡ã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼ŒJSONæºæ˜¯JsonNodeã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Jackson ObjectMapper treeToValue()æ–¹æ³•å°†JsonNodeè½¬æ¢ä¸ºJavaå¯¹è±¡çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> carJson <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> carJsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Car</span> car <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">treeToValue</span><span class="token punctuation">(</span>carJsonNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ç¤ºä¾‹æœ‰ç‚¹â€œäººä¸ºâ€ï¼Œå› ä¸ºæˆ‘ä»¬é¦–å…ˆå°†JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJsonNodeï¼Œç„¶åå°†JsonNodeè½¬æ¢ä¸ºCarå¯¹è±¡ã€‚ æ˜¾ç„¶ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¯¹åŸå§‹JSONå­—ç¬¦ä¸²çš„å¼•ç”¨ï¼Œåˆ™æœ€å¥½å°†å…¶ç›´æ¥è½¬æ¢ä¸ºCarå¯¹è±¡ï¼Œè€Œæ— éœ€å…ˆå°†å…¶è½¬æ¢ä¸ºJsonNodeã€‚</p><h2 id="å››ã€jsonnode" tabindex="-1"><a class="header-anchor" href="#å››ã€jsonnode" aria-hidden="true">#</a> å››ã€JsonNode</h2><p>Jackson JsonNodeç±»com.fasterxml.jackson.databind.JsonNodeæ˜¯Jacksonçš„JSONæ ‘å½¢æ¨¡å‹ï¼ˆå¯¹è±¡å›¾æ¨¡å‹ï¼‰ã€‚ Jacksonå¯ä»¥å°†JSONè¯»å–åˆ°JsonNodeå®ä¾‹ä¸­ï¼Œç„¶åå°†JsonNodeå†™å…¥JSONã€‚ å› æ­¤ï¼Œè¿™ä¸€èŠ‚å°†è¯´æ˜å¦‚ä½•å°†JSONååºåˆ—åŒ–ä¸ºJsonNodeä»¥åŠå°†JsonNodeåºåˆ—åŒ–ä¸ºJSONã€‚ æ­¤Jackson JsonNodeæ•™ç¨‹è¿˜å°†è¯´æ˜å¦‚ä½•ä»å¤´å¼€å§‹æ„å»ºJsonNodeå¯¹è±¡å›¾ï¼Œå› æ­¤ä»¥åå¯ä»¥å°†å®ƒä»¬åºåˆ—åŒ–ä¸ºJSONã€‚</p><h3 id="_1ã€jsonnode-vs-objectnode" tabindex="-1"><a class="header-anchor" href="#_1ã€jsonnode-vs-objectnode" aria-hidden="true">#</a> 1ã€JsonNode vs ObjectNode</h3><p>Jackson JsonNodeç±»æ˜¯ä¸å¯å˜çš„ã€‚ è¿™æ„å‘³ç€ï¼Œå®é™…ä¸Šä¸èƒ½ç›´æ¥æ„å»ºJsonNodeå®ä¾‹çš„å¯¹è±¡å›¾ã€‚ è€Œæ˜¯åˆ›å»ºJsonNodeå­ç±»ObjectNodeçš„å¯¹è±¡å›¾ã€‚ ä½œä¸ºJsonNodeçš„å­ç±»ï¼Œå¯ä»¥åœ¨å¯ä»¥ä½¿ç”¨JsonNodeçš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ObjectNodeã€‚</p><h3 id="_2ã€json-jsonnode" tabindex="-1"><a class="header-anchor" href="#_2ã€json-jsonnode" aria-hidden="true">#</a> 2ã€JSON--&gt;JsonNode</h3><p>è¦ä½¿ç”¨Jacksonå°†JSONè¯»å–åˆ°JsonNodeä¸­ï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªJackson ObjectMapperå®ä¾‹ã€‚ åœ¨ObjectMapperå®ä¾‹ä¸Šï¼Œè°ƒç”¨readTree()å¹¶å°†JSONæºä½œä¸ºå‚æ•°ä¼ é€’ã€‚ è¿™æ˜¯å°†JSONååºåˆ—åŒ–ä¸ºJsonNodeçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;f1\&quot; : \&quot;v1\&quot; } &quot;</span><span class="token punctuation">;</span>

<span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€jsonnode-json" tabindex="-1"><a class="header-anchor" href="#_3ã€jsonnode-json" aria-hidden="true">#</a> 3ã€JsonNode--&gt;JSON</h3><p>è¦å°†Jacksonçš„JsonNodeå†™å…¥JSONï¼Œè¿˜éœ€è¦ä¸€ä¸ªJackson ObjectMapperå®ä¾‹ã€‚ åœ¨ObjectMapperä¸Šï¼Œè°ƒç”¨writeValueAsString()æ–¹æ³•æˆ–ä»»ä½•é€‚åˆéœ€è¦çš„å†™å…¥æ–¹æ³•ã€‚ è¿™æ˜¯å°†JsonNodeå†™å…¥JSONçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> <span class="token function">readJsonIntoJsonNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>jsonNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€è·å–jsonnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_4ã€è·å–jsonnodeå­—æ®µ" aria-hidden="true">#</a> 4ã€è·å–JsonNodeå­—æ®µ</h3><p>JsonNodeå¯ä»¥åƒJSONå¯¹è±¡ä¸€æ ·å…·æœ‰å­—æ®µã€‚ å‡è®¾å·²å°†ä»¥ä¸‹JSONè§£æä¸ºJsonNodeï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;field1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;field2&quot;</span> <span class="token operator">:</span> <span class="token number">999</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤JSONå¯¹è±¡å…·æœ‰ä¸¤ä¸ªåä¸ºfield1å’Œfield2çš„å­—æ®µã€‚ å¦‚æœæœ‰ä¸€ä¸ªè¡¨ç¤ºä¸Šè¿°JSONå¯¹è±¡çš„Jackson JsonNodeï¼Œåˆ™å¯ä»¥è¿™æ ·è·å¾—ä¸¤ä¸ªå­—æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment">//parse above JSON into a JsonNode</span>

<span class="token class-name">JsonNode</span> field1 <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;field1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JsonNode</span> field2 <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;field2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œå³ä½¿ä¸¤ä¸ªå­—æ®µéƒ½æ˜¯Stringå­—æ®µï¼Œget()æ–¹æ³•ä¹Ÿå§‹ç»ˆè¿”å›JsonNodeæ¥è¡¨ç¤ºè¯¥å­—æ®µã€‚</p><h3 id="_5ã€åœ¨è·¯å¾„ä¸­è·å–jsonnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_5ã€åœ¨è·¯å¾„ä¸­è·å–jsonnodeå­—æ®µ" aria-hidden="true">#</a> 5ã€åœ¨è·¯å¾„ä¸­è·å–JsonNodeå­—æ®µ</h3><p>Jackson JsonNodeæœ‰ä¸€ä¸ªç§°ä¸ºat()çš„ç‰¹æ®Šæ–¹æ³•ã€‚ at()æ–¹æ³•å¯ä»¥ä»JSONå›¾ä¸­ä»¥ç»™å®šJsonNodeä¸ºæ ¹çš„ä»»ä½•ä½ç½®è®¿é—®JSONå­—æ®µã€‚ å‡è®¾JSONç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;identification&quot;</span> <span class="token operator">:</span>  <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;James&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;ssn: &quot;</span><span class="token constant">ABC123552</span>&quot;
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœå°†æ­¤JSONè§£æä¸ºJsonNodeï¼Œåˆ™å¯ä»¥ä½¿ç”¨at()æ–¹æ³•è®¿é—®åç§°å­—æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JsonNode</span> nameNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token string">&quot;/identification/name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„ä¼ é€’ç»™at()æ–¹æ³•çš„å‚æ•°ï¼šå­—ç¬¦ä¸²/ identification / nameã€‚ è¿™æ˜¯ä¸€ä¸ªJSONè·¯å¾„è¡¨è¾¾å¼ã€‚ æ­¤è·¯å¾„è¡¨è¾¾å¼æŒ‡å®šä»æ ¹JsonNodeåˆ°æ‚¨è¦è®¿é—®å…¶å€¼çš„å­—æ®µçš„å®Œæ•´è·¯å¾„ã€‚ è¿™ç±»ä¼¼äºä»æ–‡ä»¶ç³»ç»Ÿæ ¹ç›®å½•åˆ°Unixæ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„è·¯å¾„ã€‚</p><p>è¯·æ³¨æ„ï¼ŒJSONè·¯å¾„è¡¨è¾¾å¼å¿…é¡»ä»¥æ–œæ å­—ç¬¦ï¼ˆ/å­—ç¬¦ï¼‰å¼€å¤´ã€‚</p><p>at()æ–¹æ³•è¿”å›ä¸€ä¸ªJsonNodeï¼Œå®ƒè¡¨ç¤ºè¯·æ±‚çš„JSONå­—æ®µã€‚ è¦è·å–è¯¥å­—æ®µçš„å®é™…å€¼ï¼Œéœ€è¦è°ƒç”¨ä¸‹ä¸€éƒ¨åˆ†ä»‹ç»çš„æ–¹æ³•ä¹‹ä¸€ã€‚ å¦‚æœæ²¡æœ‰èŠ‚ç‚¹ä¸ç»™å®šçš„è·¯å¾„è¡¨è¾¾å¼åŒ¹é…ï¼Œåˆ™å°†è¿”å›nullã€‚</p><h3 id="_6ã€è½¬æ¢jsonnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_6ã€è½¬æ¢jsonnodeå­—æ®µ" aria-hidden="true">#</a> 6ã€è½¬æ¢JsonNodeå­—æ®µ</h3><p>Jackson JsonNodeç±»åŒ…å«ä¸€ç»„å¯ä»¥å°†å­—æ®µå€¼è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹çš„æ–¹æ³•ã€‚ ä¾‹å¦‚ï¼Œå°†Stringå­—æ®µå€¼è½¬æ¢ä¸ºlongæˆ–ç›¸åã€‚ è¿™æ˜¯å°†JsonNodeå­—æ®µè½¬æ¢ä¸ºä¸€äº›æ›´å¸¸è§çš„æ•°æ®ç±»å‹çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> f2Str <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> f2Dbl <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span>    f2Int <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span>   f2Lng <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨é»˜è®¤å€¼è½¬æ¢:</strong> å¦‚æœJsonNodeä¸­çš„å­—æ®µå¯ä»¥ä¸ºnullï¼Œåˆ™åœ¨å°è¯•è½¬æ¢å®ƒæ—¶å¯ä»¥æä¾›é»˜è®¤å€¼ã€‚ è¿™æ˜¯ä½¿ç”¨é»˜è®¤å€¼è°ƒç”¨è½¬æ¢æ–¹æ³•çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;f1\&quot;:\&quot;Hello\&quot;, \&quot;f2\&quot;:null }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> f2Value <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asText</span><span class="token punctuation">(</span><span class="token string">&quot;Default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ç¤ºä¾‹çš„JSONå­—ç¬¦ä¸²ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå£°æ˜äº†f2å­—æ®µï¼Œä½†å°†å…¶è®¾ç½®ä¸ºnullã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨jsonNode.getï¼ˆâ€œ f2â€ï¼‰ã€‚asTextï¼ˆâ€œ Defaultâ€ï¼‰å°†è¿”å›é»˜è®¤å€¼ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ä¸ºå­—ç¬¦ä¸²Defaultã€‚</p><p>asDouble()ï¼ŒasInt()å’ŒasLong()æ–¹æ³•è¿˜å¯ä»¥é‡‡ç”¨é»˜è®¤å‚æ•°å€¼ï¼Œå¦‚æœå°è¯•ä»ä¸­è·å–å€¼çš„å­—æ®µä¸ºnullï¼Œåˆ™å°†è¿”å›é»˜è®¤å‚æ•°å€¼ã€‚</p><p>è¯·æ³¨æ„ï¼Œå¦‚æœè¯¥å­—æ®µåœ¨JSONä¸­æœªæ˜¾å¼è®¾ç½®ä¸ºnullï¼Œä½†åœ¨JSONä¸­ä¸¢å¤±ï¼Œåˆ™è°ƒç”¨jsonNode.getï¼ˆâ€œ fieldNameâ€ï¼‰å°†è¿”å›Java nullå€¼ï¼Œæ‚¨æ— æ³•åœ¨è¯¥Javaå€¼ä¸Šè°ƒç”¨asInt() ï¼ŒasDouble()ï¼ŒasLong()æˆ–asText()ã€‚ å¦‚æœå°è¯•è¿™æ ·åšï¼Œå°†ä¼šå¯¼è‡´NullPointerExceptionã€‚ è¿™æ˜¯è¯´æ˜è¿™ç§æƒ…å†µçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> json <span class="token operator">=</span> <span class="token string">&quot;{ \&quot;f1\&quot;:\&quot;Hello\&quot; }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> jsonNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readTree</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> f2FieldNode <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;f2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7ã€åˆ›å»ºä¸€ä¸ªobjectnode" tabindex="-1"><a class="header-anchor" href="#_7ã€åˆ›å»ºä¸€ä¸ªobjectnode" aria-hidden="true">#</a> 7ã€åˆ›å»ºä¸€ä¸ªObjectNode</h3><p>å¦‚å‰æ‰€è¿°ï¼ŒJsonNodeç±»æ˜¯ä¸å¯å˜çš„ã€‚ è¦åˆ›å»ºJsonNodeå¯¹è±¡å›¾ï¼Œå¿…é¡»èƒ½å¤Ÿæ›´æ”¹å›¾ä¸­çš„JsonNodeå®ä¾‹ï¼Œä¾‹å¦‚ è®¾ç½®å±æ€§å€¼å’Œå­JsonNodeå®ä¾‹ç­‰ã€‚ç”±äºæ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤æ— æ³•ç›´æ¥ä½¿ç”¨JsonNodeæ¥å®ç°ã€‚</p><p>è€Œæ˜¯åˆ›å»ºä¸€ä¸ªObjectNodeå®ä¾‹ï¼Œè¯¥å®ä¾‹æ˜¯JsonNodeçš„å­ç±»ã€‚ è¿™æ˜¯ä¸€ä¸ªé€šè¿‡Jackson ObjectMapper createObjectNode()æ–¹æ³•åˆ›å»ºObjectNodeçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">ObjectNode</span> objectNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">createObjectNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8ã€set-objectnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_8ã€set-objectnodeå­—æ®µ" aria-hidden="true">#</a> 8ã€Set ObjectNodeå­—æ®µ</h3><p>è¦åœ¨Jackson ObjectNodeä¸Šè®¾ç½®å­—æ®µï¼Œå¯ä»¥è°ƒç”¨å…¶set()æ–¹æ³•ï¼Œå¹¶å°†å­—æ®µåç§°Stringå’ŒJsonNodeä½œä¸ºå‚æ•°ä¼ é€’ã€‚ è¿™æ˜¯åœ¨Jacksonçš„ObjectNodeä¸Šè®¾ç½®å­—æ®µçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ObjectNode</span> parentNode <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">createObjectNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonNode</span> childNode <span class="token operator">=</span> <span class="token function">readJsonIntoJsonNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

parentNode<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;child1&quot;</span><span class="token punctuation">,</span> childNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9ã€put-objectnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_9ã€put-objectnodeå­—æ®µ" aria-hidden="true">#</a> 9ã€Put ObjectNodeå­—æ®µ</h3><p>ObjectNodeç±»è¿˜å…·æœ‰ä¸€ç»„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ä¸ºå­—æ®µput(è®¾ç½®)å€¼ã€‚ è¿™æ¯”å°è¯•å°†åŸå§‹å€¼è½¬æ¢ä¸ºJsonNodeå¹¶ä½¿ç”¨set()è¿›è¡Œè®¾ç½®è¦å®¹æ˜“å¾—å¤šã€‚ ä»¥ä¸‹æ˜¯ä½¿ç”¨put()æ–¹æ³•ä¸ºObjectNodeä¸Šçš„å­—æ®µè®¾ç½®å­—ç¬¦ä¸²å€¼çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>objectNode<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;field1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
objectNode<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;field2&quot;</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
objectNode<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;field3&quot;</span><span class="token punctuation">,</span> <span class="token number">999.999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10ã€åˆ é™¤å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_10ã€åˆ é™¤å­—æ®µ" aria-hidden="true">#</a> 10ã€åˆ é™¤å­—æ®µ</h3><p>ObjectNodeç±»å…·æœ‰ä¸€ä¸ªç§°ä¸ºremove()çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ç”¨äºä»ObjectNodeä¸­åˆ é™¤å­—æ®µã€‚ è¿™æ˜¯ä¸€ä¸ªé€šè¿‡å…¶remove()æ–¹æ³•ä»Jackson ObjectNodeåˆ é™¤å­—æ®µçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>objectNode<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;fieldName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_11ã€å¾ªç¯jsonnodeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_11ã€å¾ªç¯jsonnodeå­—æ®µ" aria-hidden="true">#</a> 11ã€å¾ªç¯JsonNodeå­—æ®µ</h3><p>JsonNodeç±»å…·æœ‰ä¸€ä¸ªåä¸ºfieldNames()çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªIteratorï¼Œå¯ä»¥è¿­ä»£JsonNodeçš„æ‰€æœ‰å­—æ®µåç§°ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—æ®µåç§°æ¥è·å–å­—æ®µå€¼ã€‚ è¿™æ˜¯ä¸€ä¸ªè¿­ä»£Jackson JsonNodeçš„æ‰€æœ‰å­—æ®µåç§°å’Œå€¼çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldNames <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">fieldNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span>fieldNames<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> fieldName <span class="token operator">=</span> fieldNames<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">JsonNode</span> field <span class="token operator">=</span> jsonNode<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº”ã€jsonparser" tabindex="-1"><a class="header-anchor" href="#äº”ã€jsonparser" aria-hidden="true">#</a> äº”ã€JsonParser</h2><p>Jackson JsonParserç±»æ˜¯ä¸€ä¸ªåº•å±‚ä¸€äº›çš„JSONè§£æå™¨ã€‚ å®ƒç±»ä¼¼äºXMLçš„Java StAXè§£æå™¨ï¼Œå·®åˆ«æ˜¯JsonParserè§£æJSONè€Œä¸è§£æXMLã€‚</p><p>Jackson JsonParserçš„è¿è¡Œå±‚çº§ä½äºJackson ObjectMapperã€‚ è¿™ä½¿å¾—JsonParseræ¯”ObjectMapperæ›´å¿«ï¼Œä½†ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚</p><h3 id="_1ã€åˆ›å»ºä¸€ä¸ªjsonparser" tabindex="-1"><a class="header-anchor" href="#_1ã€åˆ›å»ºä¸€ä¸ªjsonparser" aria-hidden="true">#</a> 1ã€åˆ›å»ºä¸€ä¸ªJsonParser</h3><p>ä¸ºäº†åˆ›å»ºJackson JsonParserï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªJsonFactoryã€‚ JsonFactoryç”¨äºåˆ›å»ºJsonParserå®ä¾‹ã€‚ JsonFactoryç±»åŒ…å«å‡ ä¸ªcreateParser()æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½ä½¿ç”¨ä¸åŒçš„JSONæºä½œä¸ºå‚æ•°ã€‚</p><p>è¿™æ˜¯åˆ›å»ºä¸€ä¸ªJsonParseræ¥ä»å­—ç¬¦ä¸²ä¸­è§£æJSONçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JsonParser</span>  parser  <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createParser</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€ç”¨jsonparserè½¬åŒ–json" tabindex="-1"><a class="header-anchor" href="#_2ã€ç”¨jsonparserè½¬åŒ–json" aria-hidden="true">#</a> 2ã€ç”¨JsonParserè½¬åŒ–JSON</h3><p>ä¸€æ—¦åˆ›å»ºäº†Jackson JsonParserï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒæ¥è§£æJSONã€‚ JsonParserçš„å·¥ä½œæ–¹å¼æ˜¯å°†JSONåˆ†è§£ä¸ºä¸€ç³»åˆ—ä»¤ç‰Œï¼Œå¯ä»¥ä¸€ä¸ªä¸€ä¸ªåœ°è¿­ä»£ä»¤ç‰Œã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªJsonParserç¤ºä¾‹ï¼Œå®ƒç®€å•åœ°å¾ªç¯éå†æ‰€æœ‰æ ‡è®°å¹¶å°†å®ƒä»¬è¾“å‡ºåˆ°System.outã€‚ è¿™æ˜¯ä¸€ä¸ªå®é™…ä¸Šå¾ˆå°‘ç”¨ç¤ºä¾‹ï¼Œåªæ˜¯å±•ç¤ºäº†å°†JSONåˆ†è§£æˆçš„ä»¤ç‰Œï¼Œä»¥åŠå¦‚ä½•éå†ä»¤ç‰Œçš„åŸºç¡€çŸ¥è¯†ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>tring carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JsonParser</span>  parser  <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createParser</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>parser<span class="token punctuation">.</span><span class="token function">isClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">JsonToken</span> jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;jsonToken = &quot;</span> <span class="token operator">+</span> jsonToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦JsonParserçš„isClosed()æ–¹æ³•è¿”å›falseï¼Œé‚£ä¹ˆJSONæºä¸­ä»ç„¶ä¼šæœ‰æ›´å¤šçš„ä»¤ç‰Œã€‚</p><p>å¯ä»¥ä½¿ç”¨JsonParserçš„nextToken()è·å¾—ä¸€ä¸ªJsonTokenã€‚ æ‚¨å¯ä»¥ä½¿ç”¨æ­¤JsonTokenå®ä¾‹æ£€æŸ¥ç»™å®šçš„ä»¤ç‰Œã€‚ ä»¤ç‰Œç±»å‹ç”±JsonTokenç±»ä¸­çš„ä¸€ç»„å¸¸é‡è¡¨ç¤ºã€‚ è¿™äº›å¸¸é‡æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">START_OBJECT</span>
<span class="token constant">END_OBJECT</span>
<span class="token constant">START_ARRAY</span>
<span class="token constant">END_ARRAY</span>
<span class="token constant">FIELD_NAME</span>
<span class="token constant">VALUE_EMBEDDED_OBJECT</span>
<span class="token constant">VALUE_FALSE</span>
<span class="token constant">VALUE_TRUE</span>
<span class="token constant">VALUE_NULL</span>
<span class="token constant">VALUE_STRING</span>
<span class="token constant">VALUE_NUMBER_INT</span>
<span class="token constant">VALUE_NUMBER_FLOAT</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥ä½¿ç”¨è¿™äº›å¸¸é‡æ¥æ‰¾å‡ºå½“å‰JsonTokenæ˜¯ä»€ä¹ˆç±»å‹çš„ä»¤ç‰Œã€‚ å¯ä»¥é€šè¿‡è¿™äº›å¸¸é‡çš„equals()æ–¹æ³•è¿›è¡Œæ“ä½œã€‚ è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> carJson <span class="token operator">=</span>
        <span class="token string">&quot;{ \&quot;brand\&quot; : \&quot;Mercedes\&quot;, \&quot;doors\&quot; : 5 }&quot;</span><span class="token punctuation">;</span>

<span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">JsonParser</span>  parser  <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createParser</span><span class="token punctuation">(</span>carJson<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Car</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>parser<span class="token punctuation">.</span><span class="token function">isClosed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">JsonToken</span> jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">JsonToken</span><span class="token punctuation">.</span><span class="token constant">FIELD_NAME</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>jsonToken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> fieldName <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">getCurrentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        jsonToken <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            car<span class="token punctuation">.</span>brand <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">getValueAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            car<span class="token punctuation">.</span>doors <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">getValueAsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car.brand = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;car.doors = &quot;</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>doors<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæŒ‡å‘çš„æ ‡è®°æ˜¯å­—æ®µåç§°ï¼Œåˆ™JsonParserçš„getCurrentName()æ–¹æ³•å°†è¿”å›å½“å‰å­—æ®µåç§°ã€‚</p><p>å¦‚æœæŒ‡å‘çš„ä»¤ç‰Œæ˜¯å­—ç¬¦ä¸²å­—æ®µå€¼ï¼Œåˆ™getValueAsString()è¿”å›å½“å‰ä»¤ç‰Œå€¼ä½œä¸ºå­—ç¬¦ä¸²ã€‚ å¦‚æœæŒ‡å‘çš„ä»¤ç‰Œæ˜¯æ•´æ•°å­—æ®µå€¼ï¼Œåˆ™getValueAsInt()è¿”å›å½“å‰ä»¤ç‰Œå€¼ä½œä¸ºintå€¼ã€‚ JsonParserå…·æœ‰æ›´å¤šç±»ä¼¼çš„æ–¹æ³•æ¥è·å–ä¸åŒç±»å‹çš„currenä»¤ç‰Œå€¼ï¼ˆä¾‹å¦‚booleanï¼Œshortï¼Œlongï¼Œfloatï¼Œdoubleç­‰ï¼‰ã€‚</p><h2 id="å…­ã€jsongenerator" tabindex="-1"><a class="header-anchor" href="#å…­ã€jsongenerator" aria-hidden="true">#</a> å…­ã€JsonGenerator</h2><p>Jackson JsonGeneratorç”¨äºä»Javaå¯¹è±¡ï¼ˆæˆ–ä»£ç ä»ä¸­ç”ŸæˆJSONçš„ä»»ä½•æ•°æ®ç»“æ„ï¼‰ç”ŸæˆJSONã€‚</p><h3 id="_1ã€åˆ›å»ºä¸€ä¸ªjsongenerator" tabindex="-1"><a class="header-anchor" href="#_1ã€åˆ›å»ºä¸€ä¸ªjsongenerator" aria-hidden="true">#</a> 1ã€åˆ›å»ºä¸€ä¸ªJsonGenerator</h3><p>ä¸ºäº†åˆ›å»ºJackson JsonGeneratorï¼Œå¿…é¡»é¦–å…ˆåˆ›å»ºJsonFactoryå®ä¾‹ã€‚ è¿™æ˜¯åˆ›å»ºJsonFactoryçš„æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸€æ—¦åˆ›å»ºäº†JsonFactoryï¼Œå°±å¯ä»¥ä½¿ç”¨JsonFactoryçš„createGenerator()æ–¹æ³•åˆ›å»ºJsonGeneratorã€‚ è¿™æ˜¯åˆ›å»ºJsonGeneratorçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonGenerator</span> generator <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createGenerator</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/output.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">JsonEncoding</span><span class="token punctuation">.</span><span class="token constant">UTF8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>createGenerator()æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”Ÿæˆçš„JSONçš„ç›®æ ‡ã€‚ åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå‚æ•°æ˜¯Fileå¯¹è±¡ã€‚ è¿™æ„å‘³ç€ç”Ÿæˆçš„JSONå°†è¢«å†™å…¥ç»™å®šæ–‡ä»¶ã€‚ createGenerator()æ–¹æ³•å·²é‡è½½ï¼Œå› æ­¤è¿˜æœ‰å…¶ä»–ç‰ˆæœ¬çš„createGenerator()æ–¹æ³•é‡‡ç”¨ä¾‹å¦‚OutputStreamç­‰ï¼Œæä¾›äº†æœ‰å…³å°†ç”Ÿæˆçš„JSONå†™å…¥ä½•å¤„çš„ä¸åŒé€‰é¡¹ã€‚</p><p>createGenerator()æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”ŸæˆJSONæ—¶ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚ ä¸Šé¢çš„ç¤ºä¾‹ä½¿ç”¨UTF-8ã€‚</p><h3 id="_2ã€ä½¿ç”¨jsongeneratorç”Ÿæˆjson" tabindex="-1"><a class="header-anchor" href="#_2ã€ä½¿ç”¨jsongeneratorç”Ÿæˆjson" aria-hidden="true">#</a> 2ã€ä½¿ç”¨JsonGeneratorç”ŸæˆJSON</h3><p>ä¸€æ—¦åˆ›å»ºäº†JsonGeneratorï¼Œå°±å¯ä»¥å¼€å§‹ç”ŸæˆJSONã€‚ JsonGeneratoråŒ…å«ä¸€ç»„write ...()æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥ç¼–å†™JSONå¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†ã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Jackson JsonGeneratorç”ŸæˆJSONçš„ç®€å•ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">JsonFactory</span> factory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JsonFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">JsonGenerator</span> generator <span class="token operator">=</span> factory<span class="token punctuation">.</span><span class="token function">createGenerator</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/output.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">JsonEncoding</span><span class="token punctuation">.</span><span class="token constant">UTF8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

generator<span class="token punctuation">.</span><span class="token function">writeStartObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
generator<span class="token punctuation">.</span><span class="token function">writeStringField</span><span class="token punctuation">(</span><span class="token string">&quot;brand&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Mercedes&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
generator<span class="token punctuation">.</span><span class="token function">writeNumberField</span><span class="token punctuation">(</span><span class="token string">&quot;doors&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
generator<span class="token punctuation">.</span><span class="token function">writeEndObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

generator<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤ç¤ºä¾‹é¦–å…ˆè°ƒç”¨writeStartObject()ï¼Œå°†{å†™å…¥è¾“å‡ºã€‚ ç„¶åï¼Œè¯¥ç¤ºä¾‹è°ƒç”¨writeStringField()ï¼Œå°†å“ç‰Œå­—æ®µåç§°+å€¼å†™å…¥è¾“å‡ºã€‚ ä¹‹åï¼Œå°†è°ƒç”¨writeNumberField()æ–¹æ³•ï¼Œæ­¤æ–¹æ³•ä¼šå°†Doorså­—æ®µåç§°+å€¼å†™å…¥è¾“å‡ºã€‚ æœ€åï¼Œè°ƒç”¨writeEndObject()ï¼Œå°†}å†™å…¥è¾“å‡ºã€‚</p><p>JsonGeneratorè¿˜å¯ä»¥ä½¿ç”¨è®¸å¤šå…¶ä»–å†™å…¥æ–¹æ³•ã€‚ è¿™ä¸ªä¾‹å­åªæ˜¾ç¤ºäº†å…¶ä¸­ä¸€äº›ã€‚</p><h3 id="_3ã€å…³é—­jsongenerator" tabindex="-1"><a class="header-anchor" href="#_3ã€å…³é—­jsongenerator" aria-hidden="true">#</a> 3ã€å…³é—­JsonGenerator</h3><p>å®Œæˆç”ŸæˆJSONåï¼Œåº”å…³é—­JsonGeneratorã€‚ æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨å…¶close()æ–¹æ³•æ¥å®ç°ã€‚ è¿™æ˜¯å…³é—­JsonGeneratorçš„æ ·å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>generator<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ä¸ƒã€jacksonæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€jacksonæ³¨è§£" aria-hidden="true">#</a> ä¸ƒã€Jacksonæ³¨è§£</h2><p>Jackson JSONå·¥å…·åŒ…åŒ…å«ä¸€ç»„Javaæ³¨è§£ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›æ³¨è§£æ¥è®¾ç½®å°†JSONè¯»å…¥å¯¹è±¡çš„æ–¹å¼æˆ–ä»å¯¹è±¡ç”Ÿæˆä»€ä¹ˆJSONçš„æ–¹å¼ã€‚ æ­¤Jacksonæ³¨è§£æ•™ç¨‹ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Jacksonçš„æ³¨è§£ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æ³¨è§£ï¼š</p><table><thead><tr><th>æ³¨è§£</th><th>ç”¨æ³•</th></tr></thead><tbody><tr><td>@JsonProperty</td><td>ç”¨äºå±æ€§ï¼ŒæŠŠå±æ€§çš„åç§°åºåˆ—åŒ–æ—¶è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªåç§°ã€‚ç¤ºä¾‹ï¼š @JsonProperty(&quot;birth_ d ate&quot;) private Date birthDate;</td></tr><tr><td>@JsonFormat</td><td>ç”¨äºå±æ€§æˆ–è€…æ–¹æ³•ï¼ŒæŠŠå±æ€§çš„æ ¼å¼åºåˆ—åŒ–æ—¶è½¬æ¢æˆæŒ‡å®šçš„æ ¼å¼ã€‚ç¤ºä¾‹ï¼š @JsonFormat(timezone = &quot;GMT+8&quot;, pattern = &quot;yyyy-MM-dd HH:mm&quot;) public Date getBirthDate()</td></tr><tr><td>@JsonPropertyOrder</td><td>ç”¨äºç±»ï¼Œ æŒ‡å®šå±æ€§åœ¨åºåˆ—åŒ–æ—¶ json ä¸­çš„é¡ºåº ï¼Œ ç¤ºä¾‹ï¼š @JsonPropertyOrder({ &quot;birth_Date&quot;, &quot;name&quot; }) public class Person</td></tr><tr><td>@JsonCreator</td><td>ç”¨äºæ„é€ æ–¹æ³•ï¼Œå’Œ @JsonProperty é…åˆä½¿ç”¨ï¼Œé€‚ç”¨æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•ã€‚ ç¤ºä¾‹ï¼š @JsonCreator public Person(@JsonProperty(&quot;name&quot;)String name) {â€¦}</td></tr><tr><td>@JsonAnySetter</td><td>ç”¨äºå±æ€§æˆ–è€…æ–¹æ³•ï¼Œè®¾ç½®æœªååºåˆ—åŒ–çš„å±æ€§åå’Œå€¼ä½œä¸ºé”®å€¼å­˜å‚¨åˆ° map ä¸­ @JsonAnySetter public void set(String key, Object value) { map.put(key, value); }</td></tr><tr><td>@JsonAnyGetter</td><td>ç”¨äºæ–¹æ³• ï¼Œè·å–æ‰€æœ‰æœªåºåˆ—åŒ–çš„å±æ€§ public Map&lt;String, Object&gt; any() { return map; }</td></tr></tbody></table><p>ä¸‹é¢æ˜¯ä¸€äº›æ³¨è§£çš„è¯¦ç»†è¯´æ˜ã€‚</p><h3 id="ä¸€-ã€read-writeæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#ä¸€-ã€read-writeæ³¨è§£" aria-hidden="true">#</a> ä¸€ï¼‰ã€Read + Writeæ³¨è§£</h3><p>JacksonåŒ…å«ä¸€ç»„æ³¨è§£ï¼Œè¿™äº›æ³¨è§£ä¼šå½±å“ä»JSONè¯»å–Javaå¯¹è±¡ä»¥åŠå°†Javaå¯¹è±¡å†™å…¥JSONã€‚ æˆ‘å°†è¿™äº›æ³¨è§£ç§°ä¸ºâ€œè¯»+å†™æ³¨è§£â€ã€‚ ä»¥ä¸‹å„èŠ‚å°†æ›´è¯¦ç»†åœ°ä»‹ç»Jacksonçš„è¯»å†™æ³¨è§£ã€‚</p><h4 id="_1ã€-jsonignore" tabindex="-1"><a class="header-anchor" href="#_1ã€-jsonignore" aria-hidden="true">#</a> 1ã€@JsonIgnore</h4><p>Jacksonæ³¨è§£@JsonIgnoreç”¨äºå‘Šè¯‰Jacksonå¿½ç•¥Javaå¯¹è±¡çš„æŸä¸ªå±æ€§ï¼ˆå­—æ®µï¼‰ã€‚ åœ¨å°†JSONè¯»å–åˆ°Javaå¯¹è±¡ä¸­ä»¥åŠå°†Javaå¯¹è±¡å†™å…¥JSONæ—¶ï¼Œéƒ½å°†å¿½ç•¥è¯¥å±æ€§ã€‚</p><p>è¿™æ˜¯ä½¿ç”¨@JsonIgnoreæ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonIgnore</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonIgnore</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@JsonIgnore</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span>  personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ç±»ä¸­ï¼Œä¸ä¼šä»JSONè¯»å–æˆ–å†™å…¥JSONå±æ€§personIdã€‚</p><h4 id="_2ã€-jsonignoreproperties" tabindex="-1"><a class="header-anchor" href="#_2ã€-jsonignoreproperties" aria-hidden="true">#</a> 2ã€@JsonIgnoreProperties</h4><p>@JsonIgnoreProperties Jacksonæ³¨è§£ç”¨äºæŒ‡å®šè¦å¿½ç•¥çš„ç±»çš„å±æ€§åˆ—è¡¨ã€‚ @JsonIgnorePropertiesæ³¨è§£æ”¾ç½®åœ¨ç±»å£°æ˜ä¸Šæ–¹ï¼Œè€Œä¸æ˜¯è¦å¿½ç•¥çš„å„ä¸ªå±æ€§ï¼ˆå­—æ®µï¼‰ä¸Šæ–¹ã€‚</p><p>è¿™æ˜¯å¦‚ä½•ä½¿ç”¨@JsonIgnorePropertiesæ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonIgnoreProperties</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@JsonIgnoreProperties</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;firstName&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lastName&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonIgnoreProperties</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span>  firstName <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span>  lastName  <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå±æ€§firstNameå’ŒlastNameéƒ½å°†è¢«å¿½ç•¥ï¼Œå› ä¸ºå®ƒä»¬çš„åç§°åœ¨ç±»å£°æ˜ä¸Šæ–¹çš„@JsonIgnorePropertiesæ³¨è§£å£°æ˜å†…åˆ—å‡ºã€‚</p><h4 id="_3ã€-jsonignoretype" tabindex="-1"><a class="header-anchor" href="#_3ã€-jsonignoretype" aria-hidden="true">#</a> 3ã€@JsonIgnoreType</h4><p>@JsonIgnoreType Jacksonæ³¨è§£ç”¨äºå°†æ•´ä¸ªç±»å‹ï¼ˆç±»ï¼‰æ ‡è®°ä¸ºåœ¨ä½¿ç”¨è¯¥ç±»å‹çš„ä»»ä½•åœ°æ–¹éƒ½å°†è¢«å¿½ç•¥ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨@JsonIgnoreTypeæ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonIgnoreType</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonIgnoreType</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@JsonIgnoreType</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> streetName  <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> houseNumber <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> zipCode     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> city        <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">String</span> country     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>    personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span>  name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Address</span> address <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰Addresså®ä¾‹å°†è¢«å¿½ç•¥ã€‚</p><h4 id="_4ã€-jsonautodetect" tabindex="-1"><a class="header-anchor" href="#_4ã€-jsonautodetect" aria-hidden="true">#</a> 4ã€@JsonAutoDetect</h4><p>Jacksonæ³¨è§£@JsonAutoDetectç”¨äºå‘Šè¯‰Jacksonåœ¨è¯»å†™å¯¹è±¡æ—¶åŒ…æ‹¬épublicä¿®é¥°çš„å±æ€§ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ç±»ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨@JsonAutoDetectæ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonAutoDetect</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@JsonAutoDetect</span><span class="token punctuation">(</span>fieldVisibility <span class="token operator">=</span> <span class="token class-name">JsonAutoDetect<span class="token punctuation">.</span>Visibility</span><span class="token punctuation">.</span><span class="token constant">ANY</span> <span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonAutoDetect</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>  personId <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JsonAutoDetect.Visibilityç±»åŒ…å«ä¸Javaä¸­çš„å¯è§æ€§çº§åˆ«åŒ¹é…çš„å¸¸é‡ï¼Œè¡¨ç¤ºANYï¼ŒDEFAULTï¼ŒNON_PRIVATEï¼ŒNONEï¼ŒPROTECTED_AND_PRIVATEå’ŒPUBLIC_ONLYã€‚</p><h3 id="äºŒ-ã€readæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#äºŒ-ã€readæ³¨è§£" aria-hidden="true">#</a> äºŒï¼‰ã€Readæ³¨è§£</h3><p>JacksonåŒ…å«ä¸€ç»„æ³¨è§£ï¼Œè¿™äº›æ³¨è§£ä»…å½±å“Jacksonå°†JSONè§£æä¸ºå¯¹è±¡çš„æ–¹å¼-æ„å‘³ç€å®ƒä»¬å½±å“Jacksonå¯¹JSONçš„è¯»å–ã€‚ æˆ‘ç§°è¿™äº›ä¸ºâ€œè¯»æ³¨è§£â€ã€‚ ä»¥ä¸‹å„èŠ‚ä»‹ç»äº†Jacksonçš„è¯»æ³¨è§£ã€‚</p><h4 id="_1ã€-jsonsetter" tabindex="-1"><a class="header-anchor" href="#_1ã€-jsonsetter" aria-hidden="true">#</a> 1ã€@JsonSetter</h4><p>Jacksonæ³¨è§£@JsonSetterç”¨äºå‘Šè¯‰Jacksonï¼Œå½“å°†JSONè¯»å…¥å¯¹è±¡æ—¶ï¼Œåº”å°†æ­¤setteræ–¹æ³•çš„åç§°ä¸JSONæ•°æ®ä¸­çš„å±æ€§åç§°åŒ¹é…ã€‚ å¦‚æœJavaç±»å†…éƒ¨ä½¿ç”¨çš„å±æ€§åç§°ä¸JSONæ–‡ä»¶ä¸­ä½¿ç”¨çš„å±æ€§åç§°ä¸åŒï¼Œè¿™ä¸ªæ³¨è§£å°±å¾ˆæœ‰ç”¨äº†ã€‚</p><p>ä»¥ä¸‹Personç±»ç”¨personIdåç§°å¯¹åº”JSONä¸­åä¸ºidçš„å­—æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getPersonId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPersonId</span><span class="token punctuation">(</span><span class="token keyword">long</span> personId<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId <span class="token operator">=</span> personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯åœ¨æ­¤JSONå¯¹è±¡ä¸­ï¼Œä½¿ç”¨åç§°idä»£æ›¿personIdï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;id&quot;</span>   <span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jacksonæ— æ³•å°†idå±æ€§ä»JSONå¯¹è±¡æ˜ å°„åˆ°Javaç±»çš„personIdå­—æ®µã€‚</p><p>@JsonSetteræ³¨è§£æŒ‡ç¤ºJacksonä¸ºç»™å®šçš„JSONå­—æ®µä½¿ç”¨setteræ–¹æ³•ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åœ¨setPersonId()æ–¹æ³•ä¸Šæ–¹æ·»åŠ @JsonSetteræ³¨è§£ã€‚</p><p>è¿™æ˜¯æ·»åŠ @JsonSetteræ³¨è§£çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getPersonId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@JsonSetter</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPersonId</span><span class="token punctuation">(</span><span class="token keyword">long</span> personId<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId <span class="token operator">=</span> personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@JsonSetteræ³¨è§£ä¸­æŒ‡å®šçš„å€¼æ˜¯è¦ä¸æ­¤setteræ–¹æ³•åŒ¹é…çš„JSONå­—æ®µçš„åç§°ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåç§°ä¸ºidï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬è¦æ˜ å°„åˆ°setPersonId()setteræ–¹æ³•çš„JSONå¯¹è±¡ä¸­å­—æ®µçš„åç§°ã€‚</p><h4 id="_2ã€-jsonanysetter" tabindex="-1"><a class="header-anchor" href="#_2ã€-jsonanysetter" aria-hidden="true">#</a> 2ã€@JsonAnySetter</h4><p>Jacksonæ³¨è§£@JsonAnySetterè¡¨ç¤ºJacksonä¸ºJSONå¯¹è±¡ä¸­æ‰€æœ‰æ— æ³•è¯†åˆ«çš„å­—æ®µè°ƒç”¨ç›¸åŒçš„setteræ–¹æ³•ã€‚ â€œæ— æ³•è¯†åˆ«â€æ˜¯æŒ‡å°šæœªæ˜ å°„åˆ°Javaå¯¹è±¡ä¸­çš„å±æ€§æˆ–è®¾ç½®æ–¹æ³•çš„æ‰€æœ‰å­—æ®µã€‚</p><p>çœ‹ä¸€ä¸‹è¿™ä¸ªBagç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bag</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> fieldName<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> fieldName<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæŸ¥çœ‹æ­¤JSONå¯¹è±¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;id&quot;</span>   <span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jacksonæ— æ³•ç›´æ¥å°†æ­¤JSONå¯¹è±¡çš„idå’Œnameå±æ€§æ˜ å°„åˆ°Bagç±»ï¼Œå› ä¸ºBagç±»ä¸åŒ…å«ä»»ä½•å…¬å…±å­—æ®µæˆ–setteræ–¹æ³•ã€‚</p><p>å¯ä»¥é€šè¿‡æ·»åŠ @JsonAnySetteræ³¨è§£æ¥å‘Šè¯‰Jacksonä¸ºæ‰€æœ‰æ— æ³•è¯†åˆ«çš„å­—æ®µè°ƒç”¨set()æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bag</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonAnySetter</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">String</span> fieldName<span class="token punctuation">,</span> <span class="token class-name">Object</span> value<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> fieldName<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼ŒJacksonå°†ä½¿ç”¨JSONå¯¹è±¡ä¸­æ‰€æœ‰æ— æ³•è¯†åˆ«çš„å­—æ®µçš„åç§°å’Œå€¼è°ƒç”¨set()æ–¹æ³•ã€‚</p><p>è¯·è®°ä½ï¼Œè¿™ä»…å¯¹æ— æ³•è¯†åˆ«çš„å­—æ®µæœ‰æ•ˆã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å‘Bag Javaç±»æ·»åŠ äº†å…¬å…±åç§°å±æ€§æˆ–setNameï¼ˆStringï¼‰æ–¹æ³•ï¼Œåˆ™JSONå¯¹è±¡ä¸­çš„åç§°å­—æ®µå°†æ”¹ä¸ºæ˜ å°„åˆ°è¯¥å±æ€§/è®¾ç½®å™¨ã€‚</p><h4 id="_3ã€-jsoncreator" tabindex="-1"><a class="header-anchor" href="#_3ã€-jsoncreator" aria-hidden="true">#</a> 3ã€@JsonCreator</h4><p>Jacksonæ³¨è§£@JsonCreatorç”¨äºå‘Šè¯‰Jacksonè¯¥Javaå¯¹è±¡å…·æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆâ€œåˆ›å»ºè€…â€ï¼‰ï¼Œè¯¥æ„é€ å‡½æ•°å¯ä»¥å°†JSONå¯¹è±¡çš„å­—æ®µä¸Javaå¯¹è±¡çš„å­—æ®µè¿›è¡ŒåŒ¹é…ã€‚</p><p>@JsonCreatoræ³¨è§£åœ¨æ— æ³•ä½¿ç”¨@JsonSetteræ³¨è§£çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼Œä¸å¯å˜å¯¹è±¡æ²¡æœ‰ä»»ä½•è®¾ç½®æ–¹æ³•ï¼Œå› æ­¤å®ƒä»¬éœ€è¦å°†å…¶åˆå§‹å€¼æ³¨å…¥åˆ°æ„é€ å‡½æ•°ä¸­ã€‚</p><p>ä»¥è¿™ä¸ªPersonImmutableç±»ä¸ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonImmutable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>   id   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonImmutable</span><span class="token punctuation">(</span><span class="token keyword">long</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦å‘Šè¯‰Jacksonåº”è¯¥è°ƒç”¨PersonImmutableçš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æ„é€ å‡½æ•°ä¸­æ·»åŠ @JsonCreatoræ³¨è§£ã€‚ ä½†æ˜¯ï¼Œä»…å‡­è¿™ä¸€ç‚¹è¿˜ä¸å¤Ÿã€‚ æˆ‘ä»¬è¿˜å¿…é¡»æ³¨è§£æ„é€ å‡½æ•°çš„å‚æ•°ï¼Œä»¥å‘Šè¯‰Jacksonå°†JSONå¯¹è±¡ä¸­çš„å“ªäº›å­—æ®µä¼ é€’ç»™å“ªäº›æ„é€ å‡½æ•°å‚æ•°ã€‚</p><p>æ·»åŠ äº†@JsonCreatorå’Œ@JsonPropertyæ³¨è§£çš„PersonImmutableç±»çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonImmutable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>   id   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonCreator</span>
    <span class="token keyword">public</span> <span class="token class-name">PersonImmutable</span><span class="token punctuation">(</span>
            <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>  <span class="token keyword">long</span> id<span class="token punctuation">,</span>
            <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name  <span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œæ„é€ å‡½æ•°ä¸Šæ–¹çš„æ³¨è§£ä»¥åŠæ„é€ å‡½æ•°å‚æ•°ä¹‹å‰çš„æ³¨è§£ã€‚ ç°åœ¨ï¼ŒJacksonèƒ½å¤Ÿä»æ­¤JSONå¯¹è±¡åˆ›å»ºPersonImmutableï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;id&quot;</span>   <span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;John&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4ã€-jacksoninject" tabindex="-1"><a class="header-anchor" href="#_4ã€-jacksoninject" aria-hidden="true">#</a> 4ã€@JacksonInject</h4><p>Jacksonæ³¨è§£@JacksonInjectç”¨äºå°†å€¼æ³¨å…¥åˆ°è§£æçš„å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯ä»JSONä¸­è¯»å–è¿™äº›å€¼ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æ­£åœ¨ä»å„ç§ä¸åŒçš„æºä¸‹è½½Person JSONå¯¹è±¡ï¼Œå¹¶ä¸”æƒ³çŸ¥é“ç»™å®šPersonå¯¹è±¡æ¥è‡ªå“ªä¸ªæºã€‚ æºæœ¬èº«å¯èƒ½ä¸åŒ…å«è¯¥ä¿¡æ¯ï¼Œä½†æ˜¯å¯ä»¥è®©Jacksonå°†å…¶æ³¨å…¥åˆ°æ ¹æ®JSONå¯¹è±¡åˆ›å»ºçš„Javaå¯¹è±¡ä¸­ã€‚</p><p>è¦å°†Javaç±»ä¸­çš„å­—æ®µæ ‡è®°ä¸ºéœ€è¦ç”±Jacksonæ³¨å…¥å…¶å€¼çš„å­—æ®µï¼Œè¯·åœ¨è¯¥å­—æ®µä¸Šæ–¹æ·»åŠ @JacksonInjectæ³¨è§£ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹PersonInjectç±»ï¼Œåœ¨å±æ€§ä¸Šæ–¹æ·»åŠ äº†@JacksonInjectæ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonInject</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   id   <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JacksonInject</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> source <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†è®©Jacksonå°†å€¼æ³¨å…¥å±æ€§ï¼Œéœ€è¦åœ¨åˆ›å»ºJackson ObjectMapperæ—¶åšä¸€äº›é¢å¤–çš„å·¥ä½œã€‚</p><p>è¿™æ˜¯è®©Jacksonå°†å€¼æ³¨å…¥Javaå¯¹è±¡çš„è¿‡ç¨‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">InjectableValues</span> inject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InjectableValues<span class="token punctuation">.</span>Std</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addValue</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;jenkov.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PersonInject</span> personInject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reader</span><span class="token punctuation">(</span>inject<span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">forType</span><span class="token punctuation">(</span><span class="token class-name">PersonInject</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/person.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œå¦‚ä½•åœ¨InjectableValues addValue()æ–¹æ³•ä¸­è®¾ç½®è¦æ³¨å…¥åˆ°sourceå±æ€§ä¸­çš„å€¼ã€‚ è¿˜è¦æ³¨æ„ï¼Œè¯¥å€¼ä»…ç»‘å®šåˆ°å­—ç¬¦ä¸²ç±»å‹-è€Œä¸ç»‘å®šåˆ°ä»»ä½•ç‰¹å®šçš„å­—æ®µåç§°ã€‚ @JacksonInjectæ³¨è§£æŒ‡å®šå°†å€¼æ³¨å…¥åˆ°å“ªä¸ªå­—æ®µã€‚</p><p>å¦‚æœè¦ä»å¤šä¸ªæºä¸‹è½½äººå‘˜JSONå¯¹è±¡ï¼Œå¹¶ä¸ºæ¯ä¸ªæºæ³¨å…¥ä¸åŒçš„æºå€¼ï¼Œåˆ™å¿…é¡»ä¸ºæ¯ä¸ªæºé‡å¤ä»¥ä¸Šä»£ç ã€‚</p><h4 id="_5ã€-jsondeserialize" tabindex="-1"><a class="header-anchor" href="#_5ã€-jsondeserialize" aria-hidden="true">#</a> 5ã€@JsonDeserialize</h4><p>Jacksonæ³¨è§£@JsonDeserializeç”¨äºä¸ºJavaå¯¹è±¡ä¸­ç»™å®šçš„å±æ€§æŒ‡å®šè‡ªå®šä¹‰ååºåˆ—åŒ–å™¨ç±»ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æƒ³ä¼˜åŒ–å¸ƒå°”å€¼falseå’Œtrueçš„åœ¨çº¿æ ¼å¼ï¼Œä½¿å…¶åˆ†åˆ«ä¸º0å’Œ1ã€‚</p><p>é¦–å…ˆï¼Œéœ€è¦å°†@JsonDeserializeæ³¨è§£æ·»åŠ åˆ°è¦ä¸ºå…¶ä½¿ç”¨è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨çš„å­—æ®µã€‚ è¿™æ˜¯å°†@JsonDeserializeæ³¨è§£æ·»åŠ åˆ°å­—æ®µçš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonDeserialize</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>    id      <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span>  name    <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonDeserialize</span><span class="token punctuation">(</span>using <span class="token operator">=</span> <span class="token class-name">OptimizedBooleanDeserializer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶æ¬¡ï¼Œè¿™æ˜¯@JsonDeserializeæ³¨è§£ä¸­å¼•ç”¨çš„OptimizedBooleanDeserializerç±»çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OptimizedBooleanDeserializer</span>
    <span class="token keyword">extends</span> <span class="token class-name">JsonDeserializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">deserialize</span><span class="token punctuation">(</span><span class="token class-name">JsonParser</span> jsonParser<span class="token punctuation">,</span>
            <span class="token class-name">DeserializationContext</span> deserializationContext<span class="token punctuation">)</span> <span class="token keyword">throws</span>
        <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> text <span class="token operator">=</span> jsonParser<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼ŒOptimizedBooleanDeserializerç±»ä½¿ç”¨é€šç”¨ç±»å‹Booleanæ‰©å±•äº†JsonDeserializerã€‚ è¿™æ ·åšä¼šä½¿deserialize()æ–¹æ³•è¿”å›ä¸€ä¸ªå¸ƒå°”å¯¹è±¡ã€‚ å¦‚æœè¦ååºåˆ—åŒ–å…¶ä»–ç±»å‹ï¼ˆä¾‹å¦‚java.util.Dateï¼‰ï¼Œåˆ™å¿…é¡»åœ¨æ³›å‹æ‹¬å·å†…æŒ‡å®šè¯¥ç±»å‹ã€‚</p><p>å¯ä»¥é€šè¿‡è°ƒç”¨jsonParserå‚æ•°çš„getText()æ–¹æ³•æ¥è·å–è¦ååºåˆ—åŒ–çš„å­—æ®µçš„å€¼ã€‚ ç„¶åï¼Œå¯ä»¥å°†è¯¥æ–‡æœ¬ååºåˆ—åŒ–ä¸ºä»»ä½•å€¼ï¼Œç„¶åè¾“å…¥ååºåˆ—åŒ–ç¨‹åºæ‰€é’ˆå¯¹çš„ç±»å‹ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­ä¸ºå¸ƒå°”å€¼ï¼‰ã€‚</p><p>æœ€åï¼Œéœ€è¦æŸ¥çœ‹ä½¿ç”¨è‡ªå®šä¹‰ååºåˆ—åŒ–å™¨å’Œ@JsonDeserializeræ³¨è§£ååºåˆ—åŒ–å¯¹è±¡çš„æ ¼å¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">PersonDeserialize</span> person <span class="token operator">=</span> objectMapper
        <span class="token punctuation">.</span><span class="token function">reader</span><span class="token punctuation">(</span><span class="token class-name">PersonDeserialize</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;data/person-optimized-boolean.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å¦‚ä½•ä½¿ç”¨ObjectMapperçš„reader()æ–¹æ³•ä¸ºPersonDeserializeç±»åˆ›å»ºä¸€ä¸ªé˜…è¯»å™¨ï¼Œç„¶ååœ¨è¯¥æ–¹æ³•è¿”å›çš„å¯¹è±¡ä¸Šè°ƒç”¨readValue()ã€‚</p><h3 id="ä¸‰-ã€writeæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#ä¸‰-ã€writeæ³¨è§£" aria-hidden="true">#</a> ä¸‰ï¼‰ã€Writeæ³¨è§£</h3><p>Jacksonè¿˜åŒ…å«ä¸€ç»„æ³¨è§£ï¼Œè¿™äº›æ³¨è§£å¯ä»¥å½±å“Jacksonå°†Javaå¯¹è±¡åºåˆ—åŒ–ï¼ˆå†™å…¥ï¼‰åˆ°JSONçš„æ–¹å¼ã€‚ ä»¥ä¸‹å„èŠ‚å°†ä»‹ç»è¿™äº›å†™ï¼ˆåºåˆ—åŒ–ï¼‰æ³¨è§£ä¸­çš„æ¯ä¸€ä¸ªã€‚</p><h4 id="_1ã€-jsoninclude" tabindex="-1"><a class="header-anchor" href="#_1ã€-jsoninclude" aria-hidden="true">#</a> 1ã€@JsonInclude</h4><p>Jacksonæ³¨è§£@JsonIncludeå‘Šè¯‰Jacksonä»…åœ¨æŸäº›æƒ…å†µä¸‹åŒ…æ‹¬å±æ€§ã€‚ ä¾‹å¦‚ï¼Œä»…å½“å±æ€§ä¸ºénullï¼Œéç©ºæˆ–å…·æœ‰éé»˜è®¤å€¼æ—¶ï¼Œæ‰åº”åŒ…æ‹¬è¯¥å±æ€§ã€‚ è¿™æ˜¯æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨@JsonIncludeæ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">JsonInclude</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@JsonInclude</span><span class="token punctuation">(</span><span class="token class-name">JsonInclude<span class="token punctuation">.</span>Include</span><span class="token punctuation">.</span><span class="token constant">NON_EMPTY</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonInclude</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>  personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸ºè¯¥ç¤ºä¾‹è®¾ç½®çš„å€¼æ˜¯éç©ºçš„ï¼Œåˆ™æ­¤ç¤ºä¾‹å°†ä»…åŒ…æ‹¬nameå±æ€§ï¼Œè¿™æ„å‘³ç€ä¸ä¸ºnullä¸”ä¸æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚</p><p>@JsonIncludeæ³¨è§£çš„ä¸€ä¸ªæ›´é€šä¿—çš„åç§°åº”è¯¥æ˜¯@JsonIncludeOnlyWhenï¼Œä½†æ˜¯å†™èµ·æ¥ä¼šæ›´é•¿ã€‚</p><h4 id="_2ã€-jsongetter" tabindex="-1"><a class="header-anchor" href="#_2ã€-jsongetter" aria-hidden="true">#</a> 2ã€@JsonGetter</h4><p>@JsonGetter Jacksonæ³¨è§£ç”¨äºå‘Šè¯‰Jacksonï¼Œåº”è¯¥é€šè¿‡è°ƒç”¨getteræ–¹æ³•è€Œä¸æ˜¯é€šè¿‡ç›´æ¥å­—æ®µè®¿é—®æ¥è·å–æŸä¸ªå­—æ®µå€¼ã€‚ å¦‚æœæ‚¨çš„Javaç±»ä½¿ç”¨jQueryæ ·å¼çš„getterå’Œsetteråç§°ï¼Œåˆ™@JsonGetteræ³¨è§£å¾ˆæœ‰ç”¨ã€‚</p><p>ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æ‹¥æœ‰æ–¹æ³•personId()å’ŒpersonIdï¼ˆlong idï¼‰ï¼Œè€Œä¸æ˜¯getPersonId()å’ŒsetPersonId()ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªåä¸ºPersonGetterçš„ç¤ºä¾‹ç±»ï¼Œå®ƒæ˜¾ç¤ºäº†@JsonGetteræ³¨è§£çš„ç”¨æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonGetter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span>  personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonGetter</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">personId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@JsonSetter</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">personId</span><span class="token punctuation">(</span><span class="token keyword">long</span> personId<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId <span class="token operator">=</span> personId<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æ‚¨æ‰€è§ï¼ŒpersonId()æ–¹æ³•å¸¦æœ‰@JsonGetteræ³¨è§£ã€‚ @JsonGetteræ³¨è§£ä¸Šè®¾ç½®çš„å€¼æ˜¯JSONå¯¹è±¡ä¸­åº”ä½¿ç”¨çš„åç§°ã€‚ å› æ­¤ï¼Œç”¨äºJSONå¯¹è±¡ä¸­personIdçš„åç§°æ˜¯idã€‚ ç”Ÿæˆçš„JSONå¯¹è±¡å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿˜è¦æ³¨æ„ï¼ŒpersonIdï¼ˆlong personIdï¼‰æ–¹æ³•ä½¿ç”¨@JsonSetteræ³¨è§£è¿›è¡Œæ³¨è§£ï¼Œä»¥ä½¿Jacksonè¯†åˆ«ä¸ºä¸JSONå¯¹è±¡ä¸­çš„idå±æ€§åŒ¹é…çš„è®¾ç½®æ–¹æ³•ã€‚ ä»JSONè¯»å–Javaå¯¹è±¡æ—¶ä½¿ç”¨@JsonSetteræ³¨è§£-å°†Javaå¯¹è±¡å†™å…¥JSONæ—¶ä¸ä½¿ç”¨ã€‚ ä¸ºäº†å®Œæ•´èµ·è§ï¼Œä»…åŒ…å«@JsonSetteræ³¨è§£ã€‚</p><h4 id="_3ã€-jsonanygetter" tabindex="-1"><a class="header-anchor" href="#_3ã€-jsonanygetter" aria-hidden="true">#</a> 3ã€@JsonAnyGetter</h4><p>@JsonAnyGetter Jacksonæ³¨è§£ä½¿æ‚¨å¯ä»¥å°†Mapç”¨ä½œè¦åºåˆ—åŒ–ä¸ºJSONçš„å±æ€§çš„å®¹å™¨ã€‚ è¿™æ˜¯åœ¨Javaç±»ä¸­ä½¿ç”¨@JsonAnyGetteræ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonAnyGetter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonAnyGetter</span>
    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> properties<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“çœ‹åˆ°@JsonAnyGetteræ³¨è§£æ—¶ï¼ŒJacksonå°†ä»@JsonAnyGetteræ³¨è§£çš„æ–¹æ³•ä¸­è·å–è¿”å›çš„Mapï¼Œå¹¶å°†è¯¥Mapä¸­çš„æ¯ä¸ªé”®å€¼å¯¹éƒ½è§†ä¸ºä¸€ä¸ªå±æ€§ã€‚ æ¢å¥è¯è¯´ï¼ŒMapä¸­çš„æ‰€æœ‰é”®å€¼å¯¹éƒ½å°†ä½œä¸ºPersonAnyGetterå¯¹è±¡çš„ä¸€éƒ¨åˆ†åºåˆ—åŒ–ä¸ºJSONã€‚</p><h4 id="_4ã€-jsonpropertyorder" tabindex="-1"><a class="header-anchor" href="#_4ã€-jsonpropertyorder" aria-hidden="true">#</a> 4ã€@JsonPropertyOrder</h4><p>@JsonPropertyOrder Jacksonæ³¨è§£å¯ç”¨äºæŒ‡å®šå°†Javaå¯¹è±¡çš„å­—æ®µåºåˆ—åŒ–ä¸ºJSONçš„é¡ºåºã€‚ è¿™æ˜¯æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨@JsonPropertyOrderæ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@JsonPropertyOrder</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;personId&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonPropertyOrder</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>  personId  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šå¸¸ï¼ŒJacksonä¼šæŒ‰ç…§åœ¨ç±»ä¸­æ‰¾åˆ°çš„é¡ºåºåºåˆ—åŒ–PersonPropertyOrderä¸­çš„å±æ€§ã€‚ ä½†æ˜¯ï¼Œ@JsonPropertyOrderæ³¨è§£æŒ‡å®šäº†ä¸åŒçš„é¡ºåºï¼Œåœ¨åºåˆ—åŒ–çš„JSONè¾“å‡ºä¸­ï¼Œnameå±æ€§å°†é¦–å…ˆå‡ºç°ï¼ŒpersonIdå±æ€§å°†éšåå‡ºç°ã€‚</p><h4 id="_5ã€-jsonrawvalue" tabindex="-1"><a class="header-anchor" href="#_5ã€-jsonrawvalue" aria-hidden="true">#</a> 5ã€@JsonRawValue</h4><p>@JsonRawValue Jacksonæ³¨è§£å‘Šè¯‰Jacksonè¯¥å±æ€§å€¼åº”ç›´æ¥å†™å…¥JSONè¾“å‡ºã€‚ å¦‚æœè¯¥å±æ€§æ˜¯å­—ç¬¦ä¸²ï¼ŒJacksoné€šå¸¸ä¼šå°†å€¼æ‹¬åœ¨å¼•å·ä¸­ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨@JsonRawValueå±æ€§è¿›è¡Œæ³¨è§£ï¼ŒJacksonå°†ä¸ä¼šè¿™æ ·åšã€‚</p><p>ä¸ºäº†æ›´æ¸…æ¥š@JsonRawValueçš„ä½œç”¨ï¼Œçœ‹çœ‹æ²¡æœ‰ä½¿ç”¨@JsonRawValueçš„æ­¤ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonRawValue</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> address  <span class="token operator">=</span> <span class="token string">&quot;$#&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jacksonä¼šå°†å…¶åºåˆ—åŒ–ä¸ºä»¥ä¸‹JSONå­—ç¬¦ä¸²ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;personId&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;$#&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†@JsonRawValueæ·»åŠ åˆ°addresså±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonRawValue</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonRawValue</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> address  <span class="token operator">=</span> <span class="token string">&quot;$#&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œå½“å¯¹åœ°å€å±æ€§è¿›è¡Œåºåˆ—åŒ–æ—¶ï¼Œæ°å…‹é€Šå°†çœç•¥å¼•å·ã€‚ å› æ­¤ï¼Œåºåˆ—åŒ–çš„JSONå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;personId&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;address&quot;</span><span class="token operator">:</span>$#<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“ç„¶å®ƒæ˜¯æ— æ•ˆçš„JSONï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼Ÿ</p><p>å¦‚æœaddresså±æ€§åŒ…å«ä¸€ä¸ªJSONå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯¥JSONå­—ç¬¦ä¸²å°†è¢«åºåˆ—åŒ–ä¸ºæœ€ç»ˆçš„JSONå¯¹è±¡ï¼Œä½œä¸ºJSONå¯¹è±¡ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸ä»…æ˜¯åºåˆ—åŒ–ä¸ºJSONå¯¹è±¡çš„addresså­—æ®µä¸­çš„å­—ç¬¦ä¸²ã€‚</p><p>è¦æŸ¥çœ‹å…¶å·¥ä½œåŸç†ï¼Œè®©æˆ‘ä»¬åƒä¸‹é¢è¿™æ ·æ›´æ”¹addresså±æ€§çš„å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonRawValue</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonRawValue</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> address  <span class="token operator">=</span>
            <span class="token string">&quot;{ \&quot;street\&quot; : \&quot;Wall Street\&quot;, \&quot;no\&quot;:1}&quot;</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jacksonä¼šå°†å…¶åºåˆ—åŒ–ä¸ºä»¥ä¸‹JSONï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;personId&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;address&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token string">&quot;street&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Wall Street&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;no&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼ŒJSONå­—ç¬¦ä¸²ç°åœ¨å¦‚ä½•æˆä¸ºåºåˆ—åŒ–JSONç»“æ„çš„ä¸€éƒ¨åˆ†ã€‚</p><p>æ²¡æœ‰@JsonRawValueæ³¨è§£ï¼ŒJacksonä¼šå°†å¯¹è±¡åºåˆ—åŒ–ä¸ºä»¥ä¸‹JSONï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;personId&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;{ \&quot;street\&quot; : \&quot;Wall Street\&quot;, \&quot;no\&quot;:1}&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œaddresså±æ€§çš„å€¼ç°åœ¨å¦‚ä½•ç”¨å¼•å·å¼•èµ·æ¥ï¼Œå¹¶ä¸”å€¼å†…çš„æ‰€æœ‰å¼•å·å‡è¢«è½¬ä¹‰ã€‚</p><h4 id="_6ã€-jsonvalue" tabindex="-1"><a class="header-anchor" href="#_6ã€-jsonvalue" aria-hidden="true">#</a> 6ã€@JsonValue</h4><p>Jacksonæ³¨è§£@JsonValueå‘Šè¯‰Jacksonï¼ŒJacksonä¸åº”è¯¥å°è¯•åºåˆ—åŒ–å¯¹è±¡æœ¬èº«ï¼Œè€Œåº”åœ¨å¯¹è±¡ä¸Šè°ƒç”¨å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚ è¯·æ³¨æ„ï¼ŒJacksonå°†åœ¨è‡ªå®šä¹‰åºåˆ—åŒ–è¿”å›çš„Stringå†…è½¬ä¹‰ä»»ä½•å¼•å·ï¼Œå› æ­¤ä¸èƒ½è¿”å›ä¾‹å¦‚ å®Œæ•´çš„JSONå¯¹è±¡ã€‚ ä¸ºæ­¤ï¼Œåº”è¯¥æ”¹ç”¨@JsonRawValueï¼ˆè¯·å‚é˜…ä¸Šä¸€èŠ‚ï¼‰ã€‚</p><p>@JsonValueæ³¨è§£å·²æ·»åŠ åˆ°Jacksonè°ƒç”¨çš„æ–¹æ³•ä¸­ï¼Œä»¥å°†å¯¹è±¡åºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ã€‚ è¿™æ˜¯æ˜¾ç¤ºå¦‚ä½•ä½¿ç”¨@JsonValueæ³¨è§£çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonValue</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonValue</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>personId <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æ±‚Jacksonåºåˆ—åŒ–PersonValueå¯¹è±¡æ‰€å¾—åˆ°çš„è¾“å‡ºæ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token string">&quot;0,null&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¼•å·ç”±Jacksonæ·»åŠ ã€‚ è¯·è®°ä½ï¼Œå¯¹è±¡è¿”å›çš„å€¼å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å¼•å·å‡ä¼šè½¬ä¹‰ã€‚</p><h4 id="_7ã€-jsonserialize" tabindex="-1"><a class="header-anchor" href="#_7ã€-jsonserialize" aria-hidden="true">#</a> 7ã€@JsonSerialize</h4><p>@JsonSerialize Jacksonæ³¨è§£ç”¨äºä¸ºJavaå¯¹è±¡ä¸­çš„å­—æ®µæŒ‡å®šè‡ªå®šä¹‰åºåˆ—åŒ–ç¨‹åºã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨@JsonSerializeæ³¨è§£çš„Javaç±»ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PersonSerializer</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">long</span>   personId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name     <span class="token operator">=</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@JsonSerialize</span><span class="token punctuation">(</span>using <span class="token operator">=</span> <span class="token class-name">OptimizedBooleanSerializer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> enabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„å¯ç”¨å­—æ®µä¸Šæ–¹çš„@JsonSerializeæ³¨è§£ã€‚</p><p>OptimizedBooleanSerializerå°†åºåˆ—çš„çœŸå€¼åºåˆ—åŒ–ä¸º1ï¼Œå°†å‡å€¼åºåˆ—åŒ–ä¸º0ã€‚è¿™æ˜¯ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OptimizedBooleanSerializer</span> <span class="token keyword">extends</span> <span class="token class-name">JsonSerializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Boolean</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token class-name">Boolean</span> aBoolean<span class="token punctuation">,</span> <span class="token class-name">JsonGenerator</span> jsonGenerator<span class="token punctuation">,</span> 
        <span class="token class-name">SerializerProvider</span> serializerProvider<span class="token punctuation">)</span> 
    <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">JsonProcessingException</span> <span class="token punctuation">{</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span>aBoolean<span class="token punctuation">)</span><span class="token punctuation">{</span>
            jsonGenerator<span class="token punctuation">.</span><span class="token function">writeNumber</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            jsonGenerator<span class="token punctuation">.</span><span class="token function">writeNumber</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 895252461@qq.com">xuliang</span><!--]--><!--]--></div></footer><!----><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-c593f505.js" defer></script>
  </body>
</html>
